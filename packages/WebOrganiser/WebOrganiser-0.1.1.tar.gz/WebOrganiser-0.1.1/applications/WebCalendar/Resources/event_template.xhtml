<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
 xmlns:template="http://www.boddie.org.uk/ns/xmltools/template">
<head>
  <title>Event</title>
  <link type="text/css" rel="stylesheet" href="styles/styles.css" />
  <script type="text/javascript" src="scripts/sarissa.js"> </script>
  <script type="text/javascript" src="scripts/XSLForms.js"> </script>
</head>
<body template:element="item">
  <form action="" method="POST" template:element="event">
    <input template:element="created" template:attribute-field="datetime" name="..." value="..." type="hidden"/>
    <input template:element="dtstamp" template:attribute-field="datetime" name="..." value="..." type="hidden"/>
    <input template:element="sequence" template:attribute-field="details" name="..." value="..." type="hidden"/>
    <input template:element="last-modified" template:attribute-field="datetime" name="..." value="..." type="hidden"/>
    <input template:element="class" template:attribute-field="details" name="..." value="..." type="hidden"/>
    <input template:element="priority" template:attribute-field="details" name="..." value="..." type="hidden"/>
    <input template:element="transp" template:attribute-field="details" name="..." value="..." type="hidden"/>
    <table align="center" border="0" cellpadding="5" cellspacing="0" width="90%">
      <thead>
        <tr>
          <th colspan="3" class="header">
            Event
          </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th width="10%">
            Summary
          </th>
          <td colspan="2">
            <input template:element="summary" template:attribute-field="details" name="..." value="..." size="60" type="text"/>
          </td>
        </tr>
        <tr>
          <th width="10%">
            Location
          </th>
          <td colspan="2">
            <input template:element="location" template:attribute-field="details" name="..." value="..." size="60" type="text"/>
          </td>
        </tr>
        <tr>
          <th width="10%">
          </th>
          <th width="45%">
            Start
          </th>
          <th width="45%">
            End
          </th>
        </tr>
        <tr template:id="datetimes-node" id="{template:this-element()}">
          <th width="10%">
          </th>
          <td template:element="dtstart" width="45%" class="calendar">
            <table template:element="month" template:init="no" cellspacing="0" cellpadding="5" border="0" align="center">
              <thead>
                <tr>
                  <th colspan="3">
                    <input name="previous-start" value="Previous" type="submit"
                      onclick="return requestUpdate(
                        'datetimes',
                        'previous-start,{template:other-attributes('datetime', ..)},{template:other-attributes('datetime', ../../dtend)}',
                        '{template:other-elements(../..)}',
                        '',
                        '{template:element-path(template:other-elements(../..))}')
                        "/>
                  </th>
                  <th class="header">
                    <span template:attribute-area="year,replace">year</span>/<span template:attribute-area="number,replace">month number</span>
                  </th>
                  <th colspan="3">
                    <input name="next-start" value="Next" type="submit"
                      onclick="return requestUpdate(
                        'datetimes',
                        'next-start,{template:other-attributes('datetime', ..)},{template:other-attributes('datetime', ../../dtend)}',
                        '{template:other-elements(../..)}',
                        '',
                        '{template:element-path(template:other-elements(../..))}')
                        "/>
                  </th>
                </tr>
                <tr>
                  <!-- NOTE: Proper localisation required. -->
                  <th width="14%" class="header">Mon</th>
                  <th width="14%" class="header">Tue</th>
                  <th width="14%" class="header">Wed</th>
                  <th width="14%" class="header">Thu</th>
                  <th width="14%" class="header">Fri</th>
                  <th width="14%" class="header">Sat</th>
                  <th width="14%" class="header">Sun</th>
                </tr>
              </thead>
              <tbody template:element="week" template:init="no">
                <tr>
                  <td class="day-header-fixed" template:element="day" template:init="no">
                    <span template:attribute-area="number,replace">number</span>
                  </td>
                </tr>
                <tr>
                  <!-- Highlight the day if the end time occurs during or after the day and if the start time occurs before, on or during the day. -->
                  <!-- Note that the comparison operators convert strings to numbers; we must therefore convert datetimes into dates. -->
                  <td template:element="day" template:init="no"
                      class="day-minimum-fixed {template:choice(substring(../../../../dtend/@datetime, 1, 8) &gt;= @date and
                        @date &gt;= substring(../../../@datetime, 1, 8), 'day-region')}">
                    <!-- Refer to the dtstart value attribute. -->
                    <input name="{template:other-attributes('datetime', ../../..)}" value="{@date}" type="radio"
                      template:if="@date != ''" template:expr="starts-with(../../../@datetime, @date)" template:expr-attr="checked"
                      onclick="return requestUpdate(
                        'datetimes',
                        '{template:other-attributes('datetime', ../../..)},{template:other-attributes('datetime', ../../../../dtend)}',
                        '{template:other-elements(../../../..)}',
                        '',
                        '{template:element-path(template:other-elements(../../../..))}'
                        )"/>
                  </td>
                </tr>
              </tbody>
            </table>
          </td>
          <td template:element="dtend" width="45%" class="calendar">
            <table template:element="month" template:init="no" cellspacing="0" cellpadding="5" border="0" align="center">
              <thead>
                <tr>
                  <th colspan="3">
                    <input name="previous-end" value="Previous" type="submit"
                      onclick="return requestUpdate(
                        'datetimes',
                        'previous-end,{template:other-attributes('datetime', ..)},{template:other-attributes('datetime', ../../dtstart)}',
                        '{template:other-elements(../..)}',
                        '',
                        '{template:element-path(template:other-elements(../..))}')
                        "/>
                  </th>
                  <th class="header">
                    <span template:attribute-area="year,replace">year</span>/<span template:attribute-area="number,replace">month number</span>
                  </th>
                  <th colspan="3">
                    <input name="next-end" value="Next" type="submit"
                      onclick="return requestUpdate(
                        'datetimes',
                        'next-end,{template:other-attributes('datetime', ..)},{template:other-attributes('datetime', ../../dtstart)}',
                        '{template:other-elements(../..)}',
                        '',
                        '{template:element-path(template:other-elements(../..))}')
                        "/>
                  </th>
                </tr>
                <tr>
                  <!-- NOTE: Proper localisation required. -->
                  <th width="14%" class="header">Mon</th>
                  <th width="14%" class="header">Tue</th>
                  <th width="14%" class="header">Wed</th>
                  <th width="14%" class="header">Thu</th>
                  <th width="14%" class="header">Fri</th>
                  <th width="14%" class="header">Sat</th>
                  <th width="14%" class="header">Sun</th>
                </tr>
              </thead>
              <tbody template:element="week" template:init="no">
                <tr>
                  <td class="day-header-fixed" template:element="day" template:init="no">
                    <span template:attribute-area="number,replace">number</span>
                  </td>
                </tr>
                <tr>
                  <!-- Highlight the day if the end time occurs during or after the day and if the start time occurs before, on or during the day. -->
                  <!-- Note that the comparison operators convert strings to numbers; we must therefore convert datetimes into dates. -->
                  <td template:element="day" template:init="no"
                      class="day-minimum-fixed {template:choice(substring(../../../../dtstart/@datetime, 1, 8) &lt;= @date and
                        @date &lt;= substring(../../../@datetime, 1, 8), 'day-region')}">
                    <!-- Refer to the dtend value attribute. -->
                    <input name="{template:other-attributes('datetime', ../../..)}" value="{@date}" type="radio"
                      template:if="@date != ''" template:expr="starts-with(../../../@datetime, @date)" template:expr-attr="checked"
                      onclick="return requestUpdate(
                        'datetimes',
                        '{template:other-attributes('datetime', ../../..)},{template:other-attributes('datetime', ../../../../dtstart)}',
                        '{template:other-elements(../../../..)}',
                        '',
                        '{template:element-path(template:other-elements(../../../..))}'
                        )"/>
                  </td>
                </tr>
              </tbody>
            </table>
          </td>
        </tr>
        <tr template:element="organizer-search" template:init="yes">
          <th width="10%">
            Organiser search
          </th>
          <td colspan="2">
            <input template:attribute-field="uri" name="..." value="..." size="60" type="text"/>
            <input name="find-organizer" value="Search" type="submit"/>
            <input template:selector-field="select-organizer,organizer-search" name="..." value="Add organiser" type="submit"/>
          </td>
        </tr>
        <tr template:element="organizer-suggestions,organizer-suggestion" template:init="yes,no">
          <th></th>
          <td colspan="2" xml:space="preserve">
            <span template:attribute-area="uri,replace">URI</span>
            <input template:attribute-field="uri" name="..." value="..." size="60" type="hidden"/>
            <input template:selector-field="select-organizer,organizer-suggestion" name="..." value="Add organiser" type="submit"/>
          </td>
        </tr>
        <tr template:element="organizers,organizer" template:init="yes,no">
          <th width="10%">
            Organiser
          </th>
          <td colspan="2" xml:space="preserve">
            <span template:attribute-area="uri,replace">URI</span>
            <input template:attribute-field="uri" name="..." value="..." size="60" type="hidden"/>
            <input template:selector-field="remove" name="..." value="Remove" type="submit"/>
          </td>
        </tr>
        <tr template:element="attendee-search" template:init="yes">
          <th width="10%">
            Attendee search
          </th>
          <td colspan="2">
            <input template:attribute-field="uri" name="..." value="..." size="60" type="text"/>
            <input name="find-attendee" value="Search" type="submit"/>
            <input template:selector-field="select-attendee,attendee-search" name="..." value="Add attendee" type="submit"/>
          </td>
        </tr>
        <tr template:element="attendee-suggestions,attendee-suggestion" template:init="yes,no">
          <th></th>
          <td colspan="2" xml:space="preserve">
            <span template:attribute-area="uri,replace">URI</span>
            <input template:attribute-field="uri" name="..." value="..." size="60" type="hidden"/>
            <input template:selector-field="select-attendee,attendee-suggestion" name="..." value="Add attendee" type="submit"/>
          </td>
        </tr>
        <tr template:element="attendees,attendee" template:init="yes,no">
          <th width="10%">
            Attendee
          </th>
          <td colspan="2" xml:space="preserve">
            <span template:attribute-area="uri,replace">URI</span>
            <input template:attribute-field="uri" name="..." value="..." size="60" type="hidden"/>
            <input template:selector-field="remove" name="..." value="Remove" type="submit"/>
          </td>
        </tr>
        <tr>
          <td colspan="3">
            <input name="update" value="Update" type="submit"/>
            <input name="save" value="Save changes" type="submit"/>
            <input name="cancel" value="Cancel" type="submit"/>
          </td>
        </tr>
      </tbody>
    </table>
  </form>
</body>
</html>
