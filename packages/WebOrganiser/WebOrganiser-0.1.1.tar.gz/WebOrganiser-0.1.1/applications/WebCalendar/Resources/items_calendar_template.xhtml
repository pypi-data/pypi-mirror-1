<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
 xmlns:template="http://www.boddie.org.uk/ns/xmltools/template">
<head>
  <title>Items</title>
  <link type="text/css" rel="stylesheet" href="styles/styles.css" />
</head>
<body template:element="items">
  <form action="" method="POST">
    <div class="controls">
      <input name="download" type="submit" value="Download"/>
      <input name="download-all" type="submit" value="Download all"/>
    </div>
    <div class="view" template:element="month">
      <table align="center" border="0" cellpadding="5" cellspacing="0" width="100%">
        <thead>
          <tr>
            <th>
              <a href="{template:choice(/items/@filtered, '../')}../../../{@year-previous}/{@number-previous}/{/items/@filter-type}/">Previous</a>
            </th>
            <th class="header">
              <span template:attribute="year" template:value="$this-value">year</span>/<span template:attribute="number"
                template:value="$this-value">month number</span>
            </th>
            <th>
              <a href="{template:choice(/items/@filtered, '../')}../../../{@year-next}/{@number-next}/{/items/@filter-type}/">Next</a>
            </th>
            <th xml:space="preserve" colspan="4">
              <a href="{template:choice(/items/@filtered, '../')}../../../{@year}/{@number}/all">all</a>
              <a href="{template:choice(/items/@filtered, '../')}../../../{@year}/{@number}/card">card</a>
              <a href="{template:choice(/items/@filtered, '../')}../../../{@year}/{@number}/event">event</a>
              <a href="{template:choice(/items/@filtered, '../')}../../../{@year}/{@number}/message">message</a>
              <a href="{template:choice(/items/@filtered, '../')}../../../{@year}/{@number}/to-do">to-do</a>
            </th>
          </tr>
          <tr>
            <!-- NOTE: Proper localisation required. -->
            <th width="14%" class="header">Mon</th>
            <th width="14%" class="header">Tue</th>
            <th width="14%" class="header">Wed</th>
            <th width="14%" class="header">Thu</th>
            <th width="14%" class="header">Fri</th>
            <th width="14%" class="header">Sat</th>
            <th width="14%" class="header">Sun</th>
          </tr>
        </thead>
        <tbody template:element="week">
          <tr>
            <td width="10%" class="day-header" template:element="day">
              <span template:attribute="number" template:value="$this-value">number</span>
            </td>
          </tr>
          <tr>
            <td template:element="day" class="day-minimum">
              <div template:element="item" xml:space="preserve">
                <span template:if="substring(created/@datetime, 1, 8) = ../@date">
                  <em>Created:</em>
                </span>
                <a href="{template:choice(/items/@filtered, '../')}../{@item-type}/{template:url-encode(template:url-encode(@item-value))}/">
                  <span template:element="summary" template:attribute-area="details,replace">summary</span>
                </a>
                <a template:if="@item-type = 'to-do'"
                  href="{template:choice(/items/@filtered, '../')}../related-to/{template:url-encode(template:url-encode(@item-value))}/">
                  (Related)
                </a>
                <span template:element="dtstart" template:attribute="datetime" template:value="$this-value">dtstart</span>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </form>
</body>
</html>
