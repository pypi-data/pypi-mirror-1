<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
 xmlns:template="http://www.boddie.org.uk/ns/xmltools/template">
<head>
  <title>Event</title>
  <link type="text/css" rel="stylesheet" href="{$root}styles/styles.css" />
  <script type="text/javascript" src="{$root}scripts/sarissa.js"> </script>
  <script type="text/javascript" src="{$root}scripts/XSLForms.js"> </script>
</head>
<body template:element="item">
  <form action="" method="POST" template:element="event">
    <input template:element="created" template:attribute-field="datetime" name="..." value="..." type="hidden"/>
    <input template:element="dtstamp" template:attribute-field="datetime" name="..." value="..." type="hidden"/>
    <input template:element="sequence" template:attribute-field="details" name="..." value="..." type="hidden"/>
    <input template:element="last-modified" template:attribute-field="datetime" name="..." value="..." type="hidden"/>
    <input template:element="class" template:attribute-field="details" name="..." value="..." type="hidden"/>
    <input template:element="priority" template:attribute-field="details" name="..." value="..." type="hidden"/>
    <input template:element="transp" template:attribute-field="details" name="..." value="..." type="hidden"/>
    <input template:element="related-to" template:attribute-field="uri" name="..." value="..." type="hidden"/>
    <table align="center" border="0" cellpadding="5" cellspacing="0" width="100%">
      <thead>
        <tr>
          <th colspan="3" class="header" template:i18n="-">Event</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <th width="10%" template:i18n="-">Summary</th>
          <td colspan="2">
            <input template:element="summary" template:attribute-field="details" name="..." value="..." size="60" type="text"/>
          </td>
        </tr>
        <tr>
          <th width="10%" template:i18n="-">Location</th>
          <td colspan="2">
            <input template:element="location" template:attribute-field="details" name="..." value="..." size="60" type="text"/>
          </td>
        </tr>
        <tr>
          <th width="10%" template:i18n="-">Description</th>
          <td colspan="2">
            <textarea template:element="description" template:attribute-area="details" name="..." value="..." cols="60" rows="5"/>
          </td>
        </tr>
        <tr>
          <th width="10%">
          </th>
          <th width="45%" template:i18n="-">Start</th>
          <th width="45%" template:i18n="-">End</th>
        </tr>
      </tbody>

      <!-- Refreshable datetime area. -->

      <tbody template:section="datetimes-node" id="{template:this-element()}">
        <tr>
          <th width="10%">
          </th>

          <!-- Calendars. -->

          <td template:element="dtstart" width="45%" class="calendar">
            <table template:element="month" template:init="no" cellspacing="0" cellpadding="5" border="0" align="center">
              <thead>
                <tr>
                  <th colspan="3">
                    <input name="previous-start" value="{template:i18n('Previous')}" type="submit"
                      onclick="return requestUpdate(
                        'event-datetimes',
                        'previous-start,{template:other-attributes('year', .)},{template:other-attributes('number', .)},{template:other-attributes('year', ../../dtend/month)},{template:other-attributes('number', ../../dtend/month)},{template:other-attributes('date', ../../dtend)}',
                        '{template:other-elements(../..)}',
                        '',
                        '{template:element-path(template:other-elements(../..))}')
                        "/>
                  </th>
                  <th class="month-header" xml:space="preserve">
                    <span template:attribute-area="number,replace" template:i18n="{concat('month-', $this-value)}">month number</span>
                    <span template:attribute-area="year,replace">year</span>
                    <!-- Remember the year and month number for navigation. -->
                    <input template:attribute-field="year" name="..." value="..." type="hidden"/>
                    <input template:attribute-field="number" name="..." value="..." type="hidden"/>
                  </th>
                  <th colspan="3">
                    <input name="next-start" value="{template:i18n('Next')}" type="submit"
                      onclick="return requestUpdate(
                        'event-datetimes',
                        'next-start,{template:other-attributes('year', .)},{template:other-attributes('number', .)},{template:other-attributes('year', ../../dtend/month)},{template:other-attributes('number', ../../dtend/month)},{template:other-attributes('date', ../../dtend)}',
                        '{template:other-elements(../..)}',
                        '',
                        '{template:element-path(template:other-elements(../..))}')
                        "/>
                  </th>
                </tr>
                <tr>
                  <th width="14%" class="day-name-header" template:i18n="-">Mon</th>
                  <th width="14%" class="day-name-header" template:i18n="-">Tue</th>
                  <th width="14%" class="day-name-header" template:i18n="-">Wed</th>
                  <th width="14%" class="day-name-header" template:i18n="-">Thu</th>
                  <th width="14%" class="day-name-header" template:i18n="-">Fri</th>
                  <th width="14%" class="day-name-header" template:i18n="-">Sat</th>
                  <th width="14%" class="day-name-header" template:i18n="-">Sun</th>
                </tr>
              </thead>
              <tbody template:element="week" template:init="no">
                <tr>
                  <td class="day-header-fixed" template:element="day" template:init="no">
                    <span template:attribute-area="number,replace">number</span>
                  </td>
                </tr>
                <tr>
                  <!-- Highlight the day if marked. -->
                  <td template:element="day" template:init="no"
                      class="day-minimum-fixed {template:choice(@marked = 'true', 'day-region')} {template:choice(@today = 'true', 'day-today')}">
                    <!-- Refer to the dtstart value attribute. -->
                    <input name="{template:other-attributes('date', ../../..)}" value="{@date}" type="radio"
                      template:if="@date != ''" template:expr="@start = 'true'" template:expr-attr="checked"
                      onclick="return requestUpdate(
                        'event-datetimes',
                        '{template:other-attributes('year', ../..)},{template:other-attributes('number', ../..)},{template:other-attributes('date', ../../..)},{template:other-attributes('year', ../../../../dtend/month)},{template:other-attributes('number', ../../../../dtend/month)},{template:other-attributes('date', ../../../../dtend)}',
                        '{template:other-elements(../../../..)}',
                        '',
                        '{template:element-path(template:other-elements(../../../..))}'
                        )"/>
                  </td>
                </tr>
              </tbody>
            </table>
          </td>
          <td template:element="dtend" width="45%" class="calendar">
            <table template:element="month" template:init="no" cellspacing="0" cellpadding="5" border="0" align="center">
              <thead>
                <tr>
                  <th colspan="3">
                    <input name="previous-end" value="{template:i18n('Previous')}" type="submit"
                      onclick="return requestUpdate(
                        'event-datetimes',
                        'previous-end,{template:other-attributes('year', .)},{template:other-attributes('number', .)},{template:other-attributes('year', ../../dtstart/month)},{template:other-attributes('number', ../../dtstart/month)},{template:other-attributes('date', ../../dtstart)}',
                        '{template:other-elements(../..)}',
                        '',
                        '{template:element-path(template:other-elements(../..))}')
                        "/>
                  </th>
                  <th class="month-header" xml:space="preserve">
                    <span template:attribute-area="number,replace" template:i18n="{concat('month-', $this-value)}">month number</span>
                    <span template:attribute-area="year,replace">year</span>
                    <!-- Remember the year and month number for navigation. -->
                    <input template:attribute-field="year" name="..." value="..." type="hidden"/>
                    <input template:attribute-field="number" name="..." value="..." type="hidden"/>
                  </th>
                  <th colspan="3">
                    <input name="next-end" value="{template:i18n('Next')}" type="submit"
                      onclick="return requestUpdate(
                        'event-datetimes',
                        'next-end,{template:other-attributes('year', .)},{template:other-attributes('number', .)},{template:other-attributes('year', ../../dtstart/month)},{template:other-attributes('number', ../../dtstart/month)},{template:other-attributes('date', ../../dtstart)}',
                        '{template:other-elements(../..)}',
                        '',
                        '{template:element-path(template:other-elements(../..))}')
                        "/>
                  </th>
                </tr>
                <tr>
                  <th width="14%" class="day-name-header" template:i18n="-">Mon</th>
                  <th width="14%" class="day-name-header" template:i18n="-">Tue</th>
                  <th width="14%" class="day-name-header" template:i18n="-">Wed</th>
                  <th width="14%" class="day-name-header" template:i18n="-">Thu</th>
                  <th width="14%" class="day-name-header" template:i18n="-">Fri</th>
                  <th width="14%" class="day-name-header" template:i18n="-">Sat</th>
                  <th width="14%" class="day-name-header" template:i18n="-">Sun</th>
                </tr>
              </thead>
              <tbody template:element="week" template:init="no">
                <tr>
                  <td class="day-header-fixed" template:element="day" template:init="no">
                    <span template:attribute-area="number,replace">number</span>
                  </td>
                </tr>
                <tr>
                  <!-- Highlight the day if marked. -->
                  <td template:element="day" template:init="no"
                      class="day-minimum-fixed {template:choice(@marked = 'true', 'day-region')} {template:choice(@today = 'true', 'day-today')}">
                    <!-- Refer to the dtend value attribute. -->
                    <input name="{template:other-attributes('date', ../../..)}" value="{@date}" type="radio"
                      template:if="@date != ''" template:expr="@end = 'true'" template:expr-attr="checked"
                      onclick="return requestUpdate(
                        'event-datetimes',
                        '{template:other-attributes('year', ../..)},{template:other-attributes('number', ../..)},{template:other-attributes('date', ../../..)},{template:other-attributes('year', ../../../../dtstart/month)},{template:other-attributes('number', ../../../../dtstart/month)},{template:other-attributes('date', ../../../../dtstart)}',
                        '{template:other-elements(../../../..)}',
                        '',
                        '{template:element-path(template:other-elements(../../../..))}'
                        )"/>
                  </td>
                </tr>
              </tbody>
            </table>
          </td>
        </tr>
      </tbody>
      <tbody>
        <tr>
          <th width="10%" template:i18n="-">Times</th>

          <!-- Day plans. -->

          <td template:element="dtstart-time">
            <div xml:space="preserve">
              <input template:attribute-button="use-time,false,checked" type="radio" name="..." value="..."/>
              <span template:i18n="-">No start time</span>
            </div>
            <div xml:space="preserve">
              <input template:attribute-button="use-time,true,checked" type="radio" name="..." value="..."/>
              <span template:i18n="-">Start time given as...</span>
              <select template:multiple-choice-field="hour,value" name="...">
                <option template:multiple-choice-value="hour-enum,value,selected" template:i18n="{@value}" value="..."/>
              </select>
              <select template:multiple-choice-field="minute,value" name="...">
                <option template:multiple-choice-value="minute-enum,value,selected" template:i18n="{@value}" value="..."/>
              </select>
              <select template:multiple-choice-field="second,value" name="...">
                <option template:multiple-choice-value="second-enum,value,selected" template:i18n="{@value}" value="..."/>
              </select>
            </div>
          </td>
          <td template:element="dtend-time">
            <div xml:space="preserve">
              <input template:attribute-button="use-time,false,checked" type="radio" name="..." value="..."/>
              <span template:i18n="-">No end time</span>
            </div>
            <div xml:space="preserve">
              <input template:attribute-button="use-time,true,checked" type="radio" name="..." value="..."/>
              <span template:i18n="-">End time given as...</span>
              <select template:multiple-choice-field="hour,value" name="...">
                <option template:multiple-choice-value="hour-enum,value,selected" template:i18n="{@value}" value="..."/>
              </select>
              <select template:multiple-choice-field="minute,value" name="...">
                <option template:multiple-choice-value="minute-enum,value,selected" template:i18n="{@value}" value="..."/>
              </select>
              <select template:multiple-choice-field="second,value" name="...">
                <option template:multiple-choice-value="second-enum,value,selected" template:i18n="{@value}" value="..."/>
              </select>
            </div>
          </td>
        </tr>
      </tbody>
      <tbody>

        <!-- Organiser/attendee. -->

        <tr template:element="organizers,organizer" template:init="yes,no">
          <th width="10%" template:i18n="-">Organiser</th>
          <td colspan="2" xml:space="preserve">
            <span template:attribute-area="fn,replace">full name</span>
            &lt;<span template:attribute-area="email,replace">e-mail</span>&gt;
            (<span template:attribute-area="uri,replace">URI</span>)
            <input template:attribute-field="fn" name="..." value="..." type="hidden"/>
            <input template:attribute-field="email" name="..." value="..." type="hidden"/>
            <input template:attribute-field="uri" name="..." value="..." type="hidden"/>
            <input template:selector-field="remove" name="..." value="{template:i18n('Remove')}" type="submit"/>
          </td>
        </tr>
        <tr template:element="attendees,attendee" template:init="yes,no">
          <th width="10%" template:i18n="-">Attendee</th>
          <td colspan="2" xml:space="preserve">
            <span template:attribute-area="fn,replace">full name</span>
            &lt;<span template:attribute-area="email,replace">e-mail</span>&gt;
            (<span template:attribute-area="uri,replace">URI</span>)
            <input template:attribute-field="fn" name="..." value="..." type="hidden"/>
            <input template:attribute-field="email" name="..." value="..." type="hidden"/>
            <input template:attribute-field="uri" name="..." value="..." type="hidden"/>
            <input template:selector-field="remove" name="..." value="{template:i18n('Remove')}" type="submit"/>
          </td>
        </tr>
        <tr template:element="person-search" template:init="yes">
          <th width="10%" template:i18n="-">Person search</th>
          <td colspan="2">
            <input template:attribute-field="term" name="..." value="..." size="60" type="text"/>
            <input name="find-person" value="{template:i18n('Search')}" type="submit"/>
          </td>
        </tr>
        <tr template:element="person-suggestions,card" template:init="yes,no">
          <th></th>
          <td colspan="2" xml:space="preserve">
            <span template:element="fn">
              <span template:attribute-area="details,replace">full name</span>
              <input template:attribute-field="details" name="..." value="..." type="hidden"/>
            </span>
            <span template:element="email">
              &lt;<span template:attribute-area="details,replace">e-mail</span>&gt;
              <input template:attribute-field="details" name="..." value="..." type="hidden"/>
            </span>
            <span template:element="uid">
              (<span template:attribute-area="details,replace">URI</span>)
              <input template:attribute-field="details" name="..." value="..." type="hidden"/>
            </span>
            <input template:selector-field="select-organizer,card" name="..." value="{template:i18n('Add as organiser')}" type="submit"/>
            <input template:selector-field="select-attendee,card" name="..." value="{template:i18n('Add as attendee')}" type="submit"/>
          </td>
        </tr>
        <tr>
          <td colspan="3">
            <input name="update" value="{template:i18n('Update')}" type="submit"/>
            <input name="save" value="{template:i18n('Save changes')}" type="submit"/>
            <input name="cancel" value="{template:i18n('Cancel')}" type="submit"/>
          </td>
        </tr>
      </tbody>
    </table>
  </form>
</body>
</html>
