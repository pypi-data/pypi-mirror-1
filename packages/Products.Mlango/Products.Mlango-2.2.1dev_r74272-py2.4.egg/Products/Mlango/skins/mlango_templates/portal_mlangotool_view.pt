<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="here/prefs_main_template/macros/master"
      i18n:domain="mlango">

 <metal:block fill-slot="top_slot"/>

    <div metal:fill-slot="prefs_configlet_content"
         tal:define="errors python:request.get('errors', {});"
         class="configlet">
         <h1> Simple Overview of Registrated Viewlets </h1>
         <table tal:define="
	    getToolByName nocall:modules/Products.CMFCore.utils/getToolByName;
	    tool python: getToolByName(context, 'portal_mlangotool');"
	    tal:attributes="class string: mlangoviewlets-table">
            <tr>
               <th>Viewlet ID</th>
               <th>Icon</th>
               <th>Fixed</th>
               <th>type</th>
           </tr>
            <tr tal:repeat="viewlet_id python: tool.listViewletIds()">
            <div tal:define="viewlet python: tool.getViewlet(viewlet_id)">
		<td><a href="" target="_blank" tal:content="viewlet/getId" tal:attributes="href python: viewlet.absolute_url()">Viewletid</a></td>
                <td><img src ="" tal:attributes="src viewlet/viewleticon/absolute_url"/></td>
                <td tal:content="viewlet/fixed">Fixed</td>
                <td tal:content="viewlet/portal_type">Type</td>
            </div>
            </tr>
         </table>
         <br/>
	 <h1> Quick links to add new viewlets </h1>
         <a target="_blank" href="createObject?type_name=MlangoRSSViewlet">Add RSS viewlet</a><br>
         <a target="_blank" href="createObject?type_name=MlangoCustomViewlet">Add Custom viewlet</a><br>
        </div>
</html>