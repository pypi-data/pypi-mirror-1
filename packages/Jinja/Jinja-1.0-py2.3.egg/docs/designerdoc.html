<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <title>Designer Documentation &mdash; Jinja Documentation</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <link rel="stylesheet" href="style.css" type="text/css">
  <style type="text/css">
    .syntax  { background: #ffffff; }
.syntax .c { color: #888888 } /* Comment */
.syntax .err { color: #a61717; background-color: #e3d2d2 } /* Error */
.syntax .k { color: #008800; font-weight: bold } /* Keyword */
.syntax .cm { color: #888888 } /* Comment.Multiline */
.syntax .cp { color: #cc0000; font-weight: bold } /* Comment.Preproc */
.syntax .c1 { color: #888888 } /* Comment.Single */
.syntax .cs { color: #cc0000; font-weight: bold; background-color: #fff0f0 } /* Comment.Special */
.syntax .gd { color: #000000; background-color: #ffdddd } /* Generic.Deleted */
.syntax .ge { font-style: italic } /* Generic.Emph */
.syntax .gr { color: #aa0000 } /* Generic.Error */
.syntax .gh { color: #999999 } /* Generic.Heading */
.syntax .gi { color: #000000; background-color: #ddffdd } /* Generic.Inserted */
.syntax .go { color: #888888 } /* Generic.Output */
.syntax .gp { color: #555555 } /* Generic.Prompt */
.syntax .gs { font-weight: bold } /* Generic.Strong */
.syntax .gu { color: #aaaaaa } /* Generic.Subheading */
.syntax .gt { color: #aa0000 } /* Generic.Traceback */
.syntax .kc { color: #008800; font-weight: bold } /* Keyword.Constant */
.syntax .kd { color: #008800; font-weight: bold } /* Keyword.Declaration */
.syntax .kp { color: #008800 } /* Keyword.Pseudo */
.syntax .kr { color: #008800; font-weight: bold } /* Keyword.Reserved */
.syntax .kt { color: #888888; font-weight: bold } /* Keyword.Type */
.syntax .m { color: #0000DD; font-weight: bold } /* Literal.Number */
.syntax .s { color: #dd2200; background-color: #fff0f0 } /* Literal.String */
.syntax .na { color: #336699 } /* Name.Attribute */
.syntax .nb { color: #003388 } /* Name.Builtin */
.syntax .nc { color: #bb0066; font-weight: bold } /* Name.Class */
.syntax .no { color: #003366; font-weight: bold } /* Name.Constant */
.syntax .nd { color: #555555 } /* Name.Decorator */
.syntax .ne { color: #bb0066; font-weight: bold } /* Name.Exception */
.syntax .nf { color: #0066bb; font-weight: bold } /* Name.Function */
.syntax .nl { color: #336699; font-style: italic } /* Name.Label */
.syntax .nn { color: #bb0066; font-weight: bold } /* Name.Namespace */
.syntax .py { color: #336699; font-weight: bold } /* Name.Property */
.syntax .nt { color: #bb0066; font-weight: bold } /* Name.Tag */
.syntax .nv { color: #336699 } /* Name.Variable */
.syntax .ow { color: #008800 } /* Operator.Word */
.syntax .mf { color: #0000DD; font-weight: bold } /* Literal.Number.Float */
.syntax .mh { color: #0000DD; font-weight: bold } /* Literal.Number.Hex */
.syntax .mi { color: #0000DD; font-weight: bold } /* Literal.Number.Integer */
.syntax .mo { color: #0000DD; font-weight: bold } /* Literal.Number.Oct */
.syntax .sb { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Backtick */
.syntax .sc { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Char */
.syntax .sd { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Doc */
.syntax .s2 { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Double */
.syntax .se { color: #0044dd; background-color: #fff0f0 } /* Literal.String.Escape */
.syntax .sh { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Heredoc */
.syntax .si { color: #3333bb; background-color: #fff0f0 } /* Literal.String.Interpol */
.syntax .sx { color: #22bb22; background-color: #f0fff0 } /* Literal.String.Other */
.syntax .sr { color: #008800; background-color: #fff0ff } /* Literal.String.Regex */
.syntax .s1 { color: #dd2200; background-color: #fff0f0 } /* Literal.String.Single */
.syntax .ss { color: #aa6600; background-color: #fff0f0 } /* Literal.String.Symbol */
.syntax .bp { color: #003388 } /* Name.Builtin.Pseudo */
.syntax .vc { color: #336699 } /* Name.Variable.Class */
.syntax .vg { color: #dd7700 } /* Name.Variable.Global */
.syntax .vi { color: #3333bb } /* Name.Variable.Instance */
.syntax .il { color: #0000DD; font-weight: bold } /* Literal.Number.Integer.Long */
  </style>
</head>
<body>
  <div id="content">
    
      <h1 class="heading"><span>Jinja</span></h1>
      <h2 class="subheading">Designer Documentation</h2>
    
    
    <div id="toc">
      <h2>Navigation</h2>
      <ul>
        <li><a href="index.html">back to index</a></li>
      </ul>
      
        <h2>Contents</h2>
        <ul class="contents">
        
          <li><a href="#basics">Basics</a></li>
        
          <li><a href="#filters">Filters</a></li>
        
          <li><a href="#tests">Tests</a></li>
        
          <li><a href="#global-functions">Global Functions</a></li>
        
          <li><a href="#loops">Loops</a></li>
        
          <li><a href="#cycling">Cycling</a></li>
        
          <li><a href="#conditions">Conditions</a></li>
        
          <li><a href="#operators">Operators</a></li>
        
          <li><a href="#boolean-values">Boolean Values</a></li>
        
          <li><a href="#slicing">Slicing</a></li>
        
          <li><a href="#macros">Macros</a></li>
        
          <li><a href="#inheritance">Inheritance</a></li>
        
          <li><a href="#template-inclusion">Template Inclusion</a></li>
        
          <li><a href="#filtering-blocks">Filtering Blocks</a></li>
        
          <li><a href="#defining-variables">Defining Variables</a></li>
        
          <li><a href="#scopes">Scopes</a></li>
        
          <li><a href="#undefined-variables">Undefined Variables</a></li>
        
          <li><a href="#escaping">Escaping</a></li>
        
          <li><a href="#reserved-keywords">Reserved Keywords</a></li>
        
          <li><a href="#internationalization">Internationalization</a></li>
        
        </ul>
      
    </div>
    
    <div id="contentwrapper">
      <p>This part of the Jinja documentaton is meant for template designers.</p>
<div class="section">
<h3><a id="basics" name="basics">Basics</a></h3>
<p>The Jinja template language is designed to strike a balance between content
and application logic. Nevertheless you can use a python like statement
language. You don't have to know how Python works to create Jinja templates,
but if you know it you can use some additional statements you may know from
Python.</p>
<p>Here is a small example template:</p>
<div class="syntax"><pre><span class="cp">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot;</span>
<span class="cp"> &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;</span>
<span class="nt">&lt;html</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.w3.org/1999/xhtml&quot;</span> <span class="na">lang=</span><span class="s">&quot;en&quot;</span> <span class="na">xml:lang=</span><span class="s">&quot;en&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;</span>My Webpage<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;ul</span> <span class="na">id=</span><span class="s">&quot;navigation&quot;</span><span class="nt">&gt;</span>
    <span class="cp">{%</span> <span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">navigation</span> <span class="cp">%}</span>
        <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">item.href</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">item.caption</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
    <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
    <span class="nt">&lt;/ul&gt;</span>

    <span class="nt">&lt;h1&gt;</span>My Webpage<span class="nt">&lt;/h1&gt;</span>
    <span class="cp">{{</span> <span class="nv">variable</span> <span class="cp">}}</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
<p>This covers the default settings. The application developer might have changed
the syntax from <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">foo</span> <span class="pre">%}</span></tt> to <tt class="docutils literal"><span class="pre">&lt;%</span> <span class="pre">foo</span> <span class="pre">%&gt;</span></tt> or something similar. This
documentation just covers the default values.</p>
<p>A variable looks like <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">foobar</span> <span class="pre">}}</span></tt> where foobar is the variable name. Inside
of statements (<tt class="docutils literal"><span class="pre">{%</span> <span class="pre">some</span> <span class="pre">content</span> <span class="pre">here</span> <span class="pre">%}</span></tt>) variables are just normal names
without the braces around it. In fact <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">foobar</span> <span class="pre">}}</span></tt> is just an alias for
the statement <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">print</span> <span class="pre">foobar</span> <span class="pre">%}</span></tt>.</p>
<p>Variables are coming from the context provided by the application. Normally there
should be a documentation regarding the context contents but if you want to know
the content of the current context, you can add this to your template:</p>
<div class="syntax"><pre><span class="nt">&lt;pre&gt;</span><span class="cp">{{</span> <span class="nv">debug</span><span class="o">()|</span><span class="nf">e</span> <span class="cp">}}</span><span class="nt">&lt;/pre&gt;</span>
</pre></div>
<p>A context isn't flat which means that each variable can has subvariables, as long
as it is representable as python data structure. You can access attributes of
a variable using the dot and bracket operators. The following examples show
this:</p>
<div class="syntax"><pre><span class="cp">{{</span> <span class="nv">user.username</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">    is the same as</span>
<span class="cp">{{</span> <span class="nv">user</span><span class="o">[</span><span class="s1">&#39;username&#39;</span><span class="o">]</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">    you can also use a variable to access an attribute:</span>
<span class="cp">{{</span> <span class="nv">users</span><span class="o">[</span><span class="nv">current_user</span><span class="o">]</span><span class="nv">.username</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">    If you have numerical indices you have to use the [] syntax:</span>
<span class="cp">{{</span> <span class="nv">users</span><span class="o">[</span><span class="m">0</span><span class="o">]</span><span class="nv">.username</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<div class="section">
<h3><a id="filters" name="filters">Filters</a></h3>
<p>In the examples above you might have noticed the pipe symbols. Pipe symbols tell
the engine that it has to apply a filter on the variable. Here is a small example:</p>
<div class="syntax"><pre><span class="cp">{{</span> <span class="nv">variable</span><span class="o">|</span><span class="nf">replace</span><span class="o">(</span><span class="s1">&#39;foo&#39;</span><span class="o">,</span> <span class="s1">&#39;bar&#39;</span><span class="o">)|</span><span class="nf">escape</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
<p>If you want, you can also put whitespace between the filters.</p>
<p>This will look for a variable <cite>variable</cite>, pass it to the filter <cite>replace</cite>
with the arguments <tt class="docutils literal"><span class="pre">'foo'</span></tt> and <tt class="docutils literal"><span class="pre">'bar'</span></tt>, and pass the result to the filter
<cite>escape</cite> that automatically XML-escapes the value. The <cite>e</cite> filter is an alias for
<cite>escape</cite>. Here is the complete list of supported filters:</p>
<dl class="docutils">
<dt><cite>capitalize</cite></dt>
<dd>Capitalize a value. The first character will be uppercase, all others
lowercase.</dd>
<dt><cite>capture</cite></dt>
<dd><p class="first">Store the value in a variable called <tt class="docutils literal"><span class="pre">captured</span></tt> or a variable
with the name provided. Useful for filter blocks:</p>
<div class="syntax"><pre><span class="cp">{%</span> <span class="k">filter</span> <span class="nv">capture</span><span class="o">(</span><span class="s1">&#39;foo&#39;</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    ...</span>
<span class="cp">{%</span> <span class="k">endfilter</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">foo</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
<p>This will output &quot;...&quot; two times. One time from the filter block
and one time from the variable. If you don't want the filter to
output something you can use it in <cite>clean</cite> mode:</p>
<div class="last"><div class="syntax"><pre><span class="cp">{%</span> <span class="k">filter</span> <span class="nv">capture</span><span class="o">(</span><span class="s1">&#39;foo&#39;</span><span class="o">,</span> <span class="nv">True</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    ...</span>
<span class="cp">{%</span> <span class="k">endfilter</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">foo</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div></dd>
<dt><cite>center</cite></dt>
<dd>Centers the value in a field of a given width.</dd>
<dt><cite>default</cite></dt>
<dd><p class="first">If the value is undefined it will return the passed default value,
otherwise the value of the variable:</p>
<div class="syntax"><pre><span class="cp">{{</span> <span class="nv">my_variable</span><span class="o">|</span><span class="nf">default</span><span class="o">(</span><span class="s1">&#39;my_variable is not defined&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
<p>This will output the value of <tt class="docutils literal"><span class="pre">my_variable</span></tt> if the variable was
defined, otherwise <tt class="docutils literal"><span class="pre">'my_variable</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">defined'</span></tt>. If you want
to use default with variables that evaluate to false you have to
set the second parameter to <cite>true</cite>:</p>
<div class="last"><div class="syntax"><pre><span class="cp">{{</span> <span class="s1">&#39;&#39;</span><span class="o">|</span><span class="nf">default</span><span class="o">(</span><span class="s1">&#39;the string was empty&#39;</span><span class="o">,</span> <span class="kp">true</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div></dd>
<dt><cite>dictsort</cite></dt>
<dd><p class="first">Sort a dict and yield (key, value) pairs. Because python dicts are
unsorted you may want to use this function to order them by either
key or value:</p>
<div class="last"><div class="syntax"><pre><span class="cp">{%</span> <span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">mydict</span><span class="o">|</span><span class="nf">dictsort</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    sort the dict by key, case insensitive</span>

<span class="cp">{%</span> <span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">mydict</span><span class="o">|</span><span class="nf">dicsort</span><span class="o">(</span><span class="kp">true</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    sort the dict by key, case sensitive</span>

<span class="cp">{%</span> <span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">mydict</span><span class="o">|</span><span class="nf">dictsort</span><span class="o">(</span><span class="kp">false</span><span class="o">,</span> <span class="s1">&#39;value&#39;</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    sort the dict by key, case insensitive, sorted</span>
<span class="x">    normally and ordered by value.</span>
</pre></div>
</div></dd>
<dt><cite>escape</cite></dt>
<dd><p class="first">XML escape <tt class="docutils literal"><span class="pre">&amp;</span></tt>, <tt class="docutils literal"><span class="pre">&lt;</span></tt>, and <tt class="docutils literal"><span class="pre">&gt;</span></tt> in a string of data. If the
optional parameter is <cite>true</cite> this filter will also convert
<tt class="docutils literal"><span class="pre">&quot;</span></tt> to <tt class="docutils literal"><span class="pre">&amp;quot;</span></tt>. This filter is just used if the environment
was configured with disabled <cite>auto_escape</cite>.</p>
<p>This method will have no effect it the value is already escaped.</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Aliases:</th><td class="field-body">e</td>
</tr>
</tbody>
</table>
</dd>
<dt><cite>filesizeformat</cite></dt>
<dd>Format the value like a 'human-readable' file size (i.e. 13 KB, 4.1 MB, 102
bytes, etc).</dd>
<dt><cite>first</cite></dt>
<dd>Return the frist item of a sequence.</dd>
<dt><cite>float</cite></dt>
<dd>Convert the value into a floating point number. If the
conversion doesn't work it will return <tt class="docutils literal"><span class="pre">0.0</span></tt>. You can
override this default using the first parameter.</dd>
<dt><cite>format</cite></dt>
<dd><p class="first">Apply python string formatting on an object:</p>
<div class="syntax"><pre><span class="cp">{{</span> <span class="s2">&quot;%s - %s&quot;</span><span class="o">|</span><span class="nf">format</span><span class="o">(</span><span class="s2">&quot;Hello?&quot;</span><span class="o">,</span> <span class="s2">&quot;Foo!&quot;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">    -&gt; Hello? - Foo!</span>
</pre></div>
<p class="last">Note that you cannot use the mapping syntax (<tt class="docutils literal"><span class="pre">%(name)s</span></tt>)
like in python.</p>
</dd>
<dt><cite>indent</cite></dt>
<dd><p class="first">{{ s|indent[ width[ indentfirst[ usetab]]] }}</p>
<p>Return a copy of the passed string, each line indented by
4 spaces. The first line is not indented. If you want to
change the number of spaces or indent the first line too
you can pass additional parameters to the filter:</p>
<div class="last"><div class="syntax"><pre><span class="cp">{{</span> <span class="nv">mytext</span><span class="o">|</span><span class="nf">indent</span><span class="o">(</span><span class="m">2</span><span class="o">,</span> <span class="nv">True</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">    indent by two spaces and indent the first line too.</span>
</pre></div>
</div></dd>
<dt><cite>int</cite></dt>
<dd>Convert the value into an integer. If the
conversion doesn't work it will return <tt class="docutils literal"><span class="pre">0</span></tt>. You can
override this default using the first parameter.</dd>
<dt><cite>join</cite></dt>
<dd><p class="first">Return a string which is the concatenation of the strings in the
sequence. The separator between elements is an empty string per
default, you can define ith with the optional parameter:</p>
<div class="last"><div class="syntax"><pre><span class="cp">{{</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="m">2</span><span class="o">,</span> <span class="m">3</span><span class="o">]|</span><span class="nf">join</span><span class="o">(</span><span class="s1">&#39;|&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">    -&gt; 1|2|3</span>

<span class="cp">{{</span> <span class="o">[</span><span class="m">1</span><span class="o">,</span> <span class="m">2</span><span class="o">,</span> <span class="m">3</span><span class="o">]|</span><span class="nf">join</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">    -&gt; 123</span>
</pre></div>
</div></dd>
<dt><cite>jsonencode</cite></dt>
<dd><p class="first">JSON dump a variable. just works if simplejson is installed.</p>
<div class="last"><div class="syntax"><pre><span class="cp">{{</span> <span class="s1">&#39;Hello World&#39;</span><span class="o">|</span><span class="nf">jsonencode</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">    -&gt; &quot;Hello World&quot;</span>
</pre></div>
</div></dd>
<dt><cite>last</cite></dt>
<dd>Return the last item of a sequence.</dd>
<dt><cite>length</cite></dt>
<dd><p class="first">Return the length of the value. In case if getting an integer or float
it will convert it into a string an return the length of the new
string. If the object has no length it will of corse return 0.</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Aliases:</th><td class="field-body">count</td>
</tr>
</tbody>
</table>
</dd>
<dt><cite>lower</cite></dt>
<dd>Convert a value to lowercase.</dd>
<dt><cite>markdown</cite></dt>
<dd><p class="first">Parse the string using markdown.</p>
<p class="last">requires the <a class="reference" href="http://www.freewisdom.org/projects/python-markdown/">Python-markdown</a> library.</p>
</dd>
<dt><cite>pprint</cite></dt>
<dd>Pretty print a variable. Useful for debugging.</dd>
<dt><cite>random</cite></dt>
<dd>Return a random item from the sequence.</dd>
<dt><cite>replace</cite></dt>
<dd><p class="first">Return a copy of the value with all occurrences of a substring
replaced with a new one. The first argument is the substring
that should be replaced, the second is the replacement string.
If the optional third argument <tt class="docutils literal"><span class="pre">count</span></tt> is given, only the first
<tt class="docutils literal"><span class="pre">count</span></tt> occurrences are replaced:</p>
<div class="last"><div class="syntax"><pre><span class="cp">{{</span> <span class="s2">&quot;Hello World&quot;</span><span class="o">|</span><span class="nf">replace</span><span class="o">(</span><span class="s2">&quot;Hello&quot;</span><span class="o">,</span> <span class="s2">&quot;Goodbye&quot;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">    -&gt; Goodbye World</span>

<span class="cp">{{</span> <span class="s2">&quot;aaaaargh&quot;</span><span class="o">|</span><span class="nf">replace</span><span class="o">(</span><span class="s2">&quot;a&quot;</span><span class="o">,</span> <span class="s2">&quot;d&#39;oh, &quot;</span><span class="o">,</span> <span class="m">2</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">    -&gt; d&#39;oh, d&#39;oh, aaargh</span>
</pre></div>
</div></dd>
<dt><cite>reverse</cite></dt>
<dd><p class="first">Return a reversed list of the sequence filtered. You can use this
for example for reverse iteration:</p>
<div class="last"><div class="syntax"><pre><span class="cp">{%</span> <span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">seq</span><span class="o">|</span><span class="nf">reverse</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">item</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div></dd>
<dt><cite>rst</cite></dt>
<dd><p class="first">Parse the string using the reStructuredText parser from the
docutils package.</p>
<p class="last">requires <a class="reference" href="fromhttp://docutils.sourceforge.net/">docutils</a>.</p>
</dd>
<dt><cite>string</cite></dt>
<dd>Convert the value into an string.</dd>
<dt><cite>textile</cite></dt>
<dd><p class="first">Prase the string using textile.</p>
<p class="last">requires the <a class="reference" href="http://dealmeida.net/projects/textile/">PyTextile</a> library.</p>
</dd>
<dt><cite>title</cite></dt>
<dd>Return a titlecased version of the value. I.e. words will start with
uppercase letters, all remaining characters are lowercase.</dd>
<dt><cite>trim</cite></dt>
<dd>Strip leading and trailing whitespace.</dd>
<dt><cite>truncate</cite></dt>
<dd><p class="first last">Return a truncated copy of the string. The length is specified
with the first parameter which defaults to <tt class="docutils literal"><span class="pre">255</span></tt>. If the second
parameter is <tt class="docutils literal"><span class="pre">true</span></tt> the filter will cut the text at length. Otherwise
it will try to save the last word. If the text was in fact
truncated it will append an ellipsis sign (<tt class="docutils literal"><span class="pre">&quot;...&quot;</span></tt>). If you want a
different ellipsis sign than <tt class="docutils literal"><span class="pre">&quot;...&quot;</span></tt> you can specify it using the
third parameter.</p>
<!-- sourcecode jinja::

{{ mytext|truncate(300, false, '&raquo;') }}
    truncate mytext to 300 chars, don't split up words, use a
    right pointing double arrow as ellipsis sign. -->
</dd>
<dt><cite>upper</cite></dt>
<dd>Convert a value to uppercase.</dd>
<dt><cite>urlencode</cite></dt>
<dd><p class="first">urlencode a string or directory.</p>
<div class="last"><div class="syntax"><pre><span class="cp">{{</span> <span class="o">{</span><span class="s1">&#39;foo&#39;</span><span class="o">:</span> <span class="s1">&#39;bar&#39;</span><span class="o">,</span> <span class="s1">&#39;blub&#39;</span><span class="o">:</span> <span class="s1">&#39;blah&#39;</span><span class="o">}|</span><span class="nf">urlencode</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">    -&gt; foo=bar&amp;blub=blah</span>

<span class="cp">{{</span> <span class="s1">&#39;Hello World&#39;</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">    -&gt; Hello%20World</span>
</pre></div>
</div></dd>
<dt><cite>urlize</cite></dt>
<dd><p class="first">Converts URLs in plain text into clickable links.</p>
<p>If you pass the filter an additional integer it will shorten the urls
to that number. Also a third argument exists that makes the urls
&quot;nofollow&quot;:</p>
<div class="last"><div class="syntax"><pre><span class="cp">{{</span> <span class="nv">mytext</span><span class="o">|</span><span class="nf">urlize</span><span class="o">(</span><span class="m">40</span><span class="o">,</span> <span class="nv">True</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">    links are shortened to 40 chars and defined with rel=&quot;nofollow&quot;</span>
</pre></div>
</div></dd>
<dt><cite>wordcount</cite></dt>
<dd>Count the words in that string.</dd>
<dt><cite>wordwrap</cite></dt>
<dd>Return a copy of the string passed to the filter wrapped after
<tt class="docutils literal"><span class="pre">79</span></tt> characters. You can override this default using the first
parameter. If you set the second parameter to <cite>true</cite> Jinja will
also split words apart (usually a bad idea because it makes
reading hard).</dd>
</dl>
<div class="admonition-note admonition">
<p class="first admonition-title">note</p>
<p>Filters have a pretty low priority. If you want to add fitered values
you have to put them into parentheses. The same applies if you want to access
attributes:</p>
<div class="last"><div class="syntax"><pre><span class="x">correct:</span>
<span class="x">    </span><span class="cp">{{</span> <span class="o">(</span><span class="nv">foo</span><span class="o">|</span><span class="nf">filter</span><span class="o">)</span> <span class="o">+</span> <span class="o">(</span><span class="nv">bar</span><span class="o">|</span><span class="nf">filter</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">wrong:</span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">foo</span><span class="o">|</span><span class="nf">filter</span> <span class="o">+</span> <span class="nv">bar</span><span class="o">|</span><span class="nf">filter</span> <span class="cp">}}</span><span class="x"></span>

<span class="x">correct:</span>
<span class="x">    </span><span class="cp">{{</span> <span class="o">(</span><span class="nv">foo</span><span class="o">|</span><span class="nf">filter</span><span class="o">)</span><span class="nv">.attribute</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">wrong:</span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">foo</span><span class="o">|</span><span class="nf">filter</span><span class="nv">.attribute</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div></div>
</div>
<div class="section">
<h3><a id="tests" name="tests">Tests</a></h3>
<p>You can use the <cite>is</cite> operator to perform tests on a value:</p>
<div class="syntax"><pre><span class="cp">{{</span> <span class="m">42</span> <span class="k">is</span> <span class="nf">numeric</span> <span class="cp">}}</span><span class="x"> -&gt; true</span>
<span class="cp">{{</span> <span class="s2">&quot;foobar&quot;</span> <span class="k">is</span> <span class="nf">numeric</span> <span class="cp">}}</span><span class="x"> -&gt; false</span>
<span class="cp">{{</span> <span class="s1">&#39;FOO&#39;</span> <span class="k">is</span> <span class="nf">upper</span> <span class="cp">}}</span><span class="x"> -&gt; true</span>
</pre></div>
<p>These tests are especially useful when used in <cite>if</cite> conditions.</p>
<dl class="docutils">
<dt><cite>defined</cite></dt>
<dd><p class="first">Return true if the variable is defined:</p>
<div class="syntax"><pre><span class="cp">{%</span> <span class="k">if</span> <span class="nv">variable</span> <span class="k">is</span> <span class="nf">defined</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    value of variable: </span><span class="cp">{{</span> <span class="nv">variable</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    variable is not defined</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
<p class="last">See also the <tt class="docutils literal"><span class="pre">default</span></tt> filter.</p>
</dd>
<dt><cite>even</cite></dt>
<dd>Return true of the variable is even.</dd>
<dt><cite>lower</cite></dt>
<dd>Return true if the variable is lowercase.</dd>
<dt><cite>matching</cite></dt>
<dd><p class="first">Test if the variable matches the regular expression given. Note that
you have to escape special chars using <em>two</em> backslashes, these are
<em>not</em> raw strings.</p>
<div class="last"><div class="syntax"><pre><span class="cp">{%</span> <span class="k">if</span> <span class="nv">var</span> <span class="k">is</span> <span class="nf">matching</span><span class="o">(</span><span class="s1">&#39;^\\d+$&#39;</span><span class="o">)</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    var looks like a number</span>
<span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    var doesn&#39;t really look like a number</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div></dd>
<dt><cite>numeric</cite></dt>
<dd>Return true if the variable is numeric.</dd>
<dt><cite>odd</cite></dt>
<dd>Return true if the variable is odd.</dd>
<dt><cite>sequence</cite></dt>
<dd>Return true if the variable is a sequence. Sequences are variables
that are iterable.</dd>
<dt><cite>upper</cite></dt>
<dd>Return true if the variable is uppercase.</dd>
</dl>
</div>
<div class="section">
<h3><a id="global-functions" name="global-functions">Global Functions</a></h3>
<p>Test functions and filter functions live in their own namespace. Global
functions not. They behave like normal objects in the context. Beside the
functions added by the application or framewhere there are two functions
available per default:</p>
<p><cite>range</cite></p>
<blockquote>
Works like the python <a class="reference" href="http://docs.python.org/tut/node6.html#SECTION006300000000000000000">range function</a> just that it doesn't support
ranges greater than <tt class="docutils literal"><span class="pre">1000000</span></tt>.</blockquote>
<p><cite>debug</cite></p>
<blockquote>
Function that outputs the contents of the context.</blockquote>
</div>
<div class="section">
<h3><a id="loops" name="loops">Loops</a></h3>
<p>To iterate over a sequence, you can use the <cite>for</cite> loop. It basically looks like a
normal Python <cite>for</cite> loop and works pretty much the same:</p>
<div class="syntax"><pre><span class="nt">&lt;h1&gt;</span>Members<span class="nt">&lt;/h1&gt;</span>
<span class="nt">&lt;ul&gt;</span>
<span class="cp">{%</span> <span class="k">for</span> <span class="nv">user</span> <span class="k">in</span> <span class="nv">users</span> <span class="cp">%}</span>
  <span class="nt">&lt;li&gt;</span><span class="cp">{{</span> <span class="nb">loop</span><span class="nv">.index</span> <span class="cp">}}</span> / <span class="cp">{{</span> <span class="nb">loop</span><span class="nv">.length</span> <span class="cp">}}</span> - <span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">escape</span> <span class="cp">}}</span><span class="nt">&lt;/li&gt;</span>
<span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span>
  <span class="nt">&lt;li&gt;&lt;em&gt;</span>no users found<span class="nt">&lt;/em&gt;&lt;/li&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="nt">&lt;/ul&gt;</span>
</pre></div>
<p><em>Important</em> Contrary to Python is the optional <tt class="docutils literal"><span class="pre">else</span></tt> block only
executed if there was no iteration because the sequence was empty.</p>
<p>Inside of a <cite>for</cite> loop block you can access some special variables:</p>
<table border="1" class="docutils">
<colgroup>
<col width="35%" />
<col width="65%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Variable</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr><td><cite>loop.index</cite></td>
<td>The current iteration of the loop.</td>
</tr>
<tr><td><cite>loop.index0</cite></td>
<td>The current iteration of the loop,
starting counting by 0.</td>
</tr>
<tr><td><cite>loop.revindex</cite></td>
<td>The number of iterations from the end
of the loop.</td>
</tr>
<tr><td><cite>loop.revindex0</cite></td>
<td>The number of iterations from the end
of the loop, starting counting by 0.</td>
</tr>
<tr><td><cite>loop.first</cite></td>
<td>True if first iteration.</td>
</tr>
<tr><td><cite>loop.last</cite></td>
<td>True if last iteration.</td>
</tr>
<tr><td><cite>loop.even</cite></td>
<td>True if current iteration is even.</td>
</tr>
<tr><td><cite>loop.odd</cite></td>
<td>True if current iteration is odd.</td>
</tr>
<tr><td><cite>loop.length</cite></td>
<td>Total number of items in the sequence.</td>
</tr>
<tr><td><cite>loop.parent</cite></td>
<td>The context of the parent loop.</td>
</tr>
</tbody>
</table>
<p>Loops also support recursion. Let's assume you have a sitemap where each item
might have a number of child items. A template for that could look like this:</p>
<div class="syntax"><pre><span class="nt">&lt;h1&gt;</span>Sitemap
<span class="nt">&lt;ul</span> <span class="na">id=</span><span class="s">&quot;sitemap&quot;</span><span class="nt">&gt;</span>
<span class="cp">{%</span> <span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">sitemap</span> <span class="k">recursive</span> <span class="cp">%}</span>
  <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span class="nv">item.url</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="s">&quot;</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">item.title</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="nt">&lt;/a&gt;</span>
  <span class="cp">{%</span> <span class="k">if</span> <span class="nv">item.children</span> <span class="cp">%}</span><span class="nt">&lt;ul&gt;</span><span class="cp">{{</span> <span class="nb">loop</span><span class="o">(</span><span class="nv">item.children</span><span class="o">)</span> <span class="cp">}}</span><span class="nt">&lt;/ul&gt;</span><span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="nt">&lt;/li&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="nt">&lt;/ul&gt;</span>
</pre></div>
<p>What happens here? Basically the first thing that is different to a normal
loop is the additional <tt class="docutils literal"><span class="pre">recursive</span></tt> modifier in the <cite>for</cite>-loop declaration.
It tells the template engine that we want recursion. If recursion is enabled
the special <cite>loop</cite> variable is callable. If you call it with a sequence it will
automatically render the loop at that position with the new sequence as argument.</p>
</div>
<div class="section">
<h3><a id="cycling" name="cycling">Cycling</a></h3>
<p>Sometimes you might want to have different text snippets for each row in a list,
for example to have alternating row colors. You can easily do this by using the
<tt class="docutils literal"><span class="pre">{%</span> <span class="pre">cycle</span> <span class="pre">%}</span></tt> tag:</p>
<div class="syntax"><pre><span class="nt">&lt;ul</span> <span class="na">id=</span><span class="s">&quot;messages&quot;</span><span class="nt">&gt;</span>
<span class="cp">{%</span> <span class="k">for</span> <span class="nv">message</span> <span class="k">in</span> <span class="nv">messages</span> <span class="cp">%}</span>
  <span class="nt">&lt;li</span> <span class="na">class=</span><span class="s">&quot;</span><span class="cp">{%</span> <span class="k">cycle</span> <span class="s1">&#39;row1&#39;</span><span class="o">,</span> <span class="s1">&#39;row2&#39;</span> <span class="cp">%}</span><span class="s">&quot;</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">message</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="nt">&lt;/li&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="nt">&lt;/ul&gt;</span>
</pre></div>
<p>Each time Jinja encounters a <cite>cycle</cite> tag it will cycle through the list
of given items and return the next one. If you pass it one item jinja assumes
that this item is a sequence from the context and uses this:</p>
<div class="syntax"><pre><span class="nt">&lt;li</span> <span class="na">style=</span><span class="s">&quot;color: </span><span class="cp">{%</span> <span class="k">cycle</span> <span class="nv">rowcolors</span> <span class="cp">%}</span><span class="s">&quot;</span><span class="nt">&gt;</span>...<span class="nt">&lt;/li&gt;</span>
</pre></div>
</div>
<div class="section">
<h3><a id="conditions" name="conditions">Conditions</a></h3>
<p>Jinja supports Python-like <cite>if</cite> / <cite>elif</cite> / <cite>else</cite> constructs:</p>
<div class="syntax"><pre><span class="cp">{%</span> <span class="k">if</span> <span class="nv">user.active</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    user </span><span class="cp">{{</span> <span class="nv">user.name</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="x"> is active.</span>
<span class="cp">{%</span> <span class="k">elif</span> <span class="nv">user.deleted</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    user </span><span class="cp">{{</span> <span class="nv">user.name</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="x"> was deleted some time ago.</span>
<span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    i don&#39;t know what&#39;s wrong with </span><span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
<p>If the user is active the first block is rendered. If not and the user was
deleted the second one, in all other cases the third one.</p>
<p>You can also use comparison operators:</p>
<div class="syntax"><pre><span class="cp">{%</span> <span class="k">if</span> <span class="nv">amount</span> <span class="o">&lt;</span> <span class="m">0</span> <span class="cp">%}</span>
    <span class="nt">&lt;span</span> <span class="na">style=</span><span class="s">&quot;color: red&quot;</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">amount</span> <span class="cp">}}</span><span class="nt">&lt;/span&gt;</span>
<span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span>
    <span class="nt">&lt;span</span> <span class="na">style=</span><span class="s">&quot;color: black&quot;</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">amount</span> <span class="cp">}}</span><span class="nt">&lt;/span&gt;</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
</pre></div>
<div class="admonition-note admonition">
<p class="first admonition-title">Note</p>
<p class="last">Of course you can use <cite>or</cite> / <cite>and</cite> and parentheses to create more complex
conditions, but usually the logic is already handled in the application and
you don't have to create such complex constructs in the template code. However
in some situations it might be a good thing to have the abilities to create
them.</p>
</div>
</div>
<div class="section">
<h3><a id="operators" name="operators">Operators</a></h3>
<p>Inside <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">variable</span> <span class="pre">}}</span></tt> blocks, <cite>if</cite> conditions and many other parts you can
can use expressions. In expressions you can use any of the following operators:</p>
<blockquote>
<table border="1" class="docutils">
<colgroup>
<col width="9%" />
<col width="91%" />
</colgroup>
<tbody valign="top">
<tr><td><tt class="docutils literal"><span class="pre">+</span></tt></td>
<td>add the right operand to the left one.
<tt class="docutils literal"><span class="pre">{{</span> <span class="pre">1</span> <span class="pre">+</span> <span class="pre">2</span> <span class="pre">}}</span></tt> would return <tt class="docutils literal"><span class="pre">3</span></tt>.</td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">-</span></tt></td>
<td>subtract the right operand from the left one.
<tt class="docutils literal"><span class="pre">{{</span> <span class="pre">1</span> <span class="pre">-</span> <span class="pre">1</span> <span class="pre">}}</span></tt> would return <tt class="docutils literal"><span class="pre">0</span></tt>.</td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">/</span></tt></td>
<td>divide the left operand by the right one.
<tt class="docutils literal"><span class="pre">{{</span> <span class="pre">1</span> <span class="pre">/</span> <span class="pre">2</span> <span class="pre">}}</span></tt> would return <tt class="docutils literal"><span class="pre">0.5</span></tt>.</td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">*</span></tt></td>
<td>multiply the left operand with the right one.
<tt class="docutils literal"><span class="pre">{{</span> <span class="pre">2</span> <span class="pre">*</span> <span class="pre">2</span> <span class="pre">}}</span></tt> would return <tt class="docutils literal"><span class="pre">4</span></tt>.</td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">**</span></tt></td>
<td>raise the left operand to the power of the right
operand. <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">2**3</span> <span class="pre">}}</span></tt> would return <tt class="docutils literal"><span class="pre">8</span></tt>.</td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">in</span></tt></td>
<td>perform sequence membership test. <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">1</span> <span class="pre">in</span> <span class="pre">[1,2,3]</span> <span class="pre">}}</span></tt> would
return true.</td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">is</span></tt></td>
<td>perform a test on the value. See the section about
tests for more information.</td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">|</span></tt></td>
<td>apply a filter on the value. See the section about
filters for more information.</td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">and</span></tt></td>
<td>return true if the left and the right operand is true.</td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">or</span></tt></td>
<td>return true if the left or the right operand is true.</td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">not</span></tt></td>
<td>negate a statement (see below)</td>
</tr>
<tr><td><tt class="docutils literal"><span class="pre">()</span></tt></td>
<td>call a callable: <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">user.get_username()</span> <span class="pre">}}</span></tt>. Inside of the
parentheses you can use variables: <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">user.get(username)</span> <span class="pre">}}</span></tt>.</td>
</tr>
</tbody>
</table>
</blockquote>
<p>Note that there is no support for any bit operations or something similar.</p>
<ul class="simple">
<li>special note regarding <cite>not</cite>: The <cite>is</cite> and <cite>in</cite> operators support negation
using an infix notation too: <tt class="docutils literal"><span class="pre">foo</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">bar</span></tt> and <tt class="docutils literal"><span class="pre">foo</span> <span class="pre">not</span> <span class="pre">in</span> <span class="pre">bar</span></tt>
instead of <tt class="docutils literal"><span class="pre">not</span> <span class="pre">foo</span> <span class="pre">is</span> <span class="pre">bar</span></tt> and <tt class="docutils literal"><span class="pre">not</span> <span class="pre">foo</span> <span class="pre">in</span> <span class="pre">bar</span></tt>. All other expressions
require a prefix notation: <tt class="docutils literal"><span class="pre">not</span> <span class="pre">(foo</span> <span class="pre">and</span> <span class="pre">bar)</span></tt>.</li>
</ul>
</div>
<div class="section">
<h3><a id="boolean-values" name="boolean-values">Boolean Values</a></h3>
<p>In If-Conditions Jinja performs a boolean check. All empty values (eg: empty
lists <tt class="docutils literal"><span class="pre">[]</span></tt>, empty dicts <tt class="docutils literal"><span class="pre">{}</span></tt> etc) evaluate to <cite>false</cite>. Numbers that are
equal to <cite>0</cite>/<cite>0.00</cite> are considered <cite>false</cite> too. The boolean value of other
objects depends on the behavior the application developer gave it. Usually
items are <cite>true</cite>.</p>
<p>Here some examples that should explain it:</p>
<div class="syntax"><pre><span class="cp">{%</span> <span class="k">if</span> <span class="o">[]</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    will always be false because it&#39;s an empty list</span>

<span class="cp">{%</span> <span class="k">if</span> <span class="o">{}</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    false too.</span>

<span class="cp">{%</span> <span class="k">if</span> <span class="o">[</span><span class="s1">&#39;foo&#39;</span><span class="o">]</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    this is true. Because the list is not empty.</span>

<span class="cp">{%</span> <span class="k">if</span> <span class="s2">&quot;foobar&quot;</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    this is also true because the string is not empty.</span>
</pre></div>
</div>
<div class="section">
<h3><a id="slicing" name="slicing">Slicing</a></h3>
<p>Some objects support slicing operations. For example lists:</p>
<div class="syntax"><pre><span class="cp">{%</span> <span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">items</span><span class="o">[:</span><span class="m">5</span><span class="o">]</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    This will only iterate over the first 5 items of the list</span>

<span class="cp">{%</span> <span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">items</span><span class="o">[</span><span class="m">5</span><span class="o">:</span><span class="m">10</span><span class="o">]</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    This will only iterate from item 5 to 10.</span>

<span class="cp">{%</span> <span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span class="nv">items</span><span class="o">[:</span><span class="m">10</span><span class="o">:</span><span class="m">2</span><span class="o">]</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    This will only yield items from start to ten and only returing</span>
<span class="x">    even items.</span>
</pre></div>
<p>For more informations about slicing have a look at the <a class="reference" href="http://diveintopython.org/native_data_types/lists.html#odbchelper.list.slice">slicing chapter</a>
in the &quot;Dive into Python&quot; e-book.</p>
</div>
<div class="section">
<h3><a id="macros" name="macros">Macros</a></h3>
<p>If you want to use a partial template in more than one place, you might want to
create a macro from it:</p>
<div class="syntax"><pre><span class="cp">{%</span> <span class="k">macro</span> <span class="nv">show_user</span> <span class="nv">user</span> <span class="cp">%}</span>
  <span class="nt">&lt;h1&gt;</span><span class="cp">{{</span> <span class="nv">user.name</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="nt">&lt;/h1&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;test&quot;</span><span class="nt">&gt;</span>
    <span class="cp">{{</span> <span class="nv">user.description</span> <span class="cp">}}</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endmacro</span> <span class="cp">%}</span>
</pre></div>
<p>Now you can use it from everywhere in the code by passing it an item:</p>
<div class="syntax"><pre><span class="cp">{%</span> <span class="k">for</span> <span class="nv">user</span> <span class="k">in</span> <span class="nv">users</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">show_user</span><span class="o">(</span><span class="nv">user</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
<p>You can also specify more than one value:</p>
<div class="syntax"><pre><span class="cp">{%</span> <span class="k">macro</span> <span class="nv">show_dialog</span> <span class="nv">title</span><span class="o">,</span> <span class="nv">text</span> <span class="cp">%}</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;dialog&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;h1&gt;</span><span class="cp">{{</span> <span class="nv">title</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;test&quot;</span><span class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">text</span><span class="o">|</span><span class="nf">e</span> <span class="cp">}}</span><span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endmacro</span> <span class="cp">%}</span>

<span class="cp">{{</span> <span class="nv">show_dialog</span><span class="o">(</span><span class="s1">&#39;Warning&#39;</span><span class="o">,</span> <span class="s1">&#39;something went wrong i guess&#39;</span><span class="o">)</span> <span class="cp">}}</span>
</pre></div>
</div>
<div class="section">
<h3><a id="inheritance" name="inheritance">Inheritance</a></h3>
<p>The most powerful part of Jinja is template inheritance. Template inheritance
allows you to build a base &quot;skeleton&quot; template that contains all the common
elements of your site and defines <strong>blocks</strong> that child templates can override.</p>
<p>Sounds complicated but is very basic. It's easiest to understand it by starting
with an example.</p>
<div class="section">
<h4><a id="base-template" name="base-template">Base Template</a></h4>
<p>This template, which we'll call <tt class="docutils literal"><span class="pre">base.html</span></tt>, defines a simple HTML skeleton
document that you might use for a simple two-column page. It's the job of
&quot;child&quot; templates to fill the empty blocks with content:</p>
<div class="syntax"><pre><span class="cp">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot;</span>
<span class="cp"> &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;</span>
<span class="nt">&lt;html</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.w3.org/1999/xhtml&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href=</span><span class="s">&quot;style.css&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;title&gt;</span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span> - My Webpage<span class="nt">&lt;/title&gt;</span>
  <span class="cp">{%</span> <span class="k">block</span> <span class="nv">html_head</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;content&quot;</span><span class="nt">&gt;</span>
    <span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
  <span class="nt">&lt;/div&gt;</span>

  <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;footer&quot;</span><span class="nt">&gt;</span>
    <span class="cp">{%</span> <span class="k">block</span> <span class="nv">footer</span> <span class="cp">%}</span>
    <span class="ni">&amp;copy;</span> Copyright 2006 by <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;http://mydomain.tld&quot;</span><span class="nt">&gt;</span>myself<span class="nt">&lt;/a&gt;</span>.
    <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
</pre></div>
<p>In this example, the <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">block</span> <span class="pre">%}</span></tt> tags define four blocks that child templates
can fill in. All the <cite>block</cite> tag does is to tell the template engine that a
child template may override those portions of the template.</p>
</div>
<div class="section">
<h4><a id="child-template" name="child-template">Child Template</a></h4>
<p>A child template might look like this:</p>
<div class="syntax"><pre><span class="cp">{%</span> <span class="k">extends</span> <span class="s2">&quot;base.html&quot;</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}</span>Index<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">html_head</span> <span class="cp">%}</span>
  <span class="nt">&lt;style </span><span class="na">type=</span><span class="s">&quot;text/css&quot;</span><span class="nt">&gt;</span>
    <span class="nc">.important</span> <span class="p">{</span>
      <span class="k">color</span><span class="o">:</span> <span class="m">#336699</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="nt">&lt;/style&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span>
    <span class="nt">&lt;h1&gt;</span>Index<span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">&quot;important&quot;</span><span class="nt">&gt;</span>
      Welcome on my awsome homepage.
    <span class="nt">&lt;/p&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre></div>
<p>The <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">extends</span> <span class="pre">%}</span></tt> tag is the key here. It tells the template engine that
this template &quot;extends&quot; another template. When the template system evaluates
this template, first it locates the parent.</p>
<p>The filename of the template depends on the template loader. For example the
<tt class="docutils literal"><span class="pre">FileSystemLoader</span></tt> allows you to access other templates by giving the
filename. You can access templates in subdirectories with an slash:</p>
<div class="syntax"><pre><span class="cp">{%</span> <span class="k">extends</span> <span class="s2">&quot;layout/default.html&quot;</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
<p>But this behavior can depend on the application using Jinja.</p>
<p>Note that since the child template didn't define the <tt class="docutils literal"><span class="pre">footer</span></tt> block, the
value from the parent template is used instead.</p>
<div class="admonition-note admonition">
<p class="first admonition-title">Note</p>
<p class="last">You can't define multiple <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">block</span> <span class="pre">%}</span></tt> tags with the same name in the
same template. This limitation exists because a block tag works in &quot;both&quot;
directions. That is, a block tag doesn't just provide a hole to fill - it
also defines the content that fills the hole in the <em>parent</em>. If there were
two similarly-named <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">block</span> <span class="pre">%}</span></tt> tags in a template, that template's
parent wouldn't know which one of the blocks' content to use.</p>
</div>
</div>
</div>
<div class="section">
<h3><a id="template-inclusion" name="template-inclusion">Template Inclusion</a></h3>
<p>You can load another template at a given position using <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">include</span> <span class="pre">%}</span></tt>.
Usually it's a better idea to use inheritance but if you for example want to
load macros, <cite>include</cite> works better than <cite>extends</cite>:</p>
<div class="syntax"><pre><span class="cp">{%</span> <span class="k">include</span> <span class="s2">&quot;myhelpers.html&quot;</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">my_helper</span><span class="o">(</span><span class="s2">&quot;foo&quot;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
<p>If you define a macro called <tt class="docutils literal"><span class="pre">my_helper</span></tt> in <tt class="docutils literal"><span class="pre">myhelpers.html</span></tt>, you can now
use it from the template as shown above.</p>
</div>
<div class="section">
<h3><a id="filtering-blocks" name="filtering-blocks">Filtering Blocks</a></h3>
<p>Sometimes it could be a good idea to filter a complete block of text. For
example, if you want to escape some html code:</p>
<div class="syntax"><pre><span class="cp">{%</span> <span class="k">filter</span> <span class="nv">escape</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;html&gt;</span>
<span class="x">      &lt;code&gt;goes here&lt;/code&gt;</span>
<span class="x">    &lt;/html&gt;</span>
<span class="cp">{%</span> <span class="k">endfilter</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
<p>Of course you can chain filters too:</p>
<div class="syntax"><pre><span class="cp">{%</span> <span class="k">filter</span> <span class="nv">lower</span><span class="o">|</span><span class="nf">escape</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    &lt;B&gt;SOME TEXT&lt;/B&gt;</span>
<span class="cp">{%</span> <span class="k">endfilter</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
<p>returns <tt class="docutils literal"><span class="pre">&quot;&amp;lt;b&amp;gt;some</span> <span class="pre">text&amp;lt;/b&amp;gt;&quot;</span></tt>.</p>
</div>
<div class="section">
<h3><a id="defining-variables" name="defining-variables">Defining Variables</a></h3>
<p>You can also define variables in the namespace using the <tt class="docutils literal"><span class="pre">{%</span> <span class="pre">set</span> <span class="pre">%}</span></tt> tag:</p>
<div class="syntax"><pre><span class="cp">{%</span> <span class="k">set</span> <span class="nv">foo</span> <span class="o">=</span> <span class="s1">&#39;foobar&#39;</span> <span class="cp">%}</span><span class="x"></span>
<span class="cp">{{</span> <span class="nv">foo</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
<p>This should ouput <tt class="docutils literal"><span class="pre">foobar</span></tt>.</p>
</div>
<div class="section">
<h3><a id="scopes" name="scopes">Scopes</a></h3>
<p>Jinja has multiple scopes. A scope is something like a new transparent foil on
a stack of foils. You can only write to the outermost foil but read all of them
since you can look through them. If you remove the top foil all data on that
foil disappears. Some tags in Jinja add a new layer to the stack. Currently
these are <cite>block</cite>, <cite>for</cite>, <cite>macro</cite> and <cite>filter</cite>. This means that variables and
other elements defined inside a macro, loop or some of the other tags listed
above will be only available in that block. Here an example:</p>
<div class="syntax"><pre><span class="cp">{%</span> <span class="k">macro</span> <span class="nv">angryhello</span> <span class="nv">name</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  </span><span class="cp">{%</span> <span class="k">set</span> <span class="nv">angryname</span> <span class="o">=</span> <span class="nv">name</span><span class="o">|</span><span class="nf">upper</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  Hello </span><span class="cp">{{</span> <span class="nv">name</span> <span class="cp">}}</span><span class="x">. Hello </span><span class="cp">{{</span> <span class="nv">name</span> <span class="cp">}}</span><span class="x">!</span>
<span class="x">  HELLO </span><span class="cp">{{</span> <span class="nv">angryname</span> <span class="cp">}}</span><span class="x">!!!!!!111</span>
<span class="cp">{%</span> <span class="k">endmacro</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
<p>The variable <tt class="docutils literal"><span class="pre">angryname</span></tt> just exists inside the macro, not outside it.</p>
<p>Defined macros appear on the context as variables. Because of this, they are
affected by the scoping too. A macro defined inside of a macro is just available
in those two macros (the macro itself and the macro it's defined in). For <cite>set</cite>
and <cite>macro</cite> two additional rules exist: If a macro is defined in an extended
template but outside of a visible block (thus outside of any block) will be
available in all blocks below. This allows you to use <cite>include</cite> statements to
load often used macros at once.</p>
</div>
<div class="section">
<h3><a id="undefined-variables" name="undefined-variables">Undefined Variables</a></h3>
<p>If you have already worked with python you probably know about the fact that
undefined variables raise an exception. This is different in Jinja. There is a
special value called <cite>undefined</cite> that represents values that do not exist.</p>
<p>This special variable works complete different from any variables you maybe
know. If you print it using <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">variable</span> <span class="pre">}}</span></tt> it will not appear because it's
literally empty. If you try to iterate over it, it will work. But no items
are returned. Comparing this value to any other value results in <cite>false</cite>.
Even if you compare it to itself:</p>
<div class="syntax"><pre><span class="cp">{{</span> <span class="kp">undefined</span> <span class="o">==</span> <span class="kp">undefined</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">    will return false. Not even undefined is undefined :)</span>
<span class="x">    Use `is defined` / `is not defined`:</span>

<span class="cp">{{</span> <span class="kp">undefined</span> <span class="k">is</span> <span class="k">not</span> <span class="nf">defined</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">    will return true.</span>
</pre></div>
<p>There are also some additional rules regarding this special value. Any
mathematical operators (<tt class="docutils literal"><span class="pre">+</span></tt>, <tt class="docutils literal"><span class="pre">-</span></tt>, <tt class="docutils literal"><span class="pre">*</span></tt>, <tt class="docutils literal"><span class="pre">/</span></tt>) return the operand
as result:</p>
<div class="syntax"><pre><span class="cp">{{</span> <span class="kp">undefined</span> <span class="o">+</span> <span class="s2">&quot;foo&quot;</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">    returns &quot;foo&quot;</span>

<span class="cp">{{</span> <span class="kp">undefined</span> <span class="o">-</span> <span class="m">42</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">    returns 42. Note: not -42!</span>
</pre></div>
<p>In any expression <cite>undefined</cite> evaluates to <cite>false</cite>. It has no length, all
attribute calls return undefined, calling too:</p>
<div class="syntax"><pre><span class="cp">{{</span> <span class="kp">undefined</span><span class="nv">.attribute</span><span class="o">()</span><span class="nv">.attribute_too</span><span class="o">[</span><span class="m">42</span><span class="o">]</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">    still returns `undefined`.</span>
</pre></div>
</div>
<div class="section">
<h3><a id="escaping" name="escaping">Escaping</a></h3>
<p>Sometimes you might want to add Jinja syntax elements into the template
without executing them. In that case you have quite a few possibilities.</p>
<p>For small parts this might be a good way:</p>
<div class="syntax"><pre><span class="cp">{{</span> <span class="s2">&quot;{{ foo }} is variable syntax and {% foo %} is block syntax&quot;</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
<p>When you have multiple elements you can use the <tt class="docutils literal"><span class="pre">raw</span></tt> block:</p>
<div class="syntax"><pre><span class="cp">{%</span> <span class="k">raw</span> <span class="cp">%}</span>
    Filtering blocks works like this in Jinja:
    {% filter escape %}
        &lt;html&gt;
          &lt;code&gt;goes here&lt;/code&gt;
        &lt;/html&gt;
    {% endfilter %}
<span class="cp">{%</span> <span class="k">endraw</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<div class="section">
<h3><a id="reserved-keywords" name="reserved-keywords">Reserved Keywords</a></h3>
<p>Jinja has some keywords you cannot use a variable names. This limitation
exists to make look coherent. Syntax highlighters won't mess things up and
you will don't have unexpected output.</p>
<p>The following keywords exist and cannot be used as identifiers:</p>
<blockquote>
<cite>and</cite>, <cite>block</cite>, <cite>cycle</cite>, <cite>elif</cite>, <cite>else</cite>, <cite>endblock</cite>, <cite>endfilter</cite>,
<cite>endfor</cite>, <cite>endif</cite>, <cite>endmacro</cite>, <cite>endraw</cite>, <cite>endtrans</cite>, <cite>extends</cite>, <cite>filter</cite>,
<cite>for</cite>, <cite>if</cite>, <cite>in</cite>, <cite>include</cite>, <cite>is</cite>, <cite>macro</cite>, <cite>not</cite>, <cite>or</cite>, <cite>pluralize</cite>,
<cite>raw</cite>, <cite>recursive</cite>, <cite>set</cite>, <cite>trans</cite></blockquote>
<p>If you want to use such a name you have to prefix or suffix it or use
alternative names:</p>
<div class="syntax"><pre><span class="cp">{%</span> <span class="k">for</span> <span class="nv">macro_</span> <span class="k">in</span> <span class="nv">macros</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">macro_</span><span class="o">(</span><span class="s1">&#39;foo&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
<p>If future Jinja releases add new keywords those will be &quot;light&quot; keywords which
means that they won't raise an error for several releases but yield warnings
on the application side. But it's very unlikely that new keywords will be
added.</p>
</div>
<div class="section">
<h3><a id="internationalization" name="internationalization">Internationalization</a></h3>
<p>If the application is configured for i18n, you can define translatable blocks
for translators using the <cite>trans</cite> tag or the special underscore function:</p>
<div class="syntax"><pre><span class="cp">{%</span> <span class="k">trans</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    this is a translatable block</span>
<span class="cp">{%</span> <span class="k">endtrans</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">trans</span> <span class="s2">&quot;This is a translatable string&quot;</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{{</span> <span class="kp">_</span><span class="o">(</span><span class="s2">&quot;This is a translatable string&quot;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
<p>The latter one is useful if you want translatable arguments for filters etc.</p>
<p>If you want to have plural forms too, use the <cite>pluralize</cite> block:</p>
<div class="syntax"><pre><span class="cp">{%</span> <span class="k">trans</span> <span class="nv">users</span><span class="o">=</span><span class="nv">users</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    One user found.</span>
<span class="cp">{%</span> <span class="k">pluralize</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">users</span> <span class="cp">}}</span><span class="x"> users found.</span>
<span class="cp">{%</span> <span class="k">endtrans</span> <span class="cp">%}</span><span class="x"></span>

<span class="cp">{%</span> <span class="k">trans</span> <span class="nv">first</span><span class="o">=(</span><span class="nv">users</span><span class="o">|</span><span class="nf">first</span><span class="o">)</span><span class="nv">.username</span><span class="o">|</span><span class="nf">escape</span><span class="o">,</span> <span class="nv">user</span><span class="o">=</span><span class="nv">users</span><span class="o">|</span><span class="nf">length</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    one user </span><span class="cp">{{</span> <span class="nv">first</span> <span class="cp">}}</span><span class="x"> found.</span>
<span class="cp">{%</span> <span class="k">pluralize</span> <span class="nv">users</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">users</span> <span class="cp">}}</span><span class="x"> users found, the first one is called </span><span class="cp">{{</span> <span class="nv">first</span> <span class="cp">}}</span><span class="x">.</span>
<span class="cp">{%</span> <span class="k">endtrans</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
<p>If you have multiple arguments, the first one is assumed to be the indicator (the
number that is used to determine the correct singular or plural form. If you
don't have the indicator variable on position 1 you have to tell the <cite>pluralize</cite>
tag the correct variable name.</p>
<p>Inside translatable blocks you cannot use blocks or expressions (however you can
still use the <tt class="docutils literal"><span class="pre">raw</span></tt> block which will work as expected). The variable
print syntax (<tt class="docutils literal"><span class="pre">{{</span> <span class="pre">variablename</span> <span class="pre">}}</span></tt>) is the only way to insert the variables
defined in the <tt class="docutils literal"><span class="pre">trans</span></tt> header. Filters must be applied in the header.</p>
<div class="admonition-note admonition">
<p class="first admonition-title">note</p>
<p>Please make sure that you always use pluralize blocks where required.
Many languages have more complex plural forms than the English language.</p>
<p>Never try to workaround that issue by using something like this:</p>
<div class="last"><div class="syntax"><pre><span class="cp">{%</span> <span class="k">if</span> <span class="nv">count</span> <span class="p">!</span><span class="o">=</span> <span class="m">1</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    </span><span class="cp">{{</span> <span class="nv">count</span> <span class="cp">}}</span><span class="x"> users found.</span>
<span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    one user found.</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div></div>
</div>

    </div>
  </div>
</body>
<!-- generated on: 2007-03-23 17:14:56.719937
     file id: designerdoc -->
</html>