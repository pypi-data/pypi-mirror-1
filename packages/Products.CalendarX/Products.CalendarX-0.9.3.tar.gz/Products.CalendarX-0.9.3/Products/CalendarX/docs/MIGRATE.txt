MIGRATE.txt
  CalendarX 0.9.0(dev)  January 06 2008
  (last modified for CalendarX 0.9.0)
by +lupa+ (lupaz on sf.net, lupa at zurven dot com)
Released under the GPL (see LICENSE.txt)

Note: Not fully tested for Plone 2.1.1 and above.

I.    Upgrading to 0.9 branch versions of CalendarX (updated 0.9.0)
II.   Upgrading from 0.6 branch versions of CalendarX (updated 0.6.6)
III.  Upgrading from 0.4 branch versions of CalendarX (updated 0.6.4)


I.  Upgrading to 0.9 branch versions of CalendarX (updated 0.9.0)

0.  This is ONLY for migrating up to Plone 3.0.  My advice is don't even
    try migrating...  just start a new CalendarX (it's not that hard).

1.  Delete your old CalendarX instances from your Plone 2.x site.

2.  Take the CalendarX folder out of your Plone 2.x INSTANCE_HOME/Products
    folder

3.  Migrate your Plone 2.x site up to Plone 3.

4.  Put a new version of CalendarX in your INSTANCE_HOME/Products
    folder (0.9.0 or higher).

5.  Restart Zope.

6.  Use Site Setup to install CalendarX into your Plone 3 site, then add
    a CalendarX instance and use the "manage" tab to adjust the site
    attributes (no more property sheets to adjust).  Set up your new
    CalendarX instance just the way you like it (all the old functionality
    from the 0.6 branch should *just work*.



II. Upgrading to 0.6.6 from 0.6 branch versions of CalendarX.

1.  Replace the old version of CalendarX in your INSTANCE_HOME/Products
    folder with the new version of CalendarX (0.6 or higher).

2.  Restart Zope.  DON'T JUST REFRESH IT, I don't think, because there are
    probably changes in the i18n folder, and without Restarting Zope, these
    changes won't be picked up properly.  Or try it: ZMI, Control Panel,
    Product Management, CalendarX, and in the Refresh tab, click Refresh.  Or
    in Plone (2.0+), go to Plone Setup, Add/Remove Products, and under
    "Installed Products", look for CalendarX and click the link that says
    "This product has been upgraded, click here to reinstall."  BUT I THINK
    YOU REALLY NEED TO RESTART ZOPE.  Or you can try refreshing the ...  no,
    JUST RESTART ZOPE.

    This is important!  If you just refresh the CalendarX
    product in your quickinstaller, you will NOT get the updated translation
    files indexed properly.  Alternatively, if you really don't want to
    restart Zope, after refreshing the CalendarX product you must go in the
    ZMI to Control Panel, Placeless Translation Service, and find the several
    translation (po) files for CalendarX... then click on each one of them and
    then click the Reindex button for it.  See?  I told you it was easier to
    just restart your Zope!

3.  Any parts of CalendarX that you have customized should be compared with
    fresh versions (and the HISTORY.txt file) to see if there are changes
    that you should be aware of in your customizations.  If all you have
    changed are the CX_props_XXX property sheets, then there is little chance
    of any problems.

    TIP: Just do it. Make a new instance of CalendarX, use all new property
    sheets from the upgraded distribution.  Go through each one to make sure
    the values are set how you want them.  Read the HISTORY.txt file to see if
    there are any changes in this version that you need.  Then it will work
    as it should... best not to bring old property sheets from an older
    CalendarX install, because these frequently change as development occurs.

4a.  PARTICULAR FILES THAT HAVE CHANGED RECENTLY (0.6.6):
    CX_props_css property sheet: there is a new property that must be present
      in order for rollover highlighting to work properly in your calendar.
    calendar.js: is now a DTML method, and reads in the values from the
      CX_props_css property sheet.  IF YOU HAVE changed the values of cell
      colors in your old calendar.js file, copy those values to the new
      CX_props_css property sheet and use the new calendar.js.
4b.  PARTICULAR FILES THAT HAVE CHANGED RECENTLY (0.6.4):
    CX_props_macros macros sheet: added a new macro prevnextcurrentlinks_nojump
      that is called from the bottom of each view template so that no
      JumpToDate widget is shown there, to avoid the IE browser bug that puts
      rollover event windows behind that widget.

5.  There is not currently, nor immediate plans to create, an automated upgrade
    feature that will migrate your configurations to the new versions of the
    property sheets, etc.  This is because CalendarX is designed to allow easy
    TTW access to all the scripts and templates for customization, and any one
    CalendarX installation will be expected to have many customization choices
    that an automated upgrade mechanism will not properly handle.  Document the
    changes you make so that you can more easily upgrade to newer versions
    of CalendarX.



III. Upgrading to 0.6 from 0.4 branch versions of CalendarX.

1.  Replace the old version of CalendarX in your INSTANCE_HOME/Products
    folder with the new version of CalendarX (0.6 or higher).

2.  Restart Zope.  REALLY!  Do it!  See why above.

3.  Get all new property sheets from the new CalendarX skins folder.  They will
    be similar to the old ones, but just do it anyway.  Then go through them
    and set the properties the way you want.  CalendarX will likely break if
    you just try to use your old (0.4) property sheets, so don't do it.
    Any parts of CalendarX that you have customized should be compared with
    fresh versions (and the HISTORY.txt file) to see if there are changes
    that you should be aware of in your customizations.  If all you have
    changed are the CX_props_XXX property sheets, then there is little chance
    of any problems.

4.  There is not currently, nor immediate plans to create, an automated upgrade
    feature that will migrate your configurations to the new versions of the
    property sheets, etc.  This is because CalendarX is designed to allow easy
    TTW access to all the scripts and templates for customization, and any one
    CalendarX installation will be expected to have many customization choices
    that an automated upgrade mechanism will not properly handle.  Document the
    changes you make so that you can more easily upgrade to newer versions
    of CalendarX.




