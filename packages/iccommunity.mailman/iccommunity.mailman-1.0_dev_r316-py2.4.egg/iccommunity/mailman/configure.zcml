<configure
    xmlns="http://namespaces.zope.org/zope"
    xmlns:five="http://namespaces.zope.org/five"
    xmlns:gs="http://namespaces.zope.org/genericsetup"
    i18n_domain="iccommunity.mailman">

    <five:registerPackage package="." initialize=".initialize" />

    <gs:registerProfile
                    name="default"
                    title="iccommunity.mailman"
                    directory="profiles/default"
                    description="iccommunity.mailman"
                    provides="Products.GenericSetup.interfaces.EXTENSION"
                    for="Products.CMFPlone.interfaces.IPloneSiteRoot"
                    />

    <gs:registerProfile
                    name="uninstall"
                    title="iccommunity.mailman"
                    directory="profiles/uninstall"
                    description="iccommunity.mailman"
                    provides="Products.GenericSetup.interfaces.EXTENSION"
                    for="Products.CMFPlone.interfaces.IPloneSiteRoot"
                    />

    <include package=".browser" />
    <include file="vocabularies.zcml" />

    <adapter
        for="iccommunity.core.interfaces.IicCommunitySite"
        provides=".interfaces.IicCommunityManagementMailman"
        factory=".preferences.icCommunityManagementMailmanPersistenceFactory"
        />

    <adapter
        for="*"
        provides=".interfaces.IicCommunityMailmanUserLists"
        factory=".preferences.icCommunityManagementMailmanUserListsPersistenceFactory"
        />

    <utility
        provides=".interfaces.IicCommunityMailman"
        component=".mailman.local"
        name="local"
        />

    <utility
        provides=".interfaces.IicCommunityMailman"
        component=".mailman.ldap"
        name="ldap"
        />

    <utility
        provides=".interfaces.IicCommunityMailman"
        component=".mailman.test"
        name="test"
        />

    <utility
        provides=".interfaces.IicCommunityMailman"
        factory=".mailman.icCommunityMailmanUtility"
        />

</configure>
