<?xml version="1.0"?>
<rolemap>
  <roles>
    <!--  We define two extra roles. -->
    <role name="HrmManager"/>
    <role name="WorklocationManager"/>
    <role name="ArboManager"/>
  </roles>
  <permissions>

    <!-- Our special view permission. Only the right people may see it. -->
    <permission name="plonehrm: View hrm content" acquire="True">
      <role name="Manager"/>
      <role name="HrmManager"/>
      <role name="WorklocationManager"/>      
    </permission>

    <!--     This permission allows to import CSV file containing employees
	     data in worklocations. -->
    <permission name="plonehrm: import CSV" acquire="True">
      <role name="Manager"/>
    </permission>

    <!-- This permission is used when only HRM manager are supposed to
    view a page. -->
    <permission name="plonehrm: Manage hrm content" acquire="True">
      <role name="Manager"/>
      <role name="HrmManager"/>
    </permission>

    <!-- "plonehrm: Add worklocation" is kept the same as plone's "add portal
         content". -->
    <permission name="plonehrm: Add worklocation" acquire="True">
      <role name="Manager"/>
      <role name="Owner"/>
      <role name="Contributor"/>
    </permission>

    <!-- An employee and the directly-installed employee module objects are
         only addable by hrm managers. -->
    <permission name="Add portal content" acquire="True">
      <role name="Manager" />
      <role name="HrmManager"/>
      <role name="WorklocationManager"/>
    </permission>

    <permission name="plonehrm: Add employee" acquire="True">
      <role name="Manager"/>
      <role name="HrmManager"/>
    </permission>

    <permission name="plonehrm: Add template" acquire="True">
      <role name="Manager"/>
      <role name="HrmManager"/>
    </permission>

    <permission name="plonehrm: manage Arbo content" acquire="True">
      <role name="ArboManager"/>
    </permission>

    <permission name="plonehrm: view personal data viewlet" acquire="True">
      <role name="Manager"/>
      <role name="HrmManager"/>
      <role name="WorklocationManager"/>
    </permission>

    <permission name="plonehrm: view notes viewlet" acquire="True">
      <role name="Manager"/>
      <role name="HrmManager"/>
      <role name="WorklocationManager"/>
    </permission>

    <permission name="plonehrm: view tasks viewlet" acquire="True">
      <role name="Manager"/>
      <role name="HrmManager"/>
      <role name="WorklocationManager"/>
    </permission>

    <permission name="plonehrm: view files viewlet" acquire="True">
      <role name="Manager"/>
      <role name="HrmManager"/>
      <role name="WorklocationManager"/>
    </permission>

    <permission name="plonehrm: view contracts viewlet" acquire="True">
      <role name="Manager"/>
      <role name="HrmManager"/>
      <role name="WorklocationManager"/>
    </permission>

    <permission name="plonehrm: view job performances viewlet" acquire="True">
      <role name="Manager"/>
      <role name="HrmManager"/>
      <role name="WorklocationManager"/>
    </permission>

    <permission name="plonehrm: view absences viewlet" acquire="True">
      <role name="Manager"/>
      <role name="HrmManager"/>
      <role name="WorklocationManager"/>
    </permission>

    <permission name="plonehrm: manage personal data" acquire="True">
      <role name="Manager"/>
      <role name="HrmManager"/>
      <role name="WorklocationManager"/>
    </permission>

    <permission name="plonehrm: manage notes" acquire="True">
      <role name="Manager"/>
      <role name="HrmManager"/>
      <role name="WorklocationManager"/>
    </permission>

    <permission name="plonehrm: manage tasks" acquire="True">
      <role name="Manager"/>
      <role name="HrmManager"/>
      <role name="WorklocationManager"/>
    </permission>

    <permission name="plonehrm: manage files" acquire="True">
      <role name="Manager"/>
      <role name="HrmManager"/>
      <role name="WorklocationManager"/>
    </permission>

    <permission name="plonehrm: manage contracts" acquire="True">
      <role name="Manager"/>
      <role name="HrmManager"/>
      <role name="WorklocationManager"/>
    </permission>

    <permission name="plonehrm: manage job performances" acquire="True">
      <role name="Manager"/>
      <role name="HrmManager"/>
      <role name="WorklocationManager"/>
    </permission>

    <permission name="plonehrm: close absence" acquire="True">
      <role name="Manager"/>
      <role name="HrmManager"/>
      <role name="WorklocationManager"/>
    </permission>
  </permissions>
</rolemap>
