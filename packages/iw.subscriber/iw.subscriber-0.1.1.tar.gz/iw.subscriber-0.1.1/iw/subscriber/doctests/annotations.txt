Subscription storage
====================


We need a ISubscriberStorage adapter to get annotations::

  >>> from iw.subscriber.interfaces import ISubscriberStorage
  >>> adapter = ISubscriberStorage(portal)

Then we can get data::

  >>> data = adapter.get()
  >>> data
  <ContentSubscriberData with 0 subscriber(s))>

And add an email::

  >>> data.add('gael@example.com')

The email is stored::

  >>> adapter.get()
  <ContentSubscriberData with 1 subscriber(s))>

Subscription are allowed by default::

  >>> adapter.allow_subscription
  True

If we disallow them then subscribers are deleted::

  >>> adapter.allow_subscription = False
  >>> adapter.allow_subscription
  False

  >>> adapter.get()
  <ContentSubscriberData with 0 subscriber(s))>

