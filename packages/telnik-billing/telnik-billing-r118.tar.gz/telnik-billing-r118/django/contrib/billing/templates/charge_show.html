{% extends "receipt_base.html" %}
{% load i18n humanize %}
{% block subheading %}<h1>{% trans "Charge Detail" %} {{receipt.account}} / {{receipt}} / {{charge.hexdigest}}</h1>{% endblock %}
{% block receiptcontent %}
<div class="module" style="width:70%">
<table width="100%">
<caption>{% trans "Charge Detail" %} {{receipt.account}} / {{receipt}} / {{charge.hexdigest}}</caption>
<tr><th>{% trans "Account" %}</th>
    <td align="right"><a href="/admin/billing/account/{{receipt.account.id}}/">{{receipt.account}}</a></td>
</tr>
<tr><th>{% trans "Consumer" %}</th>
    <td align="right"><a href="/admin/billing/account/{{receipt.account.id}}/consumer/{{charge.consumer.id}}/">{{charge.consumer}}</a></td>
</tr>
<tr><th>{% trans "Receipt" %}</th>
    <td align="right"><a href="/admin/billing/receipt/{{receipt.id}}/charges/">{{receipt}}</a></td>
</tr>
<tr><th>{% trans "Charge Time" %}</th>
    <td align="right">{{charge.chargeTime}}</td>
</tr>
<tr><th>{% trans "Unique ID" %}</th>
    <td align="right">{{charge.hexdigest}}</td>
</tr>
<tr><th valign="top">{% trans "Charge Type" %}</th>
    <td><pre style="margin:0px;">{{charge.rate}}<br/>{{charge.rate.chargeDescription}}</pre></td>
</tr>
<tr><th valign="top">{% trans "Description" %}</th>
    <td><pre style="margin:0px;">{{charge.chargeDescription}}</td>
</tr>
<tr><th>{% trans "Charged Units" %}</th>
    <td align="right">{{charge.chargedUnits|intcomma}} / {{charge.chargeableUnits|intcomma}}</td>
</tr>
<tr><th>{% trans "Total Charge" %}</th>
    <td align="right">{{charge.charge|stringformat:"01.2f"|intcomma}} {{charge.receipt.account.currency}}</td>
</tr>

</table>
</div>
{% if has_admin_billing %}
<div class="module" style="width:70%">
<table width="100%">
<caption>{% trans "Low-Level Detail" %}</caption>
<tr><th>{% trans "Type" %}</th><td align="right">{{ detail_type }}</td></tr>
<tr><th>{% trans "Implementation" %}</th><td align="right">{{ detail_implementation }}</td></tr>
{% for field in detail_fields %}
<tr><th>{{field.0}}</th><td align="right">{{field.1}}</td></tr>
{% endfor %}
</table>
</div>
{% endif %}
{% endblock %}
