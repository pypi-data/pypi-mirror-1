{% extends "admin/base_site.html" %}
{% load i18n humanize %}
{% if not is_popup %}{% block breadcrumbs %}<div class="breadcrumbs"><a href="/admin/">{% trans 'Home' %}</a> &rsaquo; <a href="/admin/billing/">{% trans 'Billing and Invoicing' %}</a> &rsaquo; <a href="/admin/billing/account/">{% trans 'Account List' %}</a> &rsaquo; <a href="/admin/billing/account/{{account.id}}/">{{account}}</a> &rsaquo; {% trans "Rate Sheet" %}</div>{% endblock %}{% endif %}
{% block content %}
<div id="content-main">
{% block subheading %}<h1>{% trans "Rate Sheet for" %} {{account}}</h1>{% endblock %}
<div class="module" style="float:left;width:50%;">
<table cellspacing="0" width="100%">
    <caption>{% trans "Account Metadata" %}</caption>
    <tr><th>{% trans "Description" %}</th><td align="right">{{account.description}}</td></tr>
    <tr><th>{% trans "Memo" %}</th><td align="right">{{account.memo}}</td></tr>
    <tr><th>{% trans "Contact" %}</th><td align="right">{{account.contact|linebreaks}}</td></tr>
    <tr><th>{% trans "Balance" %}</th><td align="right">{{account.balance|stringformat:"01.2f"|intcomma}}</td></tr>
</table>
</div>
{% block object-tools %}
<div style="float:left;"><ul>
<li><a href="/admin/billing/account/{{account.id}}/receipt/">{% trans "Invoices" %}</a></li>
<li><a href="/admin/billing/account/{{account.id}}/consumer/">{% trans "Consumers" %}</a></li>
<li><a href="/admin/billing/account/{{account.id}}/rateplan/">{% trans "Rate Sheet" %}</a></li>
</ul></div>
{% endblock %}
<div style="clear:both;" class="module" id="changelist">
<table>
<caption>{% trans "Rate Plan" %}</caption>
<tbody>
{% if editable %}
<tr><th>{% trans "Billable Type" %}</th>
    <th>{% trans "Charge Type" %}</th>
    <th>{% trans "Charge Description" %}</th>
    <th>{% trans "Charge Amount" %}</th>
    <th>{% trans "Minimum" %}</th>
    <th colspan="2">{% trans "Increment" %}</th>
</tr>
{% for rate in rates %}
<tr><form method="POST">
<input type="hidden" name="id" value="{{rate.id}}"/>
<input type="hidden" name="implementation" value="{{rate.implementation}}"/>
<input type="hidden" name="ratePlan" value="{{rate.ratePlan.id}}"/>
    <td>{{rate.description}}</td>
    <td><input type="text" name="chargeType" size="8" value="{{rate.chargeType}}" maxlength="10" /></td>
    <td><input type="text" name="chargeDescription" size="30" value="{{rate.chargeDescription}}" maxlength="64" /></td>
    <td><input type="text" name="amount" size="8" value="{{rate.amount}}" maxlength="8" /></td>
    <td><input type="text" name="minChargeUnits" size="8" value="{{rate.minChargeUnits}}" maxlength="8" /></td>
    <td><input type="text" name="chargeIncrement" size="8" value="{{rate.chargeIncrement}}" maxlength="8" /></td>
    <td><input type="submit" value="{% trans 'Update' %}"/></td>
<input type="hidden" name="action" value="saverate"/>
</form></tr>
{% endfor %}
{% else %}
<tr><th>{% trans "Billable Type" %}</th>
    <th>{% trans "Charge Type" %}</th>
    <th>{% trans "Charge Description" %}</th>
    <th>{% trans "Charge Amount" %}</th>
    <th>{% trans "Minimum" %}</th>
    <th>{% trans "Increment" %}</th>
</tr>
{% for rate in rates %}
<tr><td>{{rate.description}}
    <td>{{rate.chargeType}}</td>
    <td>{{rate.chargeDescription}}</td>
    <td>{{rate.amount}}</td>
    <td>{{rate.minChargeUnits}}</td>
    <td>{{rate.chargeIncrement}}</td>
</tr>
{% endfor %}
{% endif %}
</tbody>
</table>
</div>
</div>
{% endblock %}
