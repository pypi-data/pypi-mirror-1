BUG when start dt is a monday:

Setting day of week with week start as Sunday:

>>> from xix.utils.timetool import setDayOfWeek, SUNDAY, SATURDAY
>>> from time import strptime, strftime, mktime, tzset
>>> from datetime import datetime
>>> t = strptime('2005-11-28', '%Y-%m-%d')
>>> dt = datetime.fromtimestamp(mktime(t))
>>> dt2 = setDayOfWeek(dt, SUNDAY, startsun=True)
>>> print strftime('%Y-%m-%d', dt2.timetuple())
2005-11-27
>>> dt2 = setDayOfWeek(dt, SATURDAY, startsun=True)
>>> print strftime('%Y-%m-%d', dt2.timetuple())
2005-12-03

Testing others (Sun,xx,Tues,Wed,Thu,xx,Sat) - 
xx already covered in other unit tests:


SUNDAY:

>>> t = strptime('2005-11-27', '%Y-%m-%d')
>>> dt = datetime.fromtimestamp(mktime(t))
>>> dt2 = setDayOfWeek(dt, SUNDAY, startsun=True)
>>> print strftime('%Y-%m-%d', dt2.timetuple())
2005-11-27
>>> dt2 = setDayOfWeek(dt, SATURDAY, startsun=True)
>>> print strftime('%Y-%m-%d', dt2.timetuple())
2005-12-03

TUESDAY:

>>> t = strptime('2005-11-29', '%Y-%m-%d')
>>> dt = datetime.fromtimestamp(mktime(t))
>>> dt2 = setDayOfWeek(dt, SUNDAY, startsun=True)
>>> print strftime('%Y-%m-%d', dt2.timetuple())
2005-11-27
>>> dt2 = setDayOfWeek(dt, SATURDAY, startsun=True)
>>> print strftime('%Y-%m-%d', dt2.timetuple())
2005-12-03

WED:

>>> t = strptime('2005-11-30', '%Y-%m-%d')
>>> dt = datetime.fromtimestamp(mktime(t))
>>> dt2 = setDayOfWeek(dt, SUNDAY, startsun=True)
>>> print strftime('%Y-%m-%d', dt2.timetuple())
2005-11-27
>>> dt2 = setDayOfWeek(dt, SATURDAY, startsun=True)
>>> print strftime('%Y-%m-%d', dt2.timetuple())
2005-12-03

THU:

>>> t = strptime('2005-12-01', '%Y-%m-%d')
>>> dt = datetime.fromtimestamp(mktime(t))
>>> dt2 = setDayOfWeek(dt, SUNDAY, startsun=True)
>>> print strftime('%Y-%m-%d', dt2.timetuple())
2005-11-27
>>> dt2 = setDayOfWeek(dt, SATURDAY, startsun=True)
>>> print strftime('%Y-%m-%d', dt2.timetuple())
2005-12-03

SAT:

>>> t = strptime('2005-12-03', '%Y-%m-%d')
>>> dt = datetime.fromtimestamp(mktime(t))
>>> dt2 = setDayOfWeek(dt, SUNDAY, startsun=True)
>>> print strftime('%Y-%m-%d', dt2.timetuple())
2005-11-27
>>> dt2 = setDayOfWeek(dt, SATURDAY, startsun=True)
>>> print strftime('%Y-%m-%d', dt2.timetuple())
2005-12-03

