<dl class="portlet portletDebugInfoPortlet"
    i18n:domain="collective.portlet.debuginfo">

    <dt class="portletHeader">
        <span class="portletTopLeft"></span>
        <span i18n:translate="label_debug_info" tal:omit-tag="">
            Debug Info
        </span>
        <span class="portletTopRight"></span>
    </dt>

    <dd class="portletItem odd" tal:define="userinfo view/user_info"
        tal:condition="userinfo">
        
        <label i18n:translate="label_user_info">User Info</label>:
        <hr/>
        <div>
            <tal:block replace="structure context/user.gif"/>
            <b class="discreet">
                <span tal:replace="userinfo/fullname"/>
                (<span tal:replace="userinfo/username"/>)
            </b>
        </div>
        
        <div>
            <tal:block replace="structure context/mail_icon.gif"/>
            <b class="discreet" tal:content="userinfo/email"/>
        </div>
        
        <div>
            <img src="" alt="Homepage" title="Homepage"
                i18n:attributes="alt label_homepage;title label_homepage"
                tal:attributes="src string:link_icon.gif"/>
            <b class="discreet" tal:content="userinfo/home_page"/>
        </div>
    </dd>
    
    <dd class="portletItem even" tal:condition="view/user_roles">
        <label i18n:translate="label_user_roles">User Roles</label>:
        <hr/>
        <div class="discreet" tal:content="view/user_roles"/>
    </dd>
    
    <dd class="portletItem odd" tal:define="permissions view/user_permissions"
        tal:condition="permissions">
        <label i18n:translate="label_user_permissions">User Permissions</label>:
        <hr/>
        <div tal:repeat="perm permissions/items">
            <tal:block tal:condition="python:perm[1]"
                tal:replace="structure context/confirm_icon.gif"/>
            <tal:block condition="python:not perm[1]"
                replace="structure context/delete_icon.gif"/>
            <b class="discreet" tal:content="python:perm[0]">Permission</b>
        </div>
    </dd>
    
    <dd class="portletItem even" tal:define="items view/watch"
        tal:condition="items">
        <label i18n:translate="label_watched_attributes">Watched Attributes</label>:
        <hr/>
        <table class="vertical listing" cellpadding="0" cellspacing="0"
            width="100%">
            <tbody>
                <tal:block repeat="item items/items">
                    <tr>
                        <th width="1%"><b tal:content="python:item[0]"/></th>
                        <td><b tal:content="python:item[1]"/></td>
                    </tr>
                </tal:block>
            </tbody>
        </table>
    </dd>

</dl>
