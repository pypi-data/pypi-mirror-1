<html metal:use-macro="context/@@master/macros/master">
    <metal:slot fill-slot="main" 
                tal:define="tr view/getTestrunner">

        <h2 tal:content="tr/name" />

        <table class="result">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Status</th>
                    <th>Tests passed/total</th>
                    <th>Creator</th>
                </tr>
            </thead>
            <tbody>
                <tr tal:repeat="run view/getRuns">
                    <td>
                        <a tal:attributes="href string:showresults?testrunner_id:int=${request/testrunner_id}&run_id:int=${run/id}"
                           tal:content="python: run.created.strftime('%d.%m.%Y %H:%Mh')"
                        />
                    </td>
                    <td tal:attributes="class string:status-${run/run_ok}" 
                        tal:content="python: run.run_ok and 'OK' or 'FAILED'" 
                    />
                    <td class="result-cumulated" 
                        tal:content="run/results_cumulated" 
                    />
                    <td class="created" 
                        tal:content="run/creator" 
                    />
                </tr>
            </tbody>
        </table>
    </metal:slot>
</html>

