[buildout]
develop = . grokwiki ldapaddressbook
parts = zope3 data instance testdata testinstance test

[zope3]
recipe = zc.recipe.zope3checkout
url = svn://svn.zope.org/repos/main/Zope3/branches/3.3

[data]
recipe = zc.recipe.filestorage

[testdata]
recipe = zc.recipe.filestorage

[testinstance]
recipe = zc.recipe.zope3instance
database = testdata
user = grok:grok
eggs = setuptools
       grok
zcml = zope.annotation
       zope.copypastemove
       zope.formlib
       zope.i18n-meta
       zope.i18n.locales
       zope.publisher
       zope.security-meta
       zope.size
       zope.traversing
       zope.traversing.browser
       zope.app    
       zope.app-meta
       zope.app.securitypolicy
       zope.app.securitypolicy-meta
       zope.app.authentication
       zope.app.catalog
       zope.app.intid
       zope.app.keyreference
       grok
       grok-meta

[instance]
recipe = zc.recipe.zope3instance
database = data
user = grok:grok
eggs = setuptools
       grok
       grokwiki

zcml = ${testinstance:zcml}
       zope.app.twisted
       grokwiki

[test]
recipe = zc.recipe.testrunner
eggs = grok
extra-paths = parts/zope3/src
working-directory = parts/testinstance
defaults = ['--tests-pattern', '^f?tests$',
            '-v'
           ]
