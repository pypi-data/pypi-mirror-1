{% extends "common/base.html" %}
{% load i18n %}
{% load paginator %}

{% block contents %}
  {% block objecttitle %}
  <h1>{{ meta.verbose_name_plural }}</h1>
  {% endblock objecttitle %}

  {% if object_list %}
    {% block filterform %}
    <div id="filterform">
      <form action="" method="get">
      <input type="hidden" name="_popup" value="{{ is_popup }}" />
      <input type="text" name="q" {% if q %}value="{{ q }}" {% endif %}/>
      </form><br />
    </div>
    {% endblock filterform %}
  {% endif %}

  {% block objectlist %}
    <div id="objectlist">
    {% if object_list %}
        <table>
            {% for obj in object_list %}
            <tr class="{% cycle 'odd' 'even' %}">
{% if is_popup %}
              <td><a href="#" onclick="javascript:opener.dismissRelatedLookupPopup(window, '{{ obj.uuid }}');">{{ obj }}</a></td>
{% else %}
              <td><a href="{{ obj.get_absolute_url }}">{{ obj }}</a></td>
{% endif %}
                <td><a href="{{ obj.get_edit_url }}">{% trans "edit" %}</a></td>
            </tr>
            {% endfor %}
        </table>
    {% else %}
        {% blocktrans with meta.verbose_name_plural as verbose_name_plural %}
        <p>No {{ verbose_name_plural }} available.</p>
        {% endblocktrans %}
    {% endif %}
    </div>
  {% endblock objectlist %}

  <br />
  {% block objectlinks %}
  <p><a href="{{ model.get_create_url }}">{% blocktrans %}Create a new {{ verbose_name }}{% endblocktrans %}</a>
  {% block morelinks %}
  {% endblock morelinks %}
  <br />
  {% endblock objectlinks %}

  <br />
  {% block objectpaginator %}
  <div id="objectpaginator">
  {% paginator %}
  </div>
  {% endblock objectpaginator %}

{% endblock contents %}
