{% extends "common/base.html" %}
{% load i18n %}

{% block contents %}
  {% block objecttitle %}
  <h2>{% if change %}
  {% blocktrans with object.get_absolute_url as o_url %}
  Edit {{ verbose_name }} '<a href="{{ o_url }}">{{ object }}</a>'
  {% endblocktrans %}
  {% else %}
  {% blocktrans %}
  Add new {{ verbose_name }}
  {% endblocktrans %}
  {% endif %}</h2>
  {% endblock objecttitle %}

  {% block objectform %}
  <form action="" method="POST">
    <fieldset>
      {% comment %}<legend>{{ verbose_name|capfirst }}</legend>{% endcomment %}
      <table>
        {{ form }}
      </table>

      <p class="buttons">
        <button type="submit" class="button positive">
          {% if change %}{% trans "Save" %}{% else %}{% trans "Create" %}{% endif %}
        </button>
        {% if is_popup %}
        <button type="cancel" class="button" onclick="javascript:window.close()">{% trans "Cancel" %}</button>
        {% endif %}
      </p>
    </fieldset>
  </form>
  {% endblock objectform %}

<!--
This is a lifesaver when debugging!
<p> {{ form.error_dict }} </p>
-->
  <br />
  {% block objectlinks %}
  {% if object %}<p><a href="{{ object.get_absolute_url }}">{{ object }}</a></p>{% endif %}
  {% block morelinks %}
  {% endblock morelinks %}
  <br />
  {% endblock objectlinks %}
{% endblock contents %}
