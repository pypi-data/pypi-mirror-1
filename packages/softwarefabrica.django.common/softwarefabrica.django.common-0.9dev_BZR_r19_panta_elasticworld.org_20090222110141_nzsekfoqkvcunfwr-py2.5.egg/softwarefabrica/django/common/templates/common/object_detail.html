{% extends "common/base.html" %}
{% load i18n %}
{% load markup %}

{% block contents %}
  {% block objecttitle %}
  <h1>{{ object }} {{ verbose_name }}</h1>
  {% endblock objecttitle %}

  {% block objectdesc %}
    <p id="objectrepr">{{ object }}</p>

    <div id="objectdesc">
    {% if object.desc %}<p id="shortdesc">{{ object.desc|markdown }}</p>{% endif %}
    {% if object.long_desc %}<p id="longdesc">{{ object.long_desc|markdown }}</p>{% endif %}
  </div>
  {% endblock objectdesc %}

  {% block objectdetail %}
  <div id="objectdetail">
    <table>
      <tr>
        <th>Field</th>
        <th>Value</th>
      </tr>
      {% for fv in fieldvals %}
      <tr class="{% cycle 'odd' 'even' %}">
        <td>{{ fv.field.verbose_name|capfirst }}</td>
        <td>{{ fv.value }}</td>
      </tr>
      {% endfor %}
    </table>
  </div>
  {% endblock objectdetail %}

  {% for related_object in fk_related %}
    <div class="related">
    {% if related_object.object_list %}
      <h3>
      {% if related_object.r_verbose_name_plural %}
        {{ related_object.r_verbose_name_plural|capfirst }}
      {% else %}
        Appears in "{{ related_object.related_field }}" in the following {{ related_object.opts.verbose_name_plural }}
      {% endif %}
      </h3>
    <ul class="objectlist">
      {% for obj in related_object.object_list %}
      <li class="{% cycle 'odd' 'even' %}"><a href="{{ obj.get_absolute_url }}">{{ obj }}</a></li>
      {% endfor %}
    </ul>
    {% else %}
    {% endif %}
    </div>
  {% endfor %}

  {% for related_object in m2m_related %}
    <div class="related">
    {% if related_object.object_list %}
      <h3>
      {% if related_object.r_verbose_name_plural %}
        {{ related_object.r_verbose_name_plural|capfirst }}
      {% else %}
        Appears in "{{ related_object.related_field }}" in the following {{ related_object.opts.verbose_name_plural }}
        {% if related_object.through_opts %} (through "{{ related_object.through_opts.verbose_name|capfirst }}"){% endif %}
      {% endif %}
      </h3>
    <ul class="objectlist">
      {% for obj in related_object.object_list %}
      <li class="{% cycle 'odd' 'even' %}"><a href="{{ obj.get_absolute_url }}">{{ obj }}</a></li>
      {% endfor %}
    </ul>
    {% else %}
    {% endif %}
    </div>
  {% endfor %}

  {% for fv in m2m %}
    {% if fv.value %}
      <h3>{{ fv.field.verbose_name|capfirst }}</h3>
      <ul>
      {% for rel in fv.value %}
        <li><a href="{{ rel.get_absolute_url }}">{{ rel }}</a></li>
      {% endfor %}
      </ul>
    {% endif %}
  {% endfor %}
  

  {% block moredetail %}
  {% endblock moredetail %}

  <br />
  {% block objectlinks %}
  <p><a href="{{ object.get_edit_url }}">Modify this {{ verbose_name }}</a>
  {% block morelinks %}
  {% endblock morelinks %}
  <br />
  {% endblock objectlinks %}
{% endblock contents %}
