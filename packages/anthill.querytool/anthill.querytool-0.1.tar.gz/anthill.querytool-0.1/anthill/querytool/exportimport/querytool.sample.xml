<?xml version="1.0"?>
<object name="query_tool" meta_type="QueryTool">

    <query name="searchAllAuthorsA" catalog="portal_catalog" wrapsecurity="True">
        And(
            Eq('SearchableText', '$input*'), 
            Eq('Title', '$input*'),
            ~Generic('path', {'path':'Members', 'level':-1})
        )
    </query>

    <!-- You can use if and ifnot in your queries to build them. There is
    also a fixed name PARAMETERS_GIVEN that is true if there are parameters. -->
    <query name="searchAllAuthorsB" catalog="portal_catalog" wrapsecurity="True">
        And(
            Eq('SearchableText', '$input*'), 
            Eq('Title', '$input*'),

            [[ifnot($review_state)]]
                Eq('review_state', 'published')
            [[endif]]
        )
    </query>

    <query name="searchAllAuthorsC" catalog="portal_catalog" wrapsecurity="True">
        And(
            [[if(PARAMETERS_GIVEN)]]
                Eq('SearchableText', '$input*'), 
                Eq('Title', '$input*'),
            [[endif]]

            [[ifnot(PARAMETERS_GIVEN)]]
                Eq('portal_type', 'Document'),
            [[endif]]

            [[ifnot($review_state)]]
                Eq('review_state', 'published')
            [[endif]]
        )
    </query>

</object>
