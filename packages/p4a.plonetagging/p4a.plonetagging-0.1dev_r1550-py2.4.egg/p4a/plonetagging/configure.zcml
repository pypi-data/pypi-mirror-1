<configure
    xmlns="http://namespaces.zope.org/zope"
    xmlns:browser="http://namespaces.zope.org/browser"
    xmlns:five="http://namespaces.zope.org/five"
    i18n_domain="p4a.plonetagging">

  <!-- just to keep lovely.tag happy, not otherwise used -->
  <browser:menu
      id="zmi_views"
      title="Zope3 ZMI Views"
      interface="*"
      />

  <include file="permissions.zcml" />
  <include package=".browser" />

  <adapter factory=".l10nutils.ServerTZInfo" />
  <adapter factory=".content.UserTagging" />

  <class class="Products.CMFCore.PortalContent.PortalContent">
    <implements interface="lovely.tag.interfaces.ITaggable" />
  </class>

  <class class="Products.CMFPlone.Portal.PloneSite">
    <implements interface="zope.app.component.interfaces.IPossibleSite" />
  </class>

  <five:localsite class="Products.CMFPlone.Portal.PloneSite" />

  <subscriber
      for="lovely.tag.interfaces.ITaggable
           zope.app.event.interfaces.IObjectModifiedEvent"
      handler=".content.update_keywords"
      />

  <adapter
      for="Products.CMFPlone.interfaces.IPloneSiteRoot"
      factory=".content.lookup_tagging_config"
      provides=".interfaces.ITaggingConfig"
      />

</configure>
