<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>path</title>
    <meta content="text/html;charset=ISO-8859-1" name="Content-Type"/>
    <link href="style.css" media="screen" rel="stylesheet" type="text/css"/></head>
  <body>
    <div id="navspace">
      <div><a href="http://pylib.org"><img alt="py lib" height="57" id="pyimg" src="http://codespeak.net/img/pylib.png" width="77"/></a></div>
      <div id="menubar">
        <div>
          <div><a class="menu" href="announce/release-1.1.1.html">1.1.1 ANN</a></div></div>
        <div>
          <div><a class="menu" href="install.html">INSTALL</a></div></div>
        <div>
          <div><a class="menu" href="contact.html">CONTACT</a></div></div>
        <div>
          <div><a class="menu" href="changelog.html">CHANGELOG</a></div></div>
        <div>
          <div><a class="menu" href="faq.html">FAQ</a></div></div>
        <div>
          <div>
            <h3>py.test:</h3>
            <div><a class="menu" href="test/index.html">Index</a></div>
            <div><a class="menu" href="test/quickstart.html">Quickstart</a></div>
            <div><a class="menu" href="test/features.html">Features</a></div>
            <div><a class="menu" href="test/plugin/index.html">Plugins</a></div>
            <div><a class="menu" href="test/funcargs.html">Funcargs</a></div>
            <div><a class="menu" href="test/customize.html">Customize</a></div>
            <div><a class="menu" href="test/talks.html">Tutorials</a></div></div></div>
        <div>
          <div>
            <h3>supporting APIs:</h3>
            <div><a class="menu" href="index.html">Index</a></div>
            <div><a class="menu" href="path.html">py.path</a></div>
            <div><a class="menu" href="code.html">py.code</a></div></div></div></div></div>
    <div id="contentspace">
<div class="document" id="py-path">
<h1 class="title">py.path</h1>

<p>The 'py' lib provides a uniform high-level api to deal with filesystems
and filesystem-like interfaces: <tt class="docutils literal">py.path</tt>.  It aims to offer a central
object to fs-like object trees (reading from and writing to files, adding
files/directories, examining the types and structure, etc.), and out-of-the-box
provides a number of implementations of this API.</p>
<div class="section" id="path-implementations-provided-by-py-path">
<h1>Path implementations provided by <tt class="docutils literal">py.path</tt></h1>
<div class="section" id="py-path-local">
<span id="local"></span><h2><tt class="docutils literal">py.path.local</tt></h2>
<p>The first and most obvious of the implementations is a wrapper around a local
filesystem. It's just a bit nicer in usage than the regular Python APIs, and
of course all the functionality is bundled together rather than spread over a
number of modules.</p>
<p>Example usage, here we use the <tt class="docutils literal">py.test.ensuretemp()</tt> function to create
a <tt class="docutils literal">py.path.local</tt> object for us (which wraps a directory):</p>
</div>
<div class="section" id="py-path-svnurl-and-py-path-svnwc">
<h2><tt class="docutils literal">py.path.svnurl` and ``py.path.svnwc</tt></h2>
<p>Two other <tt class="docutils literal">py.path</tt> implementations that the py lib provides wrap the
popular <a class="reference external" href="http://subversion.tigris.org/">Subversion</a> revision control system: the first (called 'svnurl')
by interfacing with a remote server, the second by wrapping a local checkout.
Both allow you to access relatively advanced features such as metadata and
versioning, and both in a way more user-friendly manner than existing other
solutions.</p>
<p>Some example usage of <tt class="docutils literal">py.path.svnurl</tt>:</p>
<p>Example usage of <tt class="docutils literal">py.path.svnwc</tt>:</p>
</div>
</div>
<div class="section" id="common-vs-specific-api">
<h1>Common vs. specific API</h1>
<p>All Path objects support a common set of operations, suitable
for many use cases and allowing to transparently switch the
path object within an application (e.g. from &quot;local&quot; to &quot;svnwc&quot;).
The common set includes functions such as <cite>path.read()</cite> to read all data
from a file, <cite>path.write()</cite> to write data, <cite>path.listdir()</cite> to get a list
of directory entries, <cite>path.check()</cite> to check if a node exists
and is of a particular type, <cite>path.join()</cite> to get
to a (grand)child, <cite>path.visit()</cite> to recursively walk through a node's
children, etc.  Only things that are not common on 'normal' filesystems (yet),
such as handling metadata (e.g. the Subversion &quot;properties&quot;) require
using specific APIs.</p>
<div class="section" id="examples">
<h2>Examples</h2>
<p>A quick 'cookbook' of small examples that will be useful 'in real life',
which also presents parts of the 'common' API, and shows some non-common
methods:</p>
<div class="section" id="searching-txt-files">
<h3>Searching <cite>.txt</cite> files</h3>
<p>Search for a particular string inside all files with a .txt extension in a
specific directory.</p>
</div>
<div class="section" id="working-with-paths">
<h3>Working with Paths</h3>
<p>This example shows the <tt class="docutils literal">py.path</tt> features to deal with
filesystem paths Note that the filesystem is never touched,
all operations are performed on a string level (so the paths
don't have to exist, either):</p>
<p>This should be possible on every implementation of <tt class="docutils literal">py.path</tt>, so
regardless of whether the implementation wraps a UNIX filesystem, a Windows
one, or a database or object tree, these functions should be available (each
with their own notion of path seperators and dealing with conversions, etc.).</p>
</div>
<div class="section" id="checking-path-types">
<h3>Checking path types</h3>
<p>Now we will show a bit about the powerful 'check()' method on paths, which
allows you to check whether a file exists, what type it is, etc.:</p>
</div>
<div class="section" id="setting-svn-properties">
<h3>Setting svn-properties</h3>
<p>As an example of 'uncommon' methods, we'll show how to read and write
properties in an <tt class="docutils literal">py.path.svnwc</tt> instance:</p>
</div>
<div class="section" id="svn-authentication">
<h3>SVN authentication</h3>
<p>Some uncommon functionality can also be provided as extensions, such as SVN
authentication:</p>
</div>
</div>
</div>
<div class="section" id="known-problems-limitations">
<h1>Known problems / limitations</h1>
<ul class="simple">
<li>The SVN path objects require the &quot;svn&quot; command line,
there is currently no support for python bindings.
Parsing the svn output can lead to problems, particularly
regarding if you have a non-english &quot;locales&quot; setting.</li>
<li>While the path objects basically work on windows,
there is no attention yet on making unicode paths
work or deal with the famous &quot;8.3&quot; filename issues.</li>
</ul>
</div>
<div class="section" id="future-plans">
<h1>Future plans</h1>
<p>The Subversion path implementations are based
on the <cite>svn</cite> command line, not on the bindings.
It makes sense now to directly use the bindings.</p>
<p>Moreover, it would be good, also considering
<a class="reference external" href="execnet.html">execnet</a> distribution of programs, to
be able to manipulate Windows Paths on Linux
and vice versa.  So we'd like to consider
refactoring the path implementations
to provide this choice (and getting rid
of platform-dependencies as much as possible).</p>
<p>There is some experimental small approach
(<tt class="docutils literal">py/path/gateway/</tt>) aiming at having
a convenient Remote Path implementation.</p>
<p>There are various hacks out there to have
Memory-Filesystems and even path objects
being directly mountable under Linux (via <cite>fuse</cite>).
However, the Path object implementations
do not internally have a clean abstraction
of going to the filesystem - so with some
refactoring it should become easier to
have very custom Path objects, still offering
the quite full interface without requiring
to know about all details of the full path
implementation.</p>
</div>
</div>
</div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-7597274-3");
pageTracker._trackPageview();
} catch(err) {}</script>
</body></html>