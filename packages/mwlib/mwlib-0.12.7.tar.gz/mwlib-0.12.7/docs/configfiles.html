<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.5: http://docutils.sourceforge.net/" />
<title>mwlib Configuration Files</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 5196 2007-06-03 20:25:28Z wiemann $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left {
  clear: left }

img.align-right {
  clear: right }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font-family: serif ;
  font-size: 100% }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="mwlib-configuration-files">
<h1 class="title">mwlib Configuration Files</h1>

<!-- -*- mode: rst; coding: utf-8 -*- -->
<p>Configuration files are in a <a class="reference external" href="http://docs.python.org/lib/module-ConfigParser.html">INI-like format</a>. They can contain the sections</p>
<p><tt class="docutils literal"><span class="pre">[wiki]</span></tt></p>
<blockquote>
Description of how to retrieve MediaWiki articles and templates and meta
information about the MediaWiki like name or URL.</blockquote>
<p>and</p>
<p><tt class="docutils literal"><span class="pre">[images]</span></tt></p>
<blockquote>
Description of how to retrieve images.</blockquote>
<p>Both sections must contain a <tt class="docutils literal"><span class="pre">type</span></tt> setting, on which all other available
settings in that section depend.</p>
<div class="section" id="type-mwapi">
<h1><tt class="docutils literal"><span class="pre">type=mwapi</span></tt></h1>
<p>Retrieve articles and images via the <a class="reference external" href="http://www.mediawiki.org/wiki/API">MediaWiki API</a>, i.e. via <tt class="docutils literal"><span class="pre">api.php</span></tt>.</p>
<p>This requires MediaWiki 1.11 or later.</p>
<div class="section" id="specific-options">
<h2>Specific Options</h2>
<p><tt class="docutils literal"><span class="pre">base_url=BASEURL</span></tt></p>
<blockquote>
The base URL of the MediaWiki. See the <tt class="docutils literal"><span class="pre">--config</span></tt> option in
<tt class="docutils literal"><span class="pre">docs/commands.txt</span></tt>.</blockquote>
<p><tt class="docutils literal"><span class="pre">template_blacklist=ARTICLE</span></tt></p>
<blockquote>
<p>A title of a page in the MediaWiki which contains blacklisted templates.
Example for such a template blacklist page:</p>
<pre class="literal-block">
* [[Template:SkipMe]]
* [[Template:MeToo]]
</pre>
</blockquote>
<p><tt class="docutils literal"><span class="pre">template_exclusion_category=CATEGORY</span></tt></p>
<blockquote>
A name of a category: Templates in this category are excluded during
rendering.</blockquote>
<p><tt class="docutils literal"><span class="pre">username=USERNAME</span></tt>, <tt class="docutils literal"><span class="pre">password=PASSWORD</span></tt>, <tt class="docutils literal"><span class="pre">domain=DOMAIN</span></tt></p>
<blockquote>
Login with the given credentials (domain is optional).</blockquote>
</div>
</div>
<div class="section" id="type-zip">
<h1><tt class="docutils literal"><span class="pre">type=zip</span></tt></h1>
<p>Read articles and images from a ZIP file, generated with <tt class="docutils literal"><span class="pre">mw-zip</span></tt>.</p>
<p><tt class="docutils literal"><span class="pre">path=ZIPFILE</span></tt></p>
<blockquote>
Path to ZIP file.</blockquote>
</div>
<div class="section" id="type-cdb">
<h1><tt class="docutils literal"><span class="pre">type=cdb</span></tt></h1>
<p>Read articles from a CDB files, generated with <tt class="docutils literal"><span class="pre">mw-buildcdb</span></tt>.</p>
<p>Only allowed in <tt class="docutils literal"><span class="pre">[wiki]</span></tt> section.</p>
<div class="section" id="id1">
<h2>Specific Options</h2>
<p><tt class="docutils literal"><span class="pre">path=DIR</span></tt></p>
<blockquote>
Directory with CDB files.</blockquote>
</div>
</div>
<div class="section" id="type-net">
<h1><tt class="docutils literal"><span class="pre">type=net</span></tt></h1>
<p>Fetch articles via HTTP for MediaWikis without the <a class="reference external" href="http://www.mediawiki.org/wiki/API">MediaWiki API</a>.</p>
<p>Only allowed in <tt class="docutils literal"><span class="pre">[wiki]</span></tt> section.</p>
<p>Note that this type of configuration has a few disadvantages like the ''many''
configuration values and the fact that it can't find out the authors of
articles. If your MediaWiki has the <a class="reference external" href="http://www.mediawiki.org/wiki/API">MediaWiki API</a> enabled, please consider
using <tt class="docutils literal"><span class="pre">type=mwapi</span></tt> instead!</p>
<div class="section" id="id2">
<h2>Specific Options</h2>
<p><tt class="docutils literal"><span class="pre">url=URL</span></tt></p>
<blockquote>
URL of this MediaWiki. This is not used to retrieve articles, but to identify
the MediaWiki. For example <a class="reference external" href="http://en.wiki.pedia.org/">http://en.wiki.pedia.org/</a> could be used for the
English Wikipedia.</blockquote>
<p><tt class="docutils literal"><span class="pre">name=NAME</span></tt></p>
<blockquote>
Name of this MediaWiki, e.g. &quot;English Wikipedia&quot;.</blockquote>
<p><tt class="docutils literal"><span class="pre">articleurl=PATTERN</span></tt></p>
<blockquote>
<p>A pattern used to construct URLs of articles in raw wikitext format from a
title and a revision. The string &quot;&#64;TITLE&#64;&quot; is replaced by the title and the
string &quot;&#64;REVISION&#64;&quot; by the revision.</p>
<p>For example, this is the correct pattern for the English Wikipedia:</p>
<pre class="literal-block">
http://en.wikipedia.org/w/index.php?title=&#64;TITLE&#64;&amp;oldid=&#64;REVISION&#64;&amp;action=raw
</pre>
</blockquote>
<p><tt class="docutils literal"><span class="pre">imagedescriptionurls=PATTERNS</span></tt></p>
<blockquote>
<p>A space separated list of URL patterns to image description pages. The string
&#64;TITLE&#64; is replaced with the image title without the prefix (e.g. without
&quot;Image:&quot;). The listed URLs are tried from left to right.</p>
<p>For example, these are the correct patterns for the English Wikipedia:</p>
<pre class="literal-block">
http://commons.wikimedia.org/w/index.php?title=Image:&#64;TITLE&#64;s&amp;action=raw http://en.wikipedia.org/w/index.php?title=Image:&#64;TITLE&#64;s&amp;action=raw
</pre>
</blockquote>
<p><tt class="docutils literal"><span class="pre">templateurls=PATTERNS</span></tt></p>
<blockquote>
<p>A space separated list of URL patterns to template pages. The string &#64;TITLE&#64;
is replaced by the name of the template without the prefix (e.g. without
&quot;Template:&quot;). The listed URLs are tried from left to right. This allows to
override Templates that come later in the list.</p>
<p>For example this is the correct pattern for the English Wikipedia:</p>
<pre class="literal-block">
http://en.wikipedia.org/w/index.php?title=&#64;TITLE&#64;&amp;action=raw
</pre>
</blockquote>
<p><tt class="docutils literal"><span class="pre">templateblacklist=TITLE</span></tt></p>
<blockquote>
<p>A title of a page in the MediaWiki which contains blacklisted templates.
Example for such a template blacklist page:</p>
<pre class="literal-block">
* [[Template:SkipMe]]
* [[Template:MeToo]]
</pre>
</blockquote>
<p><tt class="docutils literal"><span class="pre">defaultauthors=TEXT</span></tt></p>
<blockquote>
A list of &quot;authors&quot; that get returned as principal article authors for
every article. Set this to some general string (e.g. &quot;Wikpedians&quot; on a
Wikipedia) if the authors for different articles can vary.</blockquote>
</div>
</div>
<div class="section" id="type-download">
<h1><tt class="docutils literal"><span class="pre">type=download</span></tt></h1>
<p>Fetch images via HTTP for MediaWikis that don't support the <a class="reference external" href="http://www.mediawiki.org/wiki/API">MediaWiki API</a>.</p>
<p>Only allowed in the <tt class="docutils literal"><span class="pre">[images]</span></tt> section.</p>
<p>As with <tt class="docutils literal"><span class="pre">type=net</span></tt> for the <tt class="docutils literal"><span class="pre">[wiki]</span></tt> section, consider using <tt class="docutils literal"><span class="pre">type=mwapi</span></tt>
instead.</p>
<div class="section" id="id3">
<h2>Specific Options</h2>
<p><tt class="docutils literal"><span class="pre">url=BASEURLS</span></tt></p>
<blockquote>
<p>A space separated list of &quot;base URLs&quot; for images, i.e. URLs up to the
hash-path for images. For example these would be the correct list of base URLs
for the English Wikipedia:</p>
<pre class="literal-block">
http://upload.wikimedia.org/wikipedia/commons/ http://upload.wikimedia.org/wikipedia/en/
</pre>
</blockquote>
<p><tt class="docutils literal"><span class="pre">localpath=DIR</span></tt></p>
<blockquote>
If given, fetched images are cached to this directory.</blockquote>
<p><tt class="docutils literal"><span class="pre">knownlicenses=LICENSES</span></tt></p>
<blockquote>
A space separated list of know license names that can occur on image
description pages in form of included templates. E.g. &quot;GFDL cc-by-sa&quot;.</blockquote>
</div>
</div>
</div>
</body>
</html>
