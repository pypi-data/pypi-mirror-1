$Id: htmlinputwidget.txt 23744 2007-11-09 15:09:58Z anatoly $

ks.widget.htmlinputwidget.HTMLInputWidget
==================================================

HTMLInputWidget фактически является z3c.widget.tiny.widget.TinyWidget
с определенным набором параметров::

        height = 30
        mce_theme = "advanced"
        mce_theme_advanced_toolbar_location = "top"
        mce_theme_advanced_toolbar_align = "left"
        mce_theme_advanced_statusbar_location = "bottom"
        mce_entity_encoding = "raw"
        mce_convert_newlines_to_brs = "true"
        mce_relative_urls = "false" # ссылки, адреса картинок и т.д. --
                                    # все абсолютные

Кроме этих настроек, продукт также предоставляет механизм задания
выпадающего списка картинок для html-редактора. Контекст вида,
содержащего виджет, адаптируется к интерфейсу ks.widget.interfaces.IHTMLImageListProvider,
и из атрибута images полученного объекта берется список описаний
картинок. Каждое описание представляет собой tuple или list из двух
строк: пояснения к картинке и адреса. Например::

    [ (u'Вид на малахитовую лужу', 'http://some.tld/path/to/puddle.png')
    , (u'Вид изнутри', 'http://some.tld/path/to/inside_out.png')
    ]

# XXX: На самом деле к IHTMLImageListProvider адаптируется, не
# XXX: совсем контекст вида с виджетом. tiny_mce, когда рисует
# XXX: диалог вставки картинки, запрашивает скрипт, указанный
# XXX: параметром mce_external_image_list_url. Для HTMLInputWidget
# XXX: я прописал там "htmlimagelist.js" и зарегистрировал
# XXX: соответствующий вид, который адаптирует *свой* контекст.
# XXX: Во всех случаях, которые я могу представить, это и есть тот
# XXX: самый контекст вида.

configure.zcml содержит привязку виджета к интерфейсу поля
ks.schema.html.interfaces.IHTML.
