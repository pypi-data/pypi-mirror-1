<?xml version="1.0" encoding="UTF-8"?>
<deliverance-test-suite>
<!-- test the base rules used for all pages --> 
<deliverance-test>
  <rules xmlns="http://www.plone.org/deliverance">
    <append-or-replace theme="//head" content="//head/title" />
    <append theme="//head" content="//head/link" />
    <append theme="//head" content="//head/script" />    
    <append theme="//head" content="//head/style" />    
    <append theme="//head" content="//head/meta" />
  </rules>

  <theme base="http://example.com"> 
    <html><head>
	<title>Title to be replaced</title>
	<link rel="preexisting link" />
         <script type="text/javascript" src="http://www.openplans.org/portal_javascripts/Plone%20Default/existing.js"></script>
	 <style type="text/css">	  
	   #effbot-nav {
	  float: left;
	  width: 180px;
	  margin: 0;
	  padding: 10px;
	  }
	 </style>
	 <meta name="generator" content="existing meta" />
      </head><body><div></div><div id="foo">Dummy Content<p>HI!</p></div>
    </body></html>
  </theme>

  <content> 
    <html><head>
	<title>New Title</title>
	<link rel="appended link1" /><link rel="appended link2" />
         <style type="text/css"> #added-style {}</style>
	 <script type="text/javascript" src="http://www.openplans.org/portal_javascripts/Plone%20Default/new.js"></script>
	 <meta name="generator" content="new meta" />
      </head><body><div class="bar">Real Content</div><span class="bar">1</span><span class="quux">2</span><p>zzz</p><span class="bar">3</span></body></html>
  </content>
  
  <output>
    <html>
      <head>
	<link rel="preexisting link" />
        <script type="text/javascript" src="http://www.openplans.org/portal_javascripts/Plone%20Default/existing.js"></script>
	<style type="text/css">	  
	  #effbot-nav {
	  float: left;
	  width: 180px;
	  margin: 0;
	  padding: 10px;
	  }
	</style>
	<meta name="generator" content="existing meta" />
	<title>New Title</title>
	<link rel="appended link1" /><link rel="appended link2" />
        <script type="text/javascript" src="http://www.openplans.org/portal_javascripts/Plone%20Default/new.js"></script>
        <style type="text/css"> #added-style {}</style>
	<meta name="generator" content="new meta" />
      </head>
      <body>
	<div></div>
	<div id="foo">Dummy Content<p>HI!</p></div>
      </body>
    </html>
  </output> 
</deliverance-test>
</deliverance-test-suite>

