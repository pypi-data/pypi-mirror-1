<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="plone">
  <head>
  </head>

  <body>
  <div id="content" metal:fill-slot="content">

    <span tal:condition="req/reindex | nothing"
          tal:define="req context/REQUEST"
          tal:content="view/reinit"/>

    <h1>Index PDF document using OCR - Status page</h1>

    <h2>Queue</h2>
    <tal:queue tal:repeat="doc view/queueStatus">
      <div tal:condition="doc">
        <a href="#"
           tal:content="string: ${doc/id} - ${doc/Title}"
           tal:attributes="href string:${doc/url}/view;
                         title doc/Description">
          [filename] - [title]
        </a>
      </div>  

    </tal:queue>
    <h2>History (last 10 documents)</h2>
    <tal:history tal:repeat="doc view/historyStatus">
      <div tal:condition="doc">
        <a href="#"
           tal:content="string: ${doc/id} - ${doc/Title}"
           tal:attributes="href string:${doc/url}/view;
                           title doc/Description">
          [filename] - [title]
        </a> 
        - 
        <a href="#"
           tal:attributes="href string:${doc/url}/getTextFromOcr">
           (text from ocr)
        </a>
      </div>  
    </tal:history>

  </div>
  </body>

</html>


