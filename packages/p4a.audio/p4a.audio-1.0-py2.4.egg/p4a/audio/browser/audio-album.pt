<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      i18n:domain="plone4artists"
      metal:use-macro="context/main_template/macros/master">
  <body>

<div metal:fill-slot="css_slot"
     tal:define="stylesdir string:$portal_url/++resource++audiostyles">
  <link rel="stylesheet" href="audio.css"
        tal:attributes="href string:${stylesdir}/audio.css" />
</div>

<div metal:fill-slot="main"
     tal:define="audio_items view/audio_items;
                 imagesdir string:$portal_url/++resource++audioimages"
     class="audio-container">

  <div metal:use-macro="context/document_actions/macros/document_actions">
    Document actions (print, sendto etc)
  </div>

  <h1 tal:content="object_title" 
      class="documentFirstHeading">
    Audio Folder Title
  </h1>

  <div id="summary_wrapper" tal:condition="view/should_display_summary">

    <div id="audio_metadata">
      <dl>
        <dt i18n:translate="audio_item_artist">Artist</dt>
        <dd tal:content="view/artist|string:N/A"></dd>
        <dt i18n:translate="audio_item_year">Year</dt>
        <dd tal:content="view/year|string:N/A"></dd>
        <dt i18n:translate="audio_item_genre">Genre</dt>
        <dd tal:content="view/genre|string:N/A"></dd>
        <dt i18n:translate="audio_item_total_length">Total Length</dt>
        <dd tal:content="view/total_length"></dd>
      </dl>
    </div>

    <div id="objmetadata_pbwidgets_wrapper"
         tal:define="description context/Description">
      <div id="playback_widgets">
        <a href="" 
           class="widget_icon" 
           id="syndication_icon" 
           title="RSS Podcast Feed"
           tal:condition="view/has_syndication"
           tal:attributes="href string:${context/absolute_url}/rss.xml"
           ><img tal:attributes="src string:${imagesdir}/feed-icon.png" alt="RSS feed"/></a>

        <a href="#" 
           title="Play in popup window" 
           i18n:attributes=" title label_popup_widget" 
           id="audiocd_popup_widget" 
           class="widget_icon"
           tal:attributes="href string:javascript:void window.open('${context/absolute_url}/audiocd-popup.html', '', 'width=420, height=190, toolbar=no, location=no, directories=no, status=no, menubar=no')"
            ><img tal:attributes="src string:${imagesdir}/popup_play_icon.gif" alt="Play button"/></a>
      </div>

      <div class="documentDescription"
           tal:content="description"
           tal:condition="description">
        Description
      </div>

      <div class="audio-images">
        <img tal:replace="structure view/widgets/audio_image" alt="CD Cover Image" />
        <div class="visualClear"><!-- --></div>
      </div>

    </div>
    <div class="visualClear"><!-- --></div>
  </div>


  <p tal:condition="not: audio_items"
     i18n:translate="description_no_visible_items_add_paste">
    Audio information unavailable because this folder contains no audio items.
  </p>

  <table id="tracklisting"
         tal:condition="audio_items"
         class="listing" 
         summary="Content listing"
         cellpadding="0" cellspacing="0">

    <thead>
      <tr>
        <th class="nosort">&nbsp;</th>
        <th class="nosort">&nbsp;</th>
        <th class="nosort">&nbsp;<span i18n:translate="listingheader_title">Track Title</span>&nbsp;</th>
        <th class="nosort">&nbsp;<span i18n:translate="listingheader_size">Size</span>&nbsp;</th>
        <th class="nosort">&nbsp;<span i18n:translate="listingheader_length">Length (mm:ss)</span>&nbsp;</th>
      </tr>
    </thead>

    <tbody>
      <tr tal:repeat="item audio_items">
        <td class="private audio_embedded_play">
          <span tal:replace="structure item/playerwidget"></span>
        </td>

        <td tal:content="item/idtrack"></td>

        <td>
          <a href="#" tal:attributes="href string:${item/url}/view; 
                                     title item/description"
             ><img tal:attributes="src item/icon" alt="Track icon"
                   />&nbsp;<span tal:replace="item/title">Title</span></a>
        </td>

        <td tal:content="item/size">5.5 MB</td>
        <td tal:content="item/length">track length</td>

      </tr>
    </tbody>
  </table>

</div>

  </body>
</html>
