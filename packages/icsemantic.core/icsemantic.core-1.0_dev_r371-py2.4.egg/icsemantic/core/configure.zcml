<configure
    xmlns="http://namespaces.zope.org/zope"
    xmlns:five="http://namespaces.zope.org/five"
    xmlns:gs="http://namespaces.zope.org/genericsetup"
    i18n_domain='icSemantic'>

	<five:registerPackage package="." initialize=".initialize" />

	<configure package="Products.CMFPlone">
		<class class=".Portal.PloneSite">
			<implements interface="zope.app.component.interfaces.IPossibleSite" />
			<implements interface="zope.app.annotation.interfaces.IAttributeAnnotatable" />
		</class>

		<five:localsite class=".Portal.PloneSite" />
	</configure>

    <adapter
         for="Products.PlonePAS.tools.memberdata.MemberData"
         provides=".interfaces.ILanguagesManager"
         factory=".languages.LanguagesManager"
         name="properties_lm"
         />

    <adapter
        for=".interfaces.IicSemanticSite"
        provides=".interfaces.IicSemanticManagementContentTypes"
        factory=".preferences.content_types_form_adapter"
        />

    <gs:registerProfile
            name="default"
            title="icsemantic.core"
            directory="profiles/default"
            description="icsemantic.core"
            provides="Products.GenericSetup.interfaces.EXTENSION"
            for="Products.CMFPlone.interfaces.IPloneSiteRoot"
            />

    <gs:registerProfile
            name="uninstall"
            title="icsemantic.core"
            directory="profiles/uninstall"
            description="icsemantic.core"
            provides="Products.GenericSetup.interfaces.EXTENSION"
            for="Products.CMFPlone.interfaces.IPloneSiteRoot"
            />

    <include package=".exportimport" />
    <include package=".browser" />
    <include package=".memberdata" />
    <include package=".content" />

    <include file="vocabularies.zcml" />

    <adapter
        for="zope.publisher.interfaces.http.IHTTPRequest"
        provides="zope.i18n.interfaces.IUserPreferredLanguages"
        factory=".languages.request_preferred_languages"
        name="request_preferred_languages"
    />

    <utility
        provides="zope.i18n.interfaces.IUserPreferredLanguages"
        factory=".languages.icSemanticPreferredLanguage"
        name="icsemantic_preferred_languages"
    />

    <adapter
        for="*"
        provides=".interfaces.IicSemanticManageUserLanguages"
        factory=".preferences.icSemanticManagementUserLanguagesFactory"
    />


</configure>
