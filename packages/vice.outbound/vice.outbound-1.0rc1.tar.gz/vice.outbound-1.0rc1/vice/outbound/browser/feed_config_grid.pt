<style>
td.field {text-align: center}
</style>
<span tal:condition="view/widgets">
<table border="0" class="listing" id="listing-table">
  <thead>
    <tr>
      <th class="nosort"> Select </th> 
      <th class="nosort" tal:repeat="title view/config_field_titles">
	<span tal:replace="title"></span>
      </th>
      <th class="nosort">Local URL</th>
    </tr>
  </thead>
  <tbody>
    <tr tal:repeat="widget view/widgets">
      <td class="field">
	<input class="editcheck" type="checkbox"
               tal:attributes="
			       name string:${view/name}.remove_${repeat/widget/index}"
               tal:condition="view/need_delete" />
      </td>
      <span tal:define="error widget/error"
            tal:replace="structure error" tal:condition="error" />
      <input tal:replace="structure widget"/>
      <td><span tal:replace="python:widget.local_url(context.context.__parent__)" /></td>
    </tr>
  </tbody>
</table>
</span>
<table>
  <tr>
    <td colspan="2">
      <input type="submit" value="Remove selected items"
             tal:condition="view/need_delete"
             tal:attributes="name string:${view/name}.remove"
             i18n:attributes="value remove-selected-items" />
      <input type="submit" value="Add foo"
             tal:condition="view/need_add"
             tal:attributes="name string:${view/name}.add;
                             value view/addButtonLabel" />
    </td>
  </tr>
</table>
<input tal:replace="structure view/marker" />
