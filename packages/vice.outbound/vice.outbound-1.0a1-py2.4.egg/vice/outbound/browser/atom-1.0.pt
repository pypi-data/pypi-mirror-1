<?xml version="1.0" encoding="utf-8" ?>
<?xml-stylesheet href="atom.css" type="text/css"?>
<feed xmlns="http://www.w3.org/2005/Atom"
      xmlns:dc="http://purl.org/dc/elements/1.1/"
      xml:base=""
      xml:lang="en"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      tal:define="feed view/feed"
      >
  <title type="html" 
         tal:content="feed/title">
    Title of feed
  </title>
  <subtitle tal:content="feed/description">
    Longer subtitle about the greatness of this magnificent epos.
  </subtitle>

  <updated tal:content="feed/modifiedString">
    2002-10-02T10:00:00-05:00
  </updated>

  <link href="" 
        tal:attributes="href feed/alternate_url"
        rel="alternate"
        type="text/html" />

  <link rel="self" type="application/atom+xml" 
        href="http://example.org/feed.atom" 
        tal:attributes="href feed/self_url"
         />
<!-- XXX TODO: Use this, it's better!
        tal:attributes="href string:${view/absolute_url}" -->

  <tal:comment condition="nothing">
    The atom:id is defined as follows:

    The "atom:id" element's content conveys a permanent, globally unique
    identifier for the feed. It MUST NOT change over time, even if the feed is
    relocated. atom:feed elements MAY contain an atom:id element, but MUST NOT
    contain more than one. The content of this element, when present, MUST be a
    URI.
  </tal:comment>

  <id tal:content="string:urn:syndication:${feed/UID}">
    Really unique id
  </id>

  <tal:comment replace="nothing">
    We'll change this later putting our products name here.
    <generator uri="http://plone.org/products/fatsyndication/"
               version="0.1">fatsyndication</generator>
  </tal:comment>

  <entry tal:repeat="feedentry feed">

    <title tal:content="feedentry/title">
      The Netherlands wins the world cup
    </title>

    <link rel="alternate" 
          type="text/html"
          href=""
          tal:attributes="href string:${feedentry/url}"
     />

    <link rel="related"
          type="text/html"
          href=""
          tal:repeat="url feedentry/relatedUrls"
          tal:attributes="href url"
    />

    <link rel="enclosure"
          type=""
          href=""
          length=""
          tal:condition="feedentry/enclosure"
          tal:attributes="type feedentry/enclosure/mimeType;
                          href feedentry/enclosure/URL;
                          length feedentry/enclosure/size"
    />
    <id tal:content="string:urn:syndication:${feedentry/UID}">
      urn:syndication:12345678
    </id>
    <summary tal:condition="feedentry/description"
             tal:content="feedentry/description"/>

    <tal:block tal:define="text feedentry/XHTML|nothing">
    <content type="xhtml" xml:base="" xml:lang="en-US" xml:space="preserve"
             tal:condition="text">
<!-- XXX TODO:              attributes="xml:base feed/baseURL" -->

      <div xmlns="http://www.w3.org/1999/xhtml">
        <tal:block tal:replace="structure text"/>
      </div>
    </content>
    <content type="html" xml:base="" xml:lang="en-US" xml:space="preserve"
             tal:condition="not:text">
             <!--attributes="xml:base feed/alternate_url" -->
        <tal:block tal:replace="structure string:&lt;![CDATA["/>
        <tal:block tal:replace="structure feedentry/body"/>
        <tal:block tal:replace="structure string:]]&gt;"/>
    </content>
    </tal:block>

    <author>
      <name tal:content="feedentry/author">
        Marco van Basten
      </name>
    </author>

    <published tal:content="feedentry/effectiveString"> 
        
    </published>

    <updated tal:content="feedentry/modifiedString">
    </updated>

    <tal:block repeat="categories feedentry/tags">
      <category tal:attributes="term categories"/>
    </tal:block>

  </entry>

</feed>
