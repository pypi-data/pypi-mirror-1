<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.5: http://docutils.sourceforge.net/" />
<title>RPC4Django Documentation</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 5196 2007-06-03 20:25:28Z wiemann $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left {
  clear: left }

img.align-right {
  clear: right }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font-family: serif ;
  font-size: 100% }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="rpc4django-documentation">
<h1 class="title">RPC4Django Documentation</h1>

<!-- Please see the full HTML documentation in the docs/ directory. -->
<!--  -->
<!-- This documentation is used to generate the HTML documentation using the docutils command: -->
<!-- > rst2html.py - -title="RPC4Django Documentation" - -initial-header-level=2 README.txt > docs/index.html -->
<p>Version: 0.1.2</p>
<p>13 July 2009</p>
<div class="contents topic" id="table-of-contents">
<p class="topic-title first"><strong>Table of Contents</strong></p>
<ul class="simple">
<li><a class="reference internal" href="#overview" id="id3">Overview</a><ul>
<li><a class="reference internal" href="#website" id="id4">Website</a></li>
<li><a class="reference internal" href="#contributors" id="id5">Contributors</a></li>
<li><a class="reference internal" href="#features" id="id6">Features</a></li>
</ul>
</li>
<li><a class="reference internal" href="#license" id="id7">License</a></li>
<li><a class="reference internal" href="#installation" id="id8">Installation</a><ul>
<li><a class="reference internal" href="#prerequisites" id="id9">Prerequisites</a></li>
<li><a class="reference internal" href="#source-install-method" id="id10">Source Install Method</a></li>
<li><a class="reference internal" href="#easy-install-method" id="id11">Easy Install Method</a></li>
<li><a class="reference internal" href="#no-installation-method" id="id12">No Installation Method</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuration" id="id13">Configuration</a></li>
<li><a class="reference internal" href="#additional-information-and-settings" id="id14">Additional Information and Settings</a><ul>
<li><a class="reference internal" href="#running-the-unit-tests" id="id15">Running the Unit Tests</a></li>
<li><a class="reference internal" href="#how-rpc4django-handles-requests" id="id16">How RPC4Django Handles Requests</a></li>
<li><a class="reference internal" href="#method-summary" id="id17">Method Summary</a></li>
<li><a class="reference internal" href="#optional-settings" id="id18">Optional Settings</a></li>
</ul>
</li>
<li><a class="reference internal" href="#planned-features" id="id19">Planned Features</a></li>
<li><a class="reference internal" href="#changelog" id="id20">Changelog</a></li>
</ul>
</div>
<div class="section" id="overview">
<h2><a class="toc-backref" href="#id3">Overview</a></h2>
<div class="section" id="website">
<h3><a class="toc-backref" href="#id4">Website</a></h3>
<ul class="simple">
<li><a class="reference external" href="http://www.davidfischer.name/rpc4django">http://www.davidfischer.name/rpc4django</a></li>
</ul>
</div>
<div class="section" id="contributors">
<h3><a class="toc-backref" href="#id5">Contributors</a></h3>
<ul class="simple">
<li><a class="reference external" href="mailto:rpc4django&#64;gmail.com">David Fischer</a></li>
</ul>
</div>
<div class="section" id="features">
<h3><a class="toc-backref" href="#id6">Features</a></h3>
<p>RPC4Django is an XMLRPC and JSONRPC application for Django powered projects. Simply plug it into any existing Django project and you can make your methods available via XMLRPC and JSONRPC. In addition, it can display nice documentation about the methods it makes available in a more customizable way than DocXMLRPCServer.</p>
<ul class="simple">
<li>Detects request type (JSONRPC or XMLRPC) based on content</li>
<li>Easy identification of RPC methods via a decorator</li>
<li>Pure python and requires no external modules except Django</li>
<li>Customizable RPC method documentation including <a class="reference external" href="http://docutils.sourceforge.net/rst.html">reST</a></li>
<li>Supports XMLRPC and JSONRPC introspection</li>
<li>Supports method signatures (unlike SimpleXMLRPCServer)</li>
<li>Easy installation and integration with existing Django projects</li>
<li>Licensed for inclusion in open source and commercial software</li>
</ul>
</div>
</div>
<hr class="docutils" />
<div class="section" id="license">
<h2><a class="toc-backref" href="#id7">License</a></h2>
<p>RPC4Django is licensed under the BSD license.</p>
<p>Copyright (c) 2009, David Fischer</p>
<p>All rights reserved.</p>
<p>Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:</p>
<ul class="simple">
<li>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</li>
<li>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</li>
<li>Neither the name of rpc4django nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</li>
</ul>
<p>THIS SOFTWARE IS PROVIDED BY David Fischer ''AS IS'' AND ANY
EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL David Fischer BE LIABLE FOR ANY
DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>
</div>
<hr class="docutils" />
<div class="section" id="installation">
<h2><a class="toc-backref" href="#id8">Installation</a></h2>
<div class="section" id="prerequisites">
<h3><a class="toc-backref" href="#id9">Prerequisites</a></h3>
<p>RPC4Django has been tested on Mac OS, Linux and Windows.</p>
<ul class="simple">
<li><a class="reference external" href="http://www.python.org">Python</a> 2.4 - 2.6</li>
<li><a class="reference external" href="http://www.djangoproject.com">Django</a> 1.0+</li>
<li><a class="reference external" href="http://docutils.sourceforge.net">Docutils</a> (optional)</li>
</ul>
</div>
<div class="section" id="source-install-method">
<h3><a class="toc-backref" href="#id10">Source Install Method</a></h3>
<p>This is the preferred method for installing RPC4Django.</p>
<pre class="literal-block">
$&gt; tar xvfz rpc4django-x.y.z.tar.gz
$&gt; cd rpc4django-x.y.z
$&gt; python setup.py install
</pre>
</div>
<div class="section" id="easy-install-method">
<h3><a class="toc-backref" href="#id11">Easy Install Method</a></h3>
<p>RPC4Django can be installed this way if setuptools is installed and easy_install is in your path.</p>
<pre class="literal-block">
$&gt; easy_install rpc4django
</pre>
</div>
<div class="section" id="no-installation-method">
<h3><a class="toc-backref" href="#id12">No Installation Method</a></h3>
<p>This method installs RPC4Django only for one specific django project but does not require any special system access.</p>
<pre class="literal-block">
$&gt; tar xvfz rpc4django-x.y.z.tar.gz
$&gt; cd rpc4django-x.y.z
$&gt; cp -r rpc4django YOUR_DJANGO_PROJECT_DIRECTORY
</pre>
</div>
</div>
<hr class="docutils" />
<div class="section" id="configuration">
<h2><a class="toc-backref" href="#id13">Configuration</a></h2>
<ol class="arabic">
<li><p class="first">First, you need to add new url pattern to your root <tt class="docutils literal"><span class="pre">urls.py</span></tt> file. This file should be the one pointed to by <tt class="docutils literal"><span class="pre">ROOT_URLCONF</span></tt> in settings.py. You can replace <tt class="docutils literal"><span class="pre">r'^RPC2$'</span></tt> with anything you like.</p>
<blockquote>
<pre class="literal-block">
# urls.py
#...
urlpatterns = patterns('',
    # if installed via no install method
    #(r'^RPC2$', 'YOURPROJECT.rpc4django.views.serve_rpc_request'),

    # if installed via source or easy_install
    (r'^RPC2$', 'rpc4django.views.serve_rpc_request'),
)
</pre>
</blockquote>
</li>
<li><p class="first">Second, add RPC4Django to the list of installed applications in your <tt class="docutils literal"><span class="pre">settings.py</span></tt>.</p>
<blockquote>
<pre class="literal-block">
# settings.py
#... INSTALLED_APPS = (
    # if installed via no install
    #'YOURPROJECT.rpc4django',

    # if installed via source or easy_install
    'rpc4django',
)
</pre>
</blockquote>
</li>
<li><p class="first">Lastly, you need to let RPC4Django know which methods to make available. This is done with the decorator <tt class="docutils literal"><span class="pre">&#64;rpcmethod</span></tt>. RPC4Django imports all the apps in <tt class="docutils literal"><span class="pre">INSTALLED_APPS</span></tt> and makes any methods importable via <tt class="docutils literal"><span class="pre">__init__.py</span></tt> with the <tt class="docutils literal"><span class="pre">&#64;rpcmethod</span></tt> decorator available as RPC methods. You can always write your RPC methods in another module and simply import it in <tt class="docutils literal"><span class="pre">__init__.py</span></tt>.</p>
<blockquote>
<pre class="literal-block">
# testapp/__init__.py
from rpc4django import rpcmethod

# This imports another method to be made available as an RPC method
# This method should also have the &#64;rpcmethod decorator
# from mymodule import myrpcmethod

# The doc string supports reST if docutils is installed
&#64;rpcmethod(name='mynamespace.add', signature=['int', 'int', 'int'])
def add(a, b):
    '''Adds two numbers together
    &gt;&gt;&gt; add(1, 2)
    3
    '''

    return a+b
</pre>
<p>The decorator <tt class="docutils literal"><span class="pre">&#64;rpcmethod</span></tt> accepts two optional parameters:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">name</span></tt> - is the name under which the method will be made externally available. It defaults to the method's real name.</li>
<li><tt class="docutils literal"><span class="pre">signature</span></tt> - is the signature of the method and will be returned by calls to the XMLRPC introspection method <tt class="docutils literal"><span class="pre">system.methodSignature</span></tt>. It is of the form: <tt class="docutils literal"><span class="pre">[return_value,</span> <span class="pre">arg1,</span> <span class="pre">arg2,</span> <span class="pre">arg3,</span> <span class="pre">...]</span></tt>. All of the types should be XMLRPC types (eg. struct, int, array, etc. -- see the XMLRPC <a class="reference external" href="http://www.xmlrpc.com/spec">spec</a> for details). Since python is relatively loosely typed, all types are set to object by default.</li>
</ul>
</blockquote>
</li>
</ol>
</div>
<hr class="docutils" />
<div class="section" id="additional-information-and-settings">
<h2><a class="toc-backref" href="#id14">Additional Information and Settings</a></h2>
<div class="section" id="running-the-unit-tests">
<h3><a class="toc-backref" href="#id15">Running the Unit Tests</a></h3>
<p>The unit tests can be <a class="reference external" href="http://docs.djangoproject.com/en/dev/topics/testing/#id1">run</a> using <tt class="docutils literal"><span class="pre">manage.py</span></tt></p>
<pre class="literal-block">
$&gt; python manage.py test rpc4django
</pre>
</div>
<div class="section" id="how-rpc4django-handles-requests">
<h3><a class="toc-backref" href="#id16">How RPC4Django Handles Requests</a></h3>
<ul class="simple">
<li>If the request is a GET request, return an HTML method summary</li>
<li>A POST request with content-type header set to <tt class="docutils literal"><span class="pre">text/xml</span></tt> or <tt class="docutils literal"><span class="pre">application/xml</span></tt> will be processed as XMLRPC</li>
<li>A POST request with content-type header containing <tt class="docutils literal"><span class="pre">json</span></tt> or <tt class="docutils literal"><span class="pre">javascript</span></tt> will be processed as JSONRPC</li>
<li>Try to parse the POST data as xml. If it parses successfully, process it as XMLRPC</li>
<li>Process it as JSONRPC</li>
</ul>
</div>
<div class="section" id="method-summary">
<h3><a class="toc-backref" href="#id17">Method Summary</a></h3>
<ul class="simple">
<li>The method summary displays docstrings, signatures, and names from methods marked with the <tt class="docutils literal"><span class="pre">&#64;rpcmethod</span></tt> decorator.</li>
<li>The method summary allows testing of methods via JSONRPC (unless it is disabled)</li>
<li>The summary is served (unless it is disabled) from a template <tt class="docutils literal"><span class="pre">rpc4django/rpcmethod_summary.html</span></tt> and can be customized in a similar way to the <a class="reference external" href="http://docs.djangoproject.com/en/dev/intro/tutorial02/#customize-the-admin-look-and-feel">django admin</a>.</li>
<li>The method summary supports <a class="reference external" href="http://docutils.sourceforge.net/rst.html">reST</a> in docstrings if the docutils library is installed. Plain text is used otherwise. Warnings and errors are not reported in the output.</li>
</ul>
</div>
<div class="section" id="optional-settings">
<h3><a class="toc-backref" href="#id18">Optional Settings</a></h3>
<p>These are settings that can go in your project's <tt class="docutils literal"><span class="pre">settings.py</span></tt>:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">RPC4DJANGO_LOG_REQUESTS_RESPONSES=True|False</span></tt> (default True)</dt>
<dd>By default RPC4Django will log (using the python logging module) all requests and responses. This can be disabled by setting <tt class="docutils literal"><span class="pre">RPC4DJANGO_LOG_REQUESTS_RESPONSES=False</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">RPC4DJANGO_RESTRICT_INTROSPECTION=True|False</span></tt> (default False)</dt>
<dd>By default RPC4Django registers the standard XMLRPC and JSONRPC introspection functions. This can be disabled by setting <tt class="docutils literal"><span class="pre">RPC4DJANGO_RESTRICT_INTROSPECTION=True</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">RPC4DJANGO_RESTRICT_JSONRPC=True|False</span></tt> (default False)</dt>
<dd>If <tt class="docutils literal"><span class="pre">RPC4DJANGO_RESTRICT_JSONRPC=True</span></tt>, RPC4Django will never serve a JSONRPC request. Instead, either XMLRPC will be tried or status code 404 will be returned.</dd>
<dt><tt class="docutils literal"><span class="pre">RPC4DJANGO_RESTRICT_XMLRPC=True|False</span></tt> (default False)</dt>
<dd>If <tt class="docutils literal"><span class="pre">RPC4DJANGO_RESTRICT_XMLRPC=True</span></tt>, RPC4Django will never serve an XMLRPC request. Instead, either JSONRPC will be tried or status code 404 will be returned.</dd>
<dt><tt class="docutils literal"><span class="pre">RPC4DJANGO_RESTRICT_DOCUMENTATION=True|False</span></tt> (default False)</dt>
<dd>If <tt class="docutils literal"><span class="pre">RPC4DJANGO_RESTRICT_DOCUMENTATION=True</span></tt>, status code 404 will be returned instead of serving the method summary as a response to a GET request.</dd>
<dt><tt class="docutils literal"><span class="pre">RPC4DJANGO_RESTRICT_RPCTEST=True|False</span></tt> (default False)</dt>
<dd>If <tt class="docutils literal"><span class="pre">RPC4DJANGO_RESTRICT_RPCTEST=True</span></tt>, the method summary will not allow testing via JSONRPC.</dd>
</dl>
</div>
</div>
<hr class="docutils" />
<div class="section" id="planned-features">
<h2><a class="toc-backref" href="#id19">Planned Features</a></h2>
<ul class="simple">
<li>Authenticated view that ties in with Django's <a class="reference external" href="http://docs.djangoproject.com/en/dev/topics/auth">auth</a> system</li>
<li>Any requested features</li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="changelog">
<h2><a class="toc-backref" href="#id20">Changelog</a></h2>
<p><strong>Version 0.1.2 (13 July 2009)</strong></p>
<ul class="simple">
<li>Improved unit testing including adding support for <a class="reference external" href="http://docs.djangoproject.com/en/dev/topics/testing/#making-requests">testing views</a></li>
<li>Fixed a minor bug involving the incorrect use of xmlrpclib.Fault which was causing some errors to be reported with the wrong error message</li>
<li>Fetched the URL for the simple method descriptor using <a class="reference external" href="http://docs.djangoproject.com/en/dev/topics/http/urls/#reverse">reverse()</a></li>
<li>Enabled testing an RPC method directly from the method summary</li>
<li>Fixed some failing unit tests on older python versions</li>
</ul>
<p><strong>Version 0.1.1 (11 July 2009)</strong></p>
<ul class="simple">
<li>Improved documentation by integrating <a class="reference external" href="http://docutils.sourceforge.net/rst.html">reST</a></li>
<li>Allowed reST markup in rpcmethod docstrings</li>
<li>Fix easy_install problems related to django templates</li>
<li>Tested version compatibility</li>
<li>Allowed analyzing post data when content-type cannot tell whether the data is XML or JSON</li>
</ul>
<p><strong>Version 0.1.0 (6 July 2009)</strong></p>
<ul class="simple">
<li>First version of RPC4Django</li>
</ul>
</div>
</div>
</body>
</html>
