<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Action framework &mdash; Dragonfly v0.6.4rc3 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
          URL_ROOT:    '',
          VERSION:     '0.6.4rc3',
          COLLAPSE_MODINDEX: false,
          FILE_SUFFIX: '.html'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="contents" title="Global table of contents" href="contents.html" />
    <link rel="index" title="Global index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="top" title="Dragonfly v0.6.4rc3 documentation" href="index.html" />
    <link rel="next" title="Key action reference" href="actionkey.html" />
    <link rel="prev" title="Object model" href="objectmodel.html" />
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="actionkey.html" title="Key action reference"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="objectmodel.html" title="Object model"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Dragonfly v0.6.4rc3 documentation</a> &raquo;</li>
      </ul>
    </div>
    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  
  <div class="section" id="action-framework">
<h1>Action framework<a class="headerlink" href="#action-framework" title="Permalink to this headline">¶</a></h1>
<p>The Dragonfly library contains an action framework which which
offers easy and flexible interfaces to common actions, such as
emulating keystrokes.  These action types have been objectified,
which means that they are first-class Python objects and can be
treated as such.</p>
<p>Perhaps the most important method of Dragonfly&#8217;s actions is
their <tt class="xref docutils literal"><span class="pre">ActionBase.execute()</span></tt> method, which performs the
actual event associated with them.</p>
<p>Dragonfly&#8217;s action types are derived from the
<tt class="xref docutils literal"><span class="pre">ActionBase</span></tt> class.  This base class implements standard
action behavior, such as the ability to concatenate multiple
actions and to duplicate an action.</p>
<p>Contents:</p>
<ul>
<li><a class="reference external" href="actionkey.html">Key action reference</a><ul>
<li><a class="reference external" href="actionkey.html#key-class">Key class</a></li>
<li><a class="reference external" href="actionkey.html#key-specification-format">Key specification format</a></li>
<li><a class="reference external" href="actionkey.html#key-names">Key names</a></li>
</ul>
</li>
</ul>
<ul>
<li><a class="reference external" href="actiontext.html">Text action reference</a><ul>
<li><a class="reference external" href="actiontext.html#text-class">Text class</a></li>
</ul>
</li>
</ul>
<div class="section" id="basic-examples">
<h2>Basic examples<a class="headerlink" href="#basic-examples" title="Permalink to this headline">¶</a></h2>
<p>The code below shows the basic usage of Dragonfly action
objects.  They can be created, combined, executed, etc.</p>
<div class="highlight"><pre><span class="kn">from</span> <span class="nn">dragonfly.all</span> <span class="kn">import</span> <span class="n">Key</span><span class="p">,</span> <span class="n">Text</span>

<span class="n">a1</span> <span class="o">=</span> <span class="n">Key</span><span class="p">(</span><span class="s">&quot;up, left, down, right&quot;</span><span class="p">)</span>   <span class="c"># Define action a1.</span>
<span class="n">a1</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>                        <span class="c"># Send the keystrokes.</span>

<span class="n">a2</span> <span class="o">=</span> <span class="n">Text</span><span class="p">(</span><span class="s">&quot;Hello world!&quot;</span><span class="p">)</span>           <span class="c"># Define action a2, which</span>
                                    <span class="c">#  will type the text.</span>
<span class="n">a2</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>                        <span class="c"># Send the keystrokes.</span>

<span class="n">a4</span> <span class="o">=</span> <span class="n">a1</span> <span class="o">+</span> <span class="n">a2</span>                        <span class="c"># a4 is now the concatenation</span>
                                    <span class="c">#  of a1 and a2.</span>
<span class="n">a4</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>                        <span class="c"># Send the keystrokes.</span>

<span class="n">a3</span> <span class="o">=</span> <span class="n">Key</span><span class="p">(</span><span class="s">&quot;a-f, down/25:4&quot;</span><span class="p">)</span>          <span class="c"># Press alt-f and then down 4 times</span>
                                    <span class="c">#  with 25/100 s pause in between.</span>
<span class="n">a4</span> <span class="o">+=</span> <span class="n">a3</span>                            <span class="c"># a4 is now the concatenation</span>
                                    <span class="c">#  of a1, a2, and a3.</span>
<span class="n">a4</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>                        <span class="c"># Send the keystrokes.</span>

<span class="n">Key</span><span class="p">(</span><span class="s">&quot;w-b, right/25:5&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>    <span class="c"># Define and execute together.</span>
</pre></div>
</div>
<div class="section" id="action-types">
<h2>Action types<a class="headerlink" href="#action-types" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><strong>``Key(...)&#8221;</strong></dt>
<dd>Keystroke sending action.</dd>
<dt><strong>``Text(...)&#8221;</strong></dt>
<dd>Text input action.</dd>
<dt><strong>``Pause(...)&#8221;</strong></dt>
<dd>Explicit pause between actions.</dd>
</dl>
</div>
<div class="section" id="combining-voice-commands-and-actions">
<h2>Combining voice commands and actions<a class="headerlink" href="#combining-voice-commands-and-actions" title="Permalink to this headline">¶</a></h2>
<p>A common use of Dragonfly is to control other applications by
voice and to automate common desktop activities.  To do this,
voice commands can be associated with actions.  When the command
is spoken, the action is executed.  Dragonfly&#8217;s action framework
allows for easy definition of things to do, such as text input
and sending keystrokes.  It also allows these things to be
dynamically coupled to voice commands, so as to enable the
actions to contain dynamic elements from the recognized command.</p>
<p>An example would be a voice command to find some bit of text:</p>
<blockquote>
<ul class="simple">
<li>Command specification: <tt class="docutils literal"><span class="pre">please</span> <span class="pre">find</span> <span class="pre">&lt;text&gt;</span></tt></li>
<li>Associated action: <tt class="docutils literal"><span class="pre">Key(&quot;c-f&quot;)</span> <span class="pre">+</span> <span class="pre">Text(&quot;%(text)s&quot;)</span></tt></li>
<li>Special element: <tt class="docutils literal"><span class="pre">Dictation(&quot;text&quot;)</span></tt></li>
</ul>
</blockquote>
<p>This triplet would allow the user to say <em>&#8220;please find some
words&#8221;</em>, which would result in <em>control-f</em> being pressed to open
the <em>Find</em> dialogue followed by <em>&#8220;some words&#8221;</em> being typed into
the dialog.  The <em>special element</em> is necessary to define
what the dynamic element <em>&#8220;text&#8221;</em> is.</p>
</div>
<div class="section" id="dynamic-element-types-a-k-a-extras">
<h2>Dynamic element types, a.k.a. <tt class="docutils literal"><span class="pre">extras</span></tt><a class="headerlink" href="#dynamic-element-types-a-k-a-extras" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><strong>``Dictation(...)&#8221;</strong></dt>
<dd>Free-form dictation element.</dd>
<dt><strong>``Choice(...)&#8221;</strong></dt>
<dd>Choice of an item from a predefined set.</dd>
<dt><strong>``RuleRef(...)&#8221;</strong></dt>
<dd>Reference to another rule within this grammar.</dd>
<dt><strong>``ListRef(...)&#8221;</strong></dt>
<dd>Reference to a dynamic list within this grammar.</dd>
</dl>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3>Table Of Contents</h3>
            <ul>
<li><a class="reference external" href="">Action framework</a><ul>
<li><a class="reference external" href="#basic-examples">Basic examples</a></li>
<li><a class="reference external" href="#action-types">Action types</a></li>
<li><a class="reference external" href="#combining-voice-commands-and-actions">Combining voice commands and actions</a></li>
<li><a class="reference external" href="#dynamic-element-types-a-k-a-extras">Dynamic element types, a.k.a. <tt class="docutils literal"><span class="pre">extras</span></tt></a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="objectmodel.html" title="previous chapter">Object model</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="actionkey.html" title="next chapter">Key action reference</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/actions.txt">Show Source</a></li>
            </ul>
            <h3>Quick search</h3>
            <form class="search" action="search.html" method="get">
              <input type="text" name="q" size="18" /> <input type="submit" value="Go" />
              <input type="hidden" name="check_keywords" value="yes" />
              <input type="hidden" name="area" value="default" />
            </form>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="actionkey.html" title="Key action reference"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="objectmodel.html" title="Object model"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Dragonfly v0.6.4rc3 documentation</a> &raquo;</li>
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2008, Christo Butcher.
      Last updated on Dec 27, 2008.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
    </div>
  </body>
</html>