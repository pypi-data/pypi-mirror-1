<div metal:define-macro="widget" >
	<input type="text" size="30"
			  tal:attributes="id id; name id; value value;" />
     <td>
		  <select size="1" 
		             tal:attributes="id string:${id}_selector; 
		                                    onChange string:set_text_transform('${id}')">
			  <option value="">Choose a text transform...</option>
			  <option value="none">none</option>
			  <option value="capitalize">capitalize</option>
			  <option value="uppercase">uppercase</option>
			  <option value="lowercase">lowercase</option>
		  </select>
      </td>
</div>

<div metal:define-macro="global-stuff" >
	<script type="text/javascript">
		function set_text_transform(id)
		{
			var selector = document.getElementById(id + '_selector');
			document.getElementById(id).value = selector.value;
			selector.value = '';  // Set it back to "Choose one...".
		}
	</script>
</div>