<html>
<head>
<title> Components/pydoc/Kamaelia.Protocol.AIM.AIMHarness </title>

<style>
a {
    text-decoration: none;
}
*.thinborder {
    border-style: solid;
    border-width: thin;
}
.boxright {
    float: right;
    width: 20em;
    padding: 0.5em;
    margin: 1em;
    clear: right;
    border: 1px solid;
    text-align: left;
}
.leftbar {
    float: left;
    width: 10em;
    padding-left: 1.0em;
    padding-right: 0.5em;
    padding-top: 0em;
    margin-top: 0em;
    margin-bottom: 1em;
    margin-left: 0em;
    margin-right: 1em;
    clear: left;
    text-align: left;
}
.boxleft{
    float: left;
    width: 9.5em;
    padding-top: 0.5em;
    padding-bottom: 0.5em;
    padding-left: 1.0em;
    padding-right: 1.0em;
    margin-top: 1em;
    margin-bottom: 1em;
    margin-left: 0em;
    margin-right: 1em;
    clear: left;
    border-top: 5px solid;
    border-bottom: 5px solid;
    text-align: left;
}
.none { width: 100%;
        clear: both;
}

.subsection { }
.sectionheader {
                 text-align: center;
                 font-weight: bold;
                 padding-bottom: 1em;
               }
.sectioncontent { font-size: 0.9em;
                  margin-left: 2em;
                  line-height: 1.5;
                  text-align: left;
                }
.verticaldivider { float: bottom;
                   width: 100%;
                 }

 .rbroundbox_green { background: url(/t/green.corners-top.png) repeat-x; 
               width: 50%;
               float: right;
               }
 .rbtop_green div { background: url(/t/green.corners-topleft.png) no-repeat top left; }
 .rbtop_green { background: url(/t/green.corners-topright.png) no-repeat top right; }

 .rbcontent_green div { background: url(/t/green.corners-right.png) repeat-y right; 
                }
 .rbcontent_green { background: url(/t/green.corners-left.png) repeat-y left; 
              padding-left: 1.5em;
            }

 .rbbot_green div { background: url(/t/green.corners-bottomleft.png) no-repeat bottom left; }
 .rbbot_green { background: url(/t/green.corners-bottomright.png) no-repeat bottom right; }
 .rbbottom_green { background: url(/t/green.corners-bottom.png) repeat-x; }
 .rbtop_green div, .rbtop_green, .rbbot_green div, .rbbot_green {
 width: 100%;
 height: 23px;
 font-size: 1px;
 }
body {
   text-align: justify;
}

.sidebar {
    width: 10em;
    float: left;
    padding-left: 1em;
    padding-right: 1em;

}
.bodytext {

    margin: 0 5em 0em 5em;
    float: auto;
    padding-left: 1em;
    padding-right: 1em;
}
.topnav {
    padding-top: 0em;
    margin-top: 0em;
    float: right;
}
</style>

</head>
<body style="font-size: 10pt; font-family: verdana,arial,helvetica,sans-serif; line-height: 1.8;">
</div>

</span></p>
<div class="bodytext">
<html>
<head>
<title>Kamaelia docs : Kamaelia.Protocol.AIM.AIMHarness</title>
<style type="test/css">
pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;
  background-color: #eeeeee }
</style>
</head>
<body>
<div class="container">
<div class="section">
<h1><a class="reference" href="Kamaelia.html">Kamaelia</a>.<a class="reference" href="Kamaelia.Protocol.html">Protocol</a>.<a class="reference" href="Kamaelia.Protocol.AIM.html">AIM</a>.<a class="reference" href="Kamaelia.Protocol.AIM.AIMHarness.html">AIMHarness</a></h1>
</div>
<div class="section">
<div class="container">
<ul class="simple">
<li><strong>component <a class="reference" href="Kamaelia.Protocol.AIM.AIMHarness.AIMHarness.html">AIMHarness</a></strong></li>
</ul>
</div>
<ul class="simple">
<li><a class="reference" href="#591">AIM Harness</a><ul>
<li><a class="reference" href="#592">Example Usage</a><ul>
</ul>
</li>
<li><a class="reference" href="#593">How it works</a><ul>
</ul>
</li>
<li><a class="reference" href="#594">Known issues</a><ul>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section">
<h1 id="591">AIM Harness</h1>
<p>Provides a high-level Kamaelia interface to AIM.</p>
<p>For a Kamaelia interface at the FLAP and SNAC levels, see OSCARClient.py</p>
<div class="section">
<h2 id="592"><a id="example-usage" name="example-usage">Example Usage</a></h2>
<p>A simple command-line client with a truly horrible interface:</p>
<pre class="literal-block">
def tuplefy(data):
    data = data.split()
    if len(data) &gt; 1:
        data = (&quot;message&quot;, data[0], &quot; &quot;.join(data[1:]))
        return data

Pipeline(ConsoleReader(),
         PureTransformer(tuplefy),
         AIMHarness(),
         ConsoleEchoer()
        ).run()
</pre>
</div>
<div class="section">
<h2 id="593"><a id="how-it-works" name="how-it-works">How it works</a></h2>
<p>AIMHarness ties LoginHandler and ChatManager together. First it initializes a
LoginHandler, waits for it to send out a logged-in OSCARClient, then wires up a
ChatManager to the OSCARClient. It wires up its &quot;inbox&quot; to ChatManager's &quot;talk&quot;,
and ChatManager's &quot;heard&quot; to &quot;outbox&quot;.</p>
<p>Once everything is up and functioning, the AIMHarness will stay running to act as
an intermediary to pass messages between the OSCARClient and the ChatManager, but
the AIMHarness will not act upon any of the information other than to pass it.</p>
<p>To send an instant message to another user, send the command
(&quot;message&quot;, recipient, text of the message) to its &quot;inbox&quot;.</p>
<p>AIMHarness will send out the following notifications through its &quot;outbox&quot;:</p>
<table border="1" class="docutils">
<colgroup>
<col width="52%" />
<col width="48%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">NOTIFICATION</th>
<th class="head">EVENT</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>(&quot;buddy online&quot;, {buddy information})</td>
<td>A buddy comes online</td>
</tr>
<tr><td>(&quot;message&quot;, sender, message text)</td>
<td>An instant message arrives for you</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<h2 id="594"><a id="known-issues" name="known-issues">Known issues</a></h2>
<p>This component does not terminate.</p>
</div>
</div>
<hr class="docutils" />
<div class="section">
<h1><a class="reference" href="Kamaelia.html">Kamaelia</a>.<a class="reference" href="Kamaelia.Protocol.html">Protocol</a>.<a class="reference" href="Kamaelia.Protocol.AIM.html">AIM</a>.<a class="reference" href="Kamaelia.Protocol.AIM.AIMHarness.html">AIMHarness</a>.<a class="reference" href="Kamaelia.Protocol.AIM.AIMHarness.AIMHarness.html">AIMHarness</a></h1>
<div class="section">
<h2 id="symbol-AIMHarness">class AIMHarness(<a class="reference" href="Axon.Component.component.html">Axon.Component.component</a>)</h2>
<p>AIMHarness() -&gt; new AIMHarness component</p>
<p>Send (&quot;message&quot;, recipient, message) commands to its &quot;inbox&quot; to send
instant messages. It will output (&quot;buddy online&quot;, {name: buddyname}) and
(&quot;message&quot;, sender, message) tuples whenever a buddy comes online or a new
message arrives for you.</p>
<div class="section">
<h3><a id="symbol-AIMHarness.Inboxes" name="symbol-AIMHarness.Inboxes">Inboxes</a></h3>
<ul class="simple">
<li><strong>control</strong> : NOT USED</li>
<li><strong>internal control</strong> : links to signal outbox of various child components</li>
<li><strong>inbox</strong> : tuple-based commands for ChatManager</li>
<li><strong>internal inbox</strong> : links to various child components</li>
</ul>
</div>
<div class="section">
<h3><a id="symbol-AIMHarness.Outboxes" name="symbol-AIMHarness.Outboxes">Outboxes</a></h3>
<ul class="simple">
<li><strong>outbox</strong> : tuple-based notifications from ChatManager</li>
<li><strong>signal</strong> : NOT USED</li>
<li><strong>internal signal</strong> : sends shutdown handling signals to various child components</li>
<li><strong>internal outbox</strong> : outbox to various child components</li>
</ul>
</div>
<div class="section">
<h3>Methods defined here</h3>
<div class="container">
</div>
<div class="section">
<h4><a id="symbol-AIMHarness.__init__" name="symbol-AIMHarness.__init__">__init__(self, screenname, password)</a></h4>
<p>x.__init__(...) initializes x; see x.__class__.__doc__ for signature</p>
</div>
<div class="section">
<h4><a id="symbol-AIMHarness.main" name="symbol-AIMHarness.main">main(self)</a></h4>
<p>Waits for logged-in OSCARClient and links it up to ChatManager</p>
</div>
</div>
<div class="section">
</div>
</div>
</div>
</div>





<div class="section">
<h1>Feedback</h1>
<p>Got a problem with the documentation? Something unclear that could be clearer?
Want to help improve it? Constructive criticism is very welcome - especially if you can suggest a better rewording!</p>
<p>Please leave you feedback
<a class="reference" href="../../../cgi-bin/blog/blog.cgi?rm=viewpost&amp;nodeid=1142023701">here</a>
in reply to the documentation thread in the Kamaelia blog.</p>
</div>


<p><i>-- Automatic documentation generator, 19 Oct 2008 at 14:29:09 UTC/GMT</i>
</body></html>


</div>
<div style="float: left; width: 5em; text-align: center"><img src='/Kamaelia.gif'></div>
<div class="bodytext">
This is a page from the Kamaelia website. You can find the original here:
<ul><li><a href="http://www.kamaelia.org/Components/pydoc/Kamaelia.Protocol.AIM.AIMHarness.html">
http://www.kamaelia.org/Components/pydoc/Kamaelia.Protocol.AIM.AIMHarness
</a></ul>

</div>
</body>
</html>
