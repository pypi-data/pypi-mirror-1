<html>
<head>
<title> Components/pydoc/Kamaelia.UI.Tk.TkWindow </title>

<style>
a {
    text-decoration: none;
}
*.thinborder {
    border-style: solid;
    border-width: thin;
}
.boxright {
    float: right;
    width: 20em;
    padding: 0.5em;
    margin: 1em;
    clear: right;
    border: 1px solid;
    text-align: left;
}
.leftbar {
    float: left;
    width: 10em;
    padding-left: 1.0em;
    padding-right: 0.5em;
    padding-top: 0em;
    margin-top: 0em;
    margin-bottom: 1em;
    margin-left: 0em;
    margin-right: 1em;
    clear: left;
    text-align: left;
}
.boxleft{
    float: left;
    width: 9.5em;
    padding-top: 0.5em;
    padding-bottom: 0.5em;
    padding-left: 1.0em;
    padding-right: 1.0em;
    margin-top: 1em;
    margin-bottom: 1em;
    margin-left: 0em;
    margin-right: 1em;
    clear: left;
    border-top: 5px solid;
    border-bottom: 5px solid;
    text-align: left;
}
.none { width: 100%;
        clear: both;
}

.subsection { }
.sectionheader {
                 text-align: center;
                 font-weight: bold;
                 padding-bottom: 1em;
               }
.sectioncontent { font-size: 0.9em;
                  margin-left: 2em;
                  line-height: 1.5;
                  text-align: left;
                }
.verticaldivider { float: bottom;
                   width: 100%;
                 }

 .rbroundbox_green { background: url(/t/green.corners-top.png) repeat-x; 
               width: 50%;
               float: right;
               }
 .rbtop_green div { background: url(/t/green.corners-topleft.png) no-repeat top left; }
 .rbtop_green { background: url(/t/green.corners-topright.png) no-repeat top right; }

 .rbcontent_green div { background: url(/t/green.corners-right.png) repeat-y right; 
                }
 .rbcontent_green { background: url(/t/green.corners-left.png) repeat-y left; 
              padding-left: 1.5em;
            }

 .rbbot_green div { background: url(/t/green.corners-bottomleft.png) no-repeat bottom left; }
 .rbbot_green { background: url(/t/green.corners-bottomright.png) no-repeat bottom right; }
 .rbbottom_green { background: url(/t/green.corners-bottom.png) repeat-x; }
 .rbtop_green div, .rbtop_green, .rbbot_green div, .rbbot_green {
 width: 100%;
 height: 23px;
 font-size: 1px;
 }
body {
   text-align: justify;
}

.sidebar {
    width: 10em;
    float: left;
    padding-left: 1em;
    padding-right: 1em;

}
.bodytext {

    margin: 0 5em 0em 5em;
    float: auto;
    padding-left: 1em;
    padding-right: 1em;
}
.topnav {
    padding-top: 0em;
    margin-top: 0em;
    float: right;
}
</style>

</head>
<body style="font-size: 10pt; font-family: verdana,arial,helvetica,sans-serif; line-height: 1.8;">
</div>

</span></p>
<div class="bodytext">
<html>
<head>
<title>Kamaelia docs : Kamaelia.UI.Tk.TkWindow</title>
<style type="test/css">
pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;
  background-color: #eeeeee }
</style>
</head>
<body>
<div class="container">
<div class="section">
<h1><a class="reference" href="Kamaelia.html">Kamaelia</a>.<a class="reference" href="Kamaelia.UI.html">UI</a>.<a class="reference" href="Kamaelia.UI.Tk.html">Tk</a>.<a class="reference" href="Kamaelia.UI.Tk.TkWindow.html">TkWindow</a></h1>
</div>
<div class="section">
<div class="container">
<ul class="simple">
<li><strong>component <a class="reference" href="Kamaelia.UI.Tk.TkWindow.TkWindow.html">TkWindow</a></strong></li>
<li><strong>component <a class="reference" href="Kamaelia.UI.Tk.TkWindow.tkInvisibleWindow.html">tkInvisibleWindow</a></strong></li>
</ul>
</div>
<ul class="simple">
<li><a class="reference" href="#355">Simple Tk Window base class</a><ul>
<li><a class="reference" href="#356">Example Usage</a><ul>
</ul>
</li>
<li><a class="reference" href="#357">How does it work?</a><ul>
</ul>
</li>
<li><a class="reference" href="#358">Development History</a><ul>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section">
<h1 id="355">Simple Tk Window base class</h1>
<p>A simple component providing a framework for having a Tk window as a component.</p>
<p>TkInvisibleWindow is a simple implementation of an invisible (hidden) Tk window,
useful if you want none of the visible windows to be the Tk root window.</p>
<div class="section">
<h2 id="356"><a id="example-usage" name="example-usage">Example Usage</a></h2>
<dl class="docutils">
<dt>Three Tk windows, one with &quot;Hello world&quot; written in it::</dt>
<dd><dl class="first docutils">
<dt>class MyWindow(TkWindow):</dt>
<dd><dl class="first last docutils">
<dt>def __init__(self, title, text):</dt>
<dd>self.title = title
self.text  = text
super(MyWindow,self).__init__()</dd>
<dt>def setupWindow(self):</dt>
<dd><p class="first">self.label = Tkinter.Label(self.window, text=self.text)</p>
<p>self.window.title(self.title)</p>
<p class="last">self.label.grid(row=0, column=0, sticky=Tkinter.N+Tkinter.E+Tkinter.W+Tkinter.S)
self.window.rowconfigure(0, weight=1)
self.window.columnconfigure(0, weight=1)</p>
</dd>
</dl>
</dd>
</dl>
<p>root = TkWindow().activate()          # first window created is the root
win2 = MyWindow(&quot;MyWindow&quot;,&quot;Hello world!&quot;).activate()</p>
<p class="last">scheduler.run.runThreads(slowmo=0)</p>
</dd>
</dl>
</div>
<div class="section">
<h2 id="357"><a id="how-does-it-work" name="how-does-it-work">How does it work?</a></h2>
<p>This component provides basic integration for Tk. It creates and sets up a Tk
window widget, and then provides a kamaelia main loop that ensures Tk's own
event processing loop is regularly called.</p>
<p>self.window contains the Tk window widget.</p>
<p>To set up your own widgets and event handling bindings for the window,
reimplement the setupWindow() method.</p>
<p>NOTE: Do not bind the &quot;&lt;Destroy&gt;&quot; event as this is already handled. Instead,
reimplement the destroyHandler() method. This is guaranteed to only be called if
the destroy event is for this specific window.</p>
<p>The first window instantiated is the Tk &quot;root&quot; window. Note that closing this
window will result in Tk trying to close down. To avoid this style of behaviour,
create a TkInvisibleWindow as the root.</p>
<p>The existing main() method ensures Tk's event processing loop is regularly
called.</p>
<p>You can reimplement main(). However, you must ensure you include the existing
functionality:
- regularly calling tkupdate() to ensure Tk gets to process its own events
- calls self.window.destroy() method to destroy the window upon shutdown.
- finishes if self.isDestroyed() returns True</p>
<p>The existing main() method will cause the component to terminate if a
producerFinished or shutdownMicroprocess message is received on the &quot;control&quot;
inbox. It sends the message on out of the &quot;signal&quot; outbox and calls
self.window.destroy() to ensure the window is destroyed.</p>
<p>NOTE: main() must not ask to be paused as it calls the Tk event loop. If the
Tk event loop is not called, then a Tk app will freeze and be unable to respond
to events.</p>
<p>NOTE: Event bindings are called from within Tk event handling. If, for example,
there are two (or more) TkWindow instances, then a given event handler could be
called whilst the thread of execution is actually within the other TkWindow
component's main() method. This is a bit messy. It will not cause problems in
a single threaded system, but may be an issue once <a class="reference" href="Axon.html">Axon</a>/Kamaelia is able to
distribute across multiple processors.</p>
</div>
<div class="section">
<h2 id="358"><a id="development-history" name="development-history">Development History</a></h2>
<p>Started as a first hash attempt at some components to incorporate Tkinter into
Kamaelia in cvs:/Sketches/tk/tkInterComponents.py</p>
<p>Turned out to be remarkably resilient so far, so migrated into the main codebase.</p>
</div>
</div>
<hr class="docutils" />
<div class="section">
<h1><a class="reference" href="Kamaelia.html">Kamaelia</a>.<a class="reference" href="Kamaelia.UI.html">UI</a>.<a class="reference" href="Kamaelia.UI.Tk.html">Tk</a>.<a class="reference" href="Kamaelia.UI.Tk.TkWindow.html">TkWindow</a>.<a class="reference" href="Kamaelia.UI.Tk.TkWindow.TkWindow.html">TkWindow</a></h1>
<div class="section">
<h2 id="symbol-TkWindow">class TkWindow(<a class="reference" href="Axon.Component.component.html">Axon.Component.component</a>)</h2>
<p>TkWindow() -&gt; new TkWindow component</p>
<p>A component providing a Tk window. The first TkWindow created will be the
&quot;root&quot; window.</p>
<p>Subclass to implement your own widgets and functionality on the window.</p>
<div class="section">
<h3><a id="symbol-TkWindow.Inboxes" name="symbol-TkWindow.Inboxes">Inboxes</a></h3>
<ul class="simple">
</ul>
</div>
<div class="section">
<h3><a id="symbol-TkWindow.Outboxes" name="symbol-TkWindow.Outboxes">Outboxes</a></h3>
<ul class="simple">
</ul>
</div>
<div class="section">
<h3>Methods defined here</h3>
<div class="container">
</div>
<div class="section">
<h4><a id="symbol-TkWindow.__destroyHandler" name="symbol-TkWindow.__destroyHandler">__destroyHandler(self, event)</a></h4>
<p>Handler for destroy event. Do not override.</p>
</div>
<div class="section">
<h4><a id="symbol-TkWindow.__init__" name="symbol-TkWindow.__init__">__init__(self)</a></h4>
<p>x.__init__(...) initializes x; see x.__class__.__doc__ for signature</p>
</div>
<div class="section">
<h4><a id="symbol-TkWindow.destroyHandler" name="symbol-TkWindow.destroyHandler">destroyHandler(self, event)</a></h4>
<p>Stub method. Reimplement with your own functionality to respond to a tk window destroy event.</p>
</div>
<div class="section">
<h4><a id="symbol-TkWindow.isDestroyed" name="symbol-TkWindow.isDestroyed">isDestroyed(self)</a></h4>
<p>Returns true if this window has been destroyed</p>
</div>
<div class="section">
<h4><a id="symbol-TkWindow.main" name="symbol-TkWindow.main">main(self)</a></h4>
<p>Main loop. Stub method, reimplement with your own functionality.</p>
<p>Must regularly call self.tkupdate() to ensure tk event processing happens.</p>
</div>
<div class="section">
<h4><a id="symbol-TkWindow.setupWindow" name="symbol-TkWindow.setupWindow">setupWindow(self)</a></h4>
<p>Populate the window with widgets, set its title, set up event bindings etc...</p>
<p>Do not bind the &quot;&lt;Destroy&gt;&quot; event, as this is already handled.</p>
<p>Stub method. Reimplement with your own functionality.</p>
</div>
<div class="section">
<h4><a id="symbol-TkWindow.tkupdate" name="symbol-TkWindow.tkupdate">tkupdate(self)</a></h4>
<p>Calls tk's event processing loop (if this is the root window).</p>
<p>To be called from within self.main().</p>
</div>
</div>
<div class="section">
</div>
</div>
<h1><a class="reference" href="Kamaelia.html">Kamaelia</a>.<a class="reference" href="Kamaelia.UI.html">UI</a>.<a class="reference" href="Kamaelia.UI.Tk.html">Tk</a>.<a class="reference" href="Kamaelia.UI.Tk.TkWindow.html">TkWindow</a>.<a class="reference" href="Kamaelia.UI.Tk.TkWindow.tkInvisibleWindow.html">tkInvisibleWindow</a></h1>
<div class="section">
<h2 id="symbol-tkInvisibleWindow">class tkInvisibleWindow(TkWindow)</h2>
<p>tkInvisibleWindow() -&gt; new tkInvisibleWindow component.</p>
<p>An invisible, empty tk window. Can use as a 'root' window, thereby ensuring
closing any (visible) window doesn't terminate Tk (closing the root does).</p>
<div class="section">
<h3><a id="symbol-tkInvisibleWindow.Inboxes" name="symbol-tkInvisibleWindow.Inboxes">Inboxes</a></h3>
<ul class="simple">
</ul>
</div>
<div class="section">
<h3><a id="symbol-tkInvisibleWindow.Outboxes" name="symbol-tkInvisibleWindow.Outboxes">Outboxes</a></h3>
<ul class="simple">
</ul>
</div>
<div class="section">
<h3>Methods defined here</h3>
<div class="container">
</div>
<div class="section">
<h4><a id="symbol-tkInvisibleWindow.setupWindow" name="symbol-tkInvisibleWindow.setupWindow">setupWindow(self)</a></h4>
<p>Sets up and hides the window.</p>
</div>
</div>
<div class="section">
<div class="section">
<h4>Methods inherited from <a class="reference" href="Kamaelia.UI.Tk.TkWindow.TkWindow.html">Kamaelia.UI.Tk.TkWindow.TkWindow</a> :</h4>
<ul class="simple">
<li><a class="reference" href="Kamaelia.UI.Tk.TkWindow.html#symbol-TkWindow.__destroyHandler">__destroyHandler</a>(self, event)</li>
<li><a class="reference" href="Kamaelia.UI.Tk.TkWindow.html#symbol-TkWindow.tkupdate">tkupdate</a>(self)</li>
<li><a class="reference" href="Kamaelia.UI.Tk.TkWindow.html#symbol-TkWindow.destroyHandler">destroyHandler</a>(self, event)</li>
<li><a class="reference" href="Kamaelia.UI.Tk.TkWindow.html#symbol-TkWindow.isDestroyed">isDestroyed</a>(self)</li>
<li><a class="reference" href="Kamaelia.UI.Tk.TkWindow.html#symbol-TkWindow.main">main</a>(self)</li>
<li><a class="reference" href="Kamaelia.UI.Tk.TkWindow.html#symbol-TkWindow.__init__">__init__</a>(self)</li>
</ul>
</div>
</div>
</div>
</div>
</div>





<div class="section">
<h1>Feedback</h1>
<p>Got a problem with the documentation? Something unclear that could be clearer?
Want to help improve it? Constructive criticism is very welcome - especially if you can suggest a better rewording!</p>
<p>Please leave you feedback
<a class="reference" href="../../../cgi-bin/blog/blog.cgi?rm=viewpost&amp;nodeid=1142023701">here</a>
in reply to the documentation thread in the Kamaelia blog.</p>
</div>


<p><i>-- Automatic documentation generator, 19 Oct 2008 at 14:29:09 UTC/GMT</i>
</body></html>


</div>
<div style="float: left; width: 5em; text-align: center"><img src='/Kamaelia.gif'></div>
<div class="bodytext">
This is a page from the Kamaelia website. You can find the original here:
<ul><li><a href="http://www.kamaelia.org/Components/pydoc/Kamaelia.UI.Tk.TkWindow.html">
http://www.kamaelia.org/Components/pydoc/Kamaelia.UI.Tk.TkWindow
</a></ul>

</div>
</body>
</html>
