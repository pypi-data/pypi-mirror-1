<html>
<head>
<title> Components/pydoc/Kamaelia.Util.RangeFilter </title>

<style>
a {
    text-decoration: none;
}
*.thinborder {
    border-style: solid;
    border-width: thin;
}
.boxright {
    float: right;
    width: 20em;
    padding: 0.5em;
    margin: 1em;
    clear: right;
    border: 1px solid;
    text-align: left;
}
.leftbar {
    float: left;
    width: 10em;
    padding-left: 1.0em;
    padding-right: 0.5em;
    padding-top: 0em;
    margin-top: 0em;
    margin-bottom: 1em;
    margin-left: 0em;
    margin-right: 1em;
    clear: left;
    text-align: left;
}
.boxleft{
    float: left;
    width: 9.5em;
    padding-top: 0.5em;
    padding-bottom: 0.5em;
    padding-left: 1.0em;
    padding-right: 1.0em;
    margin-top: 1em;
    margin-bottom: 1em;
    margin-left: 0em;
    margin-right: 1em;
    clear: left;
    border-top: 5px solid;
    border-bottom: 5px solid;
    text-align: left;
}
.none { width: 100%;
        clear: both;
}

.subsection { }
.sectionheader {
                 text-align: center;
                 font-weight: bold;
                 padding-bottom: 1em;
               }
.sectioncontent { font-size: 0.9em;
                  margin-left: 2em;
                  line-height: 1.5;
                  text-align: left;
                }
.verticaldivider { float: bottom;
                   width: 100%;
                 }

 .rbroundbox_green { background: url(/t/green.corners-top.png) repeat-x; 
               width: 50%;
               float: right;
               }
 .rbtop_green div { background: url(/t/green.corners-topleft.png) no-repeat top left; }
 .rbtop_green { background: url(/t/green.corners-topright.png) no-repeat top right; }

 .rbcontent_green div { background: url(/t/green.corners-right.png) repeat-y right; 
                }
 .rbcontent_green { background: url(/t/green.corners-left.png) repeat-y left; 
              padding-left: 1.5em;
            }

 .rbbot_green div { background: url(/t/green.corners-bottomleft.png) no-repeat bottom left; }
 .rbbot_green { background: url(/t/green.corners-bottomright.png) no-repeat bottom right; }
 .rbbottom_green { background: url(/t/green.corners-bottom.png) repeat-x; }
 .rbtop_green div, .rbtop_green, .rbbot_green div, .rbbot_green {
 width: 100%;
 height: 23px;
 font-size: 1px;
 }
body {
   text-align: justify;
}

.sidebar {
    width: 10em;
    float: left;
    padding-left: 1em;
    padding-right: 1em;

}
.bodytext {

    margin: 0 5em 0em 5em;
    float: auto;
    padding-left: 1em;
    padding-right: 1em;
}
.topnav {
    padding-top: 0em;
    margin-top: 0em;
    float: right;
}
</style>

</head>
<body style="font-size: 10pt; font-family: verdana,arial,helvetica,sans-serif; line-height: 1.8;">
</div>

</span></p>
<div class="bodytext">
<html>
<head>
<title>Kamaelia docs : Kamaelia.Util.RangeFilter</title>
<style type="test/css">
pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;
  background-color: #eeeeee }
</style>
</head>
<body>
<div class="container">
<div class="section">
<h1><a class="reference" href="Kamaelia.html">Kamaelia</a>.<a class="reference" href="Kamaelia.Util.html">Util</a>.<a class="reference" href="Kamaelia.Util.RangeFilter.html">RangeFilter</a></h1>
</div>
<div class="section">
<div class="container">
<ul class="simple">
<li><strong>component <a class="reference" href="Kamaelia.Util.RangeFilter.RangeFilter.html">RangeFilter</a></strong></li>
</ul>
</div>
<ul class="simple">
<li><a class="reference" href="#152">Filter items out that are not in range</a><ul>
<li><a class="reference" href="#153">Example Usage</a><ul>
</ul>
</li>
<li><a class="reference" href="#154">Behaviour</a><ul>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section">
<h1 id="152">Filter items out that are not in range</h1>
<p>RangeFilter passes through items received on its &quot;inbox&quot; inbox where item[0]
lies within one or more of a specfied set of ranges of value. Items that don't
match this are discarded.</p>
<div class="section">
<h2 id="153"><a id="example-usage" name="example-usage">Example Usage</a></h2>
<p>Reading all video frames from a YUV4MPEG format video file, but only passing on
video frames 25-49 and 100-199 inclusive further along the pipeline:</p>
<pre class="literal-block">
Pipeline( RateControlledFileReader(&quot;myvideo.yuv4mpeg&quot;,readmode=&quot;bytes&quot;),
          YUV4MPEGToFrame(),
          TagWithSequenceNumber(),
          RangeFilter(ranges=[ (25,49), (100,199) ]),
          ...
        ).run()
</pre>
</div>
<div class="section">
<h2 id="154"><a id="behaviour" name="behaviour">Behaviour</a></h2>
<p>At initialisation, specify a list of value ranges that RangeFilter should allow.
The list should be of the form:</p>
<pre class="literal-block">
[ (low,high), (low,high), (low, high), ... ]
</pre>
<p>The ranges specified are inclusive.</p>
<p>Send an item to the &quot;inbox&quot; inbox of the form (value, ....). If the value
matches one or more of the ranges specified, then the whole item (including the
value) will immediately be sent on out of the &quot;outbox&quot; outbox.</p>
<p>RangeFilter can therefore be used to select slices through sequence numbered or
timestamped data.</p>
<p>If the size limited inbox is full, this component will pause until it is able
to send out the data,.</p>
<p>If a producerFinished message is received on the &quot;control&quot; inbox, this component
will complete parsing any data pending in its inbox, and finish sending any
resulting data to its outbox. It will then send the producerFinished message on
out of its &quot;signal&quot; outbox and terminate.</p>
<p>If a shutdownMicroprocess message is received on the &quot;control&quot; inbox, this
component will immediately send it on out of its &quot;signal&quot; outbox and immediately
terminate. It will not complete processing, or sending on any pending data.</p>
</div>
</div>
<hr class="docutils" />
<div class="section">
<h1><a class="reference" href="Kamaelia.html">Kamaelia</a>.<a class="reference" href="Kamaelia.Util.html">Util</a>.<a class="reference" href="Kamaelia.Util.RangeFilter.html">RangeFilter</a>.<a class="reference" href="Kamaelia.Util.RangeFilter.RangeFilter.html">RangeFilter</a></h1>
<div class="section">
<h2 id="symbol-RangeFilter">class RangeFilter(<a class="reference" href="Axon.Component.component.html">Axon.Component.component</a>)</h2>
<p>RangeFilter(ranges) -&gt; new RangeFilter component.</p>
<p>Filters out items of the form (value, ...) not within at least one of a
specified value set of range. Items within range are passed through.</p>
<p>Keyword arguments:</p>
<pre class="literal-block">
- ranges  -- list of (low,high) pairs representing ranges of value. Ranges are inclusive.
</pre>
<div class="section">
<h3><a id="symbol-RangeFilter.Inboxes" name="symbol-RangeFilter.Inboxes">Inboxes</a></h3>
<ul class="simple">
</ul>
</div>
<div class="section">
<h3><a id="symbol-RangeFilter.Outboxes" name="symbol-RangeFilter.Outboxes">Outboxes</a></h3>
<ul class="simple">
<li><strong>outbox</strong> : items in range</li>
<li><strong>signal</strong> : Shutdown signalling</li>
</ul>
</div>
<div class="section">
<h3>Methods defined here</h3>
<div class="container">
</div>
<div class="section">
<h4><a id="symbol-RangeFilter.__init__" name="symbol-RangeFilter.__init__">__init__(self, ranges)</a></h4>
<p>x.__init__(...) initializes x; see x.__class__.__doc__ for signature</p>
</div>
<div class="section">
<h4><a id="symbol-RangeFilter.canStop" name="symbol-RangeFilter.canStop">canStop(self)</a></h4>
<p>Checks for any shutdown messages arriving at the &quot;control&quot; inbox, and
returns true if the component should terminate when it has finished
processing any pending data.</p>
</div>
<div class="section">
<h4><a id="symbol-RangeFilter.handleControl" name="symbol-RangeFilter.handleControl">handleControl(self)</a></h4>
<p>Collects any new shutdown messages arriving at the &quot;control&quot; inbox, and
ensures self.shutdownMsg contains the highest priority one encountered
so far.</p>
</div>
<div class="section">
<h4><a id="symbol-RangeFilter.inRange" name="symbol-RangeFilter.inRange">inRange(self, index)</a></h4>
<p>Returns one of the ranges that the specified index falls within,
otherwise returns None.</p>
</div>
<div class="section">
<h4><a id="symbol-RangeFilter.main" name="symbol-RangeFilter.main">main(self)</a></h4>
<p>Main loop</p>
</div>
<div class="section">
<h4><a id="symbol-RangeFilter.mustStop" name="symbol-RangeFilter.mustStop">mustStop(self)</a></h4>
<p>Checks for any shutdown messages arriving at the &quot;control&quot; inbox, and
returns true if the component should terminate immediately.</p>
</div>
<div class="section">
<h4><a id="symbol-RangeFilter.waitSend" name="symbol-RangeFilter.waitSend">waitSend(self, data, boxname)</a></h4>
<p>Generator.</p>
<p>Sends data out of the &quot;outbox&quot; outbox. If the destination is full
(noSpaceInBox exception) then it waits until there is space. It keeps
retrying until it succeeds.</p>
<p>If the component is ordered to immediately terminate then &quot;STOP&quot; is
raised as an exception.</p>
</div>
</div>
<div class="section">
</div>
</div>
</div>
</div>





<div class="section">
<h1>Feedback</h1>
<p>Got a problem with the documentation? Something unclear that could be clearer?
Want to help improve it? Constructive criticism is very welcome - especially if you can suggest a better rewording!</p>
<p>Please leave you feedback
<a class="reference" href="../../../cgi-bin/blog/blog.cgi?rm=viewpost&amp;nodeid=1142023701">here</a>
in reply to the documentation thread in the Kamaelia blog.</p>
</div>


<p><i>-- Automatic documentation generator, 19 Oct 2008 at 14:29:09 UTC/GMT</i>
</body></html>


</div>
<div style="float: left; width: 5em; text-align: center"><img src='/Kamaelia.gif'></div>
<div class="bodytext">
This is a page from the Kamaelia website. You can find the original here:
<ul><li><a href="http://www.kamaelia.org/Components/pydoc/Kamaelia.Util.RangeFilter.html">
http://www.kamaelia.org/Components/pydoc/Kamaelia.Util.RangeFilter
</a></ul>

</div>
</body>
</html>
