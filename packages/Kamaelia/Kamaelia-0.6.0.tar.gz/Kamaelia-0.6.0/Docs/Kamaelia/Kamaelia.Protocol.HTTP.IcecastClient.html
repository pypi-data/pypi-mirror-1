<html>
<head>
<title> Components/pydoc/Kamaelia.Protocol.HTTP.IcecastClient </title>

<style>
a {
    text-decoration: none;
}
*.thinborder {
    border-style: solid;
    border-width: thin;
}
.boxright {
    float: right;
    width: 20em;
    padding: 0.5em;
    margin: 1em;
    clear: right;
    border: 1px solid;
    text-align: left;
}
.leftbar {
    float: left;
    width: 10em;
    padding-left: 1.0em;
    padding-right: 0.5em;
    padding-top: 0em;
    margin-top: 0em;
    margin-bottom: 1em;
    margin-left: 0em;
    margin-right: 1em;
    clear: left;
    text-align: left;
}
.boxleft{
    float: left;
    width: 9.5em;
    padding-top: 0.5em;
    padding-bottom: 0.5em;
    padding-left: 1.0em;
    padding-right: 1.0em;
    margin-top: 1em;
    margin-bottom: 1em;
    margin-left: 0em;
    margin-right: 1em;
    clear: left;
    border-top: 5px solid;
    border-bottom: 5px solid;
    text-align: left;
}
.none { width: 100%;
        clear: both;
}

.subsection { }
.sectionheader {
                 text-align: center;
                 font-weight: bold;
                 padding-bottom: 1em;
               }
.sectioncontent { font-size: 0.9em;
                  margin-left: 2em;
                  line-height: 1.5;
                  text-align: left;
                }
.verticaldivider { float: bottom;
                   width: 100%;
                 }

 .rbroundbox_green { background: url(/t/green.corners-top.png) repeat-x; 
               width: 50%;
               float: right;
               }
 .rbtop_green div { background: url(/t/green.corners-topleft.png) no-repeat top left; }
 .rbtop_green { background: url(/t/green.corners-topright.png) no-repeat top right; }

 .rbcontent_green div { background: url(/t/green.corners-right.png) repeat-y right; 
                }
 .rbcontent_green { background: url(/t/green.corners-left.png) repeat-y left; 
              padding-left: 1.5em;
            }

 .rbbot_green div { background: url(/t/green.corners-bottomleft.png) no-repeat bottom left; }
 .rbbot_green { background: url(/t/green.corners-bottomright.png) no-repeat bottom right; }
 .rbbottom_green { background: url(/t/green.corners-bottom.png) repeat-x; }
 .rbtop_green div, .rbtop_green, .rbbot_green div, .rbbot_green {
 width: 100%;
 height: 23px;
 font-size: 1px;
 }
body {
   text-align: justify;
}

.sidebar {
    width: 10em;
    float: left;
    padding-left: 1em;
    padding-right: 1em;

}
.bodytext {

    margin: 0 5em 0em 5em;
    float: auto;
    padding-left: 1em;
    padding-right: 1em;
}
.topnav {
    padding-top: 0em;
    margin-top: 0em;
    float: right;
}
</style>

</head>
<body style="font-size: 10pt; font-family: verdana,arial,helvetica,sans-serif; line-height: 1.8;">
</div>

</span></p>
<div class="bodytext">
<html>
<head>
<title>Kamaelia docs : Kamaelia.Protocol.HTTP.IcecastClient</title>
<style type="test/css">
pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;
  background-color: #eeeeee }
</style>
</head>
<body>
<div class="container">
<div class="section">
<h1><a class="reference" href="Kamaelia.html">Kamaelia</a>.<a class="reference" href="Kamaelia.Protocol.html">Protocol</a>.<a class="reference" href="Kamaelia.Protocol.HTTP.html">HTTP</a>.<a class="reference" href="Kamaelia.Protocol.HTTP.IcecastClient.html">IcecastClient</a></h1>
</div>
<div class="section">
<div class="container">
<ul class="simple">
<li><strong>component <a class="reference" href="Kamaelia.Protocol.HTTP.IcecastClient.IcecastClient.html">IcecastClient</a></strong></li>
<li><strong>component <a class="reference" href="Kamaelia.Protocol.HTTP.IcecastClient.IcecastDemux.html">IcecastDemux</a></strong></li>
<li><strong>prefab <a class="reference" href="Kamaelia.Protocol.HTTP.IcecastClient.IcecastStreamRemoveMetadata.html">IcecastStreamRemoveMetadata</a></strong></li>
<li><strong>component <a class="reference" href="Kamaelia.Protocol.HTTP.IcecastClient.IcecastStreamWriter.html">IcecastStreamWriter</a></strong></li>
</ul>
</div>
<ul class="simple">
<li><a class="reference" href="#543">Icecast/SHOUTcast MP3 streaming client</a><ul>
<li><a class="reference" href="#544">Example Usage</a><ul>
</ul>
</li>
<li><a class="reference" href="#545">How does it work?</a><ul>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section">
<h1 id="543">Icecast/SHOUTcast MP3 streaming client</h1>
<p>This component uses HTTP to stream MP3 audio from a SHOUTcast/Icecast
server.</p>
<p>IcecastClient fetches the combined audio and metadata stream from the
HTTP server hosting the stream. IcecastDemux separates the audio data
from the metadata in stream and IcecastStreamWriter writes the audio
data to disk (discarding metadata).</p>
<div class="section">
<h2 id="544"><a id="example-usage" name="example-usage">Example Usage</a></h2>
<p>Receive an Icecast/SHOUTcast stream, demultiplex it, and write it to a file:</p>
<pre class="literal-block">
pipeline(
    IcecastClient(&quot;http://64.236.34.97:80/stream/1049&quot;),
    IcecastDemux(),
    IcecastStreamWriter(&quot;stream.mp3&quot;),
).run()
</pre>
</div>
<div class="section">
<h2 id="545"><a id="how-does-it-work" name="how-does-it-work">How does it work?</a></h2>
<p>The SHOUTcast/Icecast protocol is virtually identical to HTTP. As such,
IcecastClient subclasses SingleShotHTTPClient modifying the request
slightly to ask for stream metadata(e.g. track name) to be included
(by adding the icy-metadata header).
It is otherwise identical to its parent class.</p>
</div>
</div>
<hr class="docutils" />
<div class="section">
<h1><a class="reference" href="Kamaelia.html">Kamaelia</a>.<a class="reference" href="Kamaelia.Protocol.html">Protocol</a>.<a class="reference" href="Kamaelia.Protocol.HTTP.html">HTTP</a>.<a class="reference" href="Kamaelia.Protocol.HTTP.IcecastClient.html">IcecastClient</a>.<a class="reference" href="Kamaelia.Protocol.HTTP.IcecastClient.IcecastClient.html">IcecastClient</a></h1>
<div class="section">
<h2 id="symbol-IcecastClient">class IcecastClient(SingleShotHTTPClient)</h2>
<p>IcecastClient(starturl) -&gt; Icecast/SHOUTcast MP3 streaming component</p>
<p>Arguments:
- starturl    -- the URL of the stream</p>
<div class="section">
<h3><a id="symbol-IcecastClient.Inboxes" name="symbol-IcecastClient.Inboxes">Inboxes</a></h3>
<ul class="simple">
</ul>
</div>
<div class="section">
<h3><a id="symbol-IcecastClient.Outboxes" name="symbol-IcecastClient.Outboxes">Outboxes</a></h3>
<ul class="simple">
</ul>
</div>
<div class="section">
<h3>Methods defined here</h3>
<div class="container">
</div>
<div class="section">
<h4><a id="symbol-IcecastClient.formRequest" name="symbol-IcecastClient.formRequest">formRequest(self, url)</a></h4>
<p>Overrides the standard HTTP request with an Icecast/SHOUTcast variant
which includes the icy-metadata header required to get metadata with the
stream</p>
</div>
<div class="section">
<h4><a id="symbol-IcecastClient.main" name="symbol-IcecastClient.main">main(self)</a></h4>
</div>
</div>
<div class="section">
</div>
</div>
<h1><a class="reference" href="Kamaelia.html">Kamaelia</a>.<a class="reference" href="Kamaelia.Protocol.html">Protocol</a>.<a class="reference" href="Kamaelia.Protocol.HTTP.html">HTTP</a>.<a class="reference" href="Kamaelia.Protocol.HTTP.IcecastClient.html">IcecastClient</a>.<a class="reference" href="Kamaelia.Protocol.HTTP.IcecastClient.IcecastDemux.html">IcecastDemux</a></h1>
<div class="section">
<h2 id="symbol-IcecastDemux">class IcecastDemux(<a class="reference" href="Axon.Component.component.html">Axon.Component.component</a>)</h2>
<p>Splits a raw Icecast stream into A/V data and metadata</p>
<div class="section">
<h3><a id="symbol-IcecastDemux.Inboxes" name="symbol-IcecastDemux.Inboxes">Inboxes</a></h3>
<ul class="simple">
</ul>
</div>
<div class="section">
<h3><a id="symbol-IcecastDemux.Outboxes" name="symbol-IcecastDemux.Outboxes">Outboxes</a></h3>
<ul class="simple">
</ul>
</div>
<div class="section">
<h3>Methods defined here</h3>
<div class="container">
</div>
<div class="section">
<h4><a id="symbol-IcecastDemux.dictizeMetadata" name="symbol-IcecastDemux.dictizeMetadata">dictizeMetadata(self, metadata)</a></h4>
<p>Convert metadata that was embedded in the stream into a dictionary.</p>
</div>
<div class="section">
<h4><a id="symbol-IcecastDemux.main" name="symbol-IcecastDemux.main">main(self)</a></h4>
</div>
</div>
<div class="section">
</div>
</div>
<h1><a class="reference" href="Kamaelia.html">Kamaelia</a>.<a class="reference" href="Kamaelia.Protocol.html">Protocol</a>.<a class="reference" href="Kamaelia.Protocol.HTTP.html">HTTP</a>.<a class="reference" href="Kamaelia.Protocol.HTTP.IcecastClient.html">IcecastClient</a>.<a class="reference" href="Kamaelia.Protocol.HTTP.IcecastClient.IcecastStreamRemoveMetadata.html">IcecastStreamRemoveMetadata</a></h1>
<div class="section">
<h2 id="symbol-IcecastStreamRemoveMetadata">prefab: IcecastStreamRemoveMetadata</h2>
</div>
<h1><a class="reference" href="Kamaelia.html">Kamaelia</a>.<a class="reference" href="Kamaelia.Protocol.html">Protocol</a>.<a class="reference" href="Kamaelia.Protocol.HTTP.html">HTTP</a>.<a class="reference" href="Kamaelia.Protocol.HTTP.IcecastClient.html">IcecastClient</a>.<a class="reference" href="Kamaelia.Protocol.HTTP.IcecastClient.IcecastStreamWriter.html">IcecastStreamWriter</a></h1>
<div class="section">
<h2 id="symbol-IcecastStreamWriter">class IcecastStreamWriter(<a class="reference" href="Axon.Component.component.html">Axon.Component.component</a>)</h2>
<div class="section">
<h3><a id="symbol-IcecastStreamWriter.Inboxes" name="symbol-IcecastStreamWriter.Inboxes">Inboxes</a></h3>
<ul class="simple">
<li><strong>control</strong> : UNUSED</li>
<li><strong>inbox</strong> : Icecast stream</li>
</ul>
</div>
<div class="section">
<h3><a id="symbol-IcecastStreamWriter.Outboxes" name="symbol-IcecastStreamWriter.Outboxes">Outboxes</a></h3>
<ul class="simple">
<li><strong>outbox</strong> : UNUSED</li>
<li><strong>signal</strong> : UNUSED</li>
</ul>
</div>
<div class="section">
<h3>Methods defined here</h3>
<div class="container">
</div>
<div class="section">
<h4><a id="symbol-IcecastStreamWriter.__init__" name="symbol-IcecastStreamWriter.__init__">__init__(self, filename)</a></h4>
</div>
<div class="section">
<h4><a id="symbol-IcecastStreamWriter.main" name="symbol-IcecastStreamWriter.main">main(self)</a></h4>
</div>
</div>
<div class="section">
</div>
</div>
</div>
</div>





<div class="section">
<h1>Feedback</h1>
<p>Got a problem with the documentation? Something unclear that could be clearer?
Want to help improve it? Constructive criticism is very welcome - especially if you can suggest a better rewording!</p>
<p>Please leave you feedback
<a class="reference" href="../../../cgi-bin/blog/blog.cgi?rm=viewpost&amp;nodeid=1142023701">here</a>
in reply to the documentation thread in the Kamaelia blog.</p>
</div>


<p><i>-- Automatic documentation generator, 19 Oct 2008 at 14:29:09 UTC/GMT</i>
</body></html>


</div>
<div style="float: left; width: 5em; text-align: center"><img src='/Kamaelia.gif'></div>
<div class="bodytext">
This is a page from the Kamaelia website. You can find the original here:
<ul><li><a href="http://www.kamaelia.org/Components/pydoc/Kamaelia.Protocol.HTTP.IcecastClient.html">
http://www.kamaelia.org/Components/pydoc/Kamaelia.Protocol.HTTP.IcecastClient
</a></ul>

</div>
</body>
</html>
