<html>
<head>
<title> Components/pydoc/Kamaelia.Device.DVB.Tuner </title>

<style>
a {
    text-decoration: none;
}
*.thinborder {
    border-style: solid;
    border-width: thin;
}
.boxright {
    float: right;
    width: 20em;
    padding: 0.5em;
    margin: 1em;
    clear: right;
    border: 1px solid;
    text-align: left;
}
.leftbar {
    float: left;
    width: 10em;
    padding-left: 1.0em;
    padding-right: 0.5em;
    padding-top: 0em;
    margin-top: 0em;
    margin-bottom: 1em;
    margin-left: 0em;
    margin-right: 1em;
    clear: left;
    text-align: left;
}
.boxleft{
    float: left;
    width: 9.5em;
    padding-top: 0.5em;
    padding-bottom: 0.5em;
    padding-left: 1.0em;
    padding-right: 1.0em;
    margin-top: 1em;
    margin-bottom: 1em;
    margin-left: 0em;
    margin-right: 1em;
    clear: left;
    border-top: 5px solid;
    border-bottom: 5px solid;
    text-align: left;
}
.none { width: 100%;
        clear: both;
}

.subsection { }
.sectionheader {
                 text-align: center;
                 font-weight: bold;
                 padding-bottom: 1em;
               }
.sectioncontent { font-size: 0.9em;
                  margin-left: 2em;
                  line-height: 1.5;
                  text-align: left;
                }
.verticaldivider { float: bottom;
                   width: 100%;
                 }

 .rbroundbox_green { background: url(/t/green.corners-top.png) repeat-x; 
               width: 50%;
               float: right;
               }
 .rbtop_green div { background: url(/t/green.corners-topleft.png) no-repeat top left; }
 .rbtop_green { background: url(/t/green.corners-topright.png) no-repeat top right; }

 .rbcontent_green div { background: url(/t/green.corners-right.png) repeat-y right; 
                }
 .rbcontent_green { background: url(/t/green.corners-left.png) repeat-y left; 
              padding-left: 1.5em;
            }

 .rbbot_green div { background: url(/t/green.corners-bottomleft.png) no-repeat bottom left; }
 .rbbot_green { background: url(/t/green.corners-bottomright.png) no-repeat bottom right; }
 .rbbottom_green { background: url(/t/green.corners-bottom.png) repeat-x; }
 .rbtop_green div, .rbtop_green, .rbbot_green div, .rbbot_green {
 width: 100%;
 height: 23px;
 font-size: 1px;
 }
body {
   text-align: justify;
}

.sidebar {
    width: 10em;
    float: left;
    padding-left: 1em;
    padding-right: 1em;

}
.bodytext {

    margin: 0 5em 0em 5em;
    float: auto;
    padding-left: 1em;
    padding-right: 1em;
}
.topnav {
    padding-top: 0em;
    margin-top: 0em;
    float: right;
}
</style>

</head>
<body style="font-size: 10pt; font-family: verdana,arial,helvetica,sans-serif; line-height: 1.8;">
</div>

</span></p>
<div class="bodytext">
<html>
<head>
<title>Kamaelia docs : Kamaelia.Device.DVB.Tuner</title>
<style type="test/css">
pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;
  background-color: #eeeeee }
</style>
</head>
<body>
<div class="container">
<div class="section">
<h1><a class="reference" href="Kamaelia.html">Kamaelia</a>.<a class="reference" href="Kamaelia.Device.html">Device</a>.<a class="reference" href="Kamaelia.Device.DVB.html">DVB</a>.<a class="reference" href="Kamaelia.Device.DVB.Tuner.html">Tuner</a></h1>
</div>
<div class="section">
<div class="container">
<ul class="simple">
<li><strong>component <a class="reference" href="Kamaelia.Device.DVB.Tuner.Tuner.html">Tuner</a></strong></li>
</ul>
</div>
<ul class="simple">
<li><a class="reference" href="#502">DVB-T (Digital Terrestrial TV) Tuner</a><ul>
<li><a class="reference" href="#503">Example Usage</a><ul>
</ul>
</li>
<li><a class="reference" href="#504">How does it work?</a><ul>
<li><a class="reference" href="#505">Tuning parameters</a><ul>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section">
<h1 id="502">DVB-T (Digital Terrestrial TV) Tuner</h1>
<p>Tunes to the specified frequency, using the specified parameters, using a DVB
tuner device; then outputs packets from the received MPEG transport stream as
requested.</p>
<div class="section">
<h2 id="503"><a id="example-usage" name="example-usage">Example Usage</a></h2>
<p>Record entire received MPEG transport stream, from a particular frequency and
set of tuning parameters to file:</p>
<pre class="literal-block">
feparams = {
    &quot;inversion&quot; : dvb3.frontend.INVERSION_AUTO,
    &quot;constellation&quot; : dvb3.frontend.QAM_16,
    &quot;code_rate_HP&quot; : dvb3.frontend.FEC_3_4,
    &quot;code_rate_LP&quot; : dvb3.frontend.FEC_3_4,
}

Pipeline( OneShot( msg=[&quot;ADD&quot;, [0x2000] ] ),    # send the msg [&quot;ADD&quot;, [0x2000]]
          Tuner(537.833330, feparams),
          SimpleFileWriter(&quot;dump.ts&quot;),
        ).run()
</pre>
<p>Record just packets with packet ID (PID) 0 and 18:</p>
<pre class="literal-block">
Pipeline( OneShot( msg=[&quot;ADD&quot;, [0, 18] ] ),
          Tuner(537833330.0, feparams),
          SimpleFileWriter(&quot;dump.ts&quot;),
        ).run()
</pre>
</div>
<div class="section">
<h2 id="504"><a id="how-does-it-work" name="how-does-it-work">How does it work?</a></h2>
<p>Tuner tunes, using the specified tuning parameters to a DVB-T transmitted
multiplex. You can also specify which DVB tuner card (device) to use if there
is more than one in your system.</p>
<p>To start with it outputs nothing. To start or stop outputting packets, send
messages to the &quot;inbox&quot; inbox of the form:</p>
<pre class="literal-block">
[ &quot;ADD&quot;,    [pid, pid, ...] ]
[ &quot;REMOVE&quot;, [pid, pid, ...] ]
</pre>
<p>These instruct Tuner to output packets from the received multiplex with the
specified packet IDs (PIDs).</p>
<p>Most DVB tuner devices understand a special packet ID of 0x2000 to request the
entire transport stream of all packets with all IDs.</p>
<p>This component will terminate if a shutdownMicroprocess or producerFinished
message is sent to the &quot;control&quot; inbox. The message will be forwarded on out of
the &quot;signal&quot; outbox just before termination.</p>
<div class="section">
<h3 id="505"><a id="tuning-parameters" name="tuning-parameters">Tuning parameters</a></h3>
<p>The tuning parameters come from the dvb3.frontend library. Specify them as a
dictionary:</p>
<pre class="literal-block">
{
     &quot;bandwidth&quot;             : dvb3.frontend.BANDWIDTH_?_MHZ where ? is 6, 7 or 8
     &quot;constellation&quot;         : dvb3.frontend.QPSK, QAM_16 or QAM_64
     &quot;hierarchy_information&quot; : dvb3.frontend.HIERARCHY_? where ? is NONE, 1, 2 or 4
     &quot;code_rate_HP&quot;          : dvb3.frontend.FEC_X_Y where X/Y = 1/2, 2/3, 3/4, 5/6, 7/8
     &quot;code_rate_LP&quot;          : dvb3.frontend.FEC_X_Y where X/Y = 1/2, 2/3, 3/4, 5/6, 7/8
     &quot;guard_interval&quot;        : dvb3.frontend.GUARD_INTERVAL_1_? where ? is 32, 16, 8 or 4
     &quot;transmission_mode&quot;     : dvb3.frontend.TRANSMISSION_MODE_?K where ? is 2 or 8
     &quot;inversion&quot;             : dvb3.frontend.INVERSION_AUTO
}
</pre>
</div>
</div>
</div>
<hr class="docutils" />
<div class="section">
<h1><a class="reference" href="Kamaelia.html">Kamaelia</a>.<a class="reference" href="Kamaelia.Device.html">Device</a>.<a class="reference" href="Kamaelia.Device.DVB.html">DVB</a>.<a class="reference" href="Kamaelia.Device.DVB.Tuner.html">Tuner</a>.<a class="reference" href="Kamaelia.Device.DVB.Tuner.Tuner.html">Tuner</a></h1>
<div class="section">
<h2 id="symbol-Tuner">class Tuner(<a class="reference" href="Axon.ThreadedComponent.threadedcomponent.html">Axon.ThreadedComponent.threadedcomponent</a>)</h2>
<p>Tuner(freq[,feparams][,card]) -&gt; new Tuner component.</p>
<p>Tunes the DVB-T card to the given frequency with the given parameters. Send
(ADD, [PID list]) or (REMOVE, [PID list]) messages to its &quot;inbox&quot; inbox to
cuase it to output MPEG transport stream packets (with the specified PIDs)
from its &quot;outbox&quot; outbox.</p>
<p>Keyword arguments:</p>
<ul class="simple">
<li>freq      -- Frequency to tune to in MHz</li>
<li>feparams  -- Dictionary of parameters for the tuner front end (default={})</li>
<li>card      -- Which DVB device to use (default=0)</li>
</ul>
<div class="section">
<h3><a id="symbol-Tuner.Inboxes" name="symbol-Tuner.Inboxes">Inboxes</a></h3>
<ul class="simple">
</ul>
</div>
<div class="section">
<h3><a id="symbol-Tuner.Outboxes" name="symbol-Tuner.Outboxes">Outboxes</a></h3>
<ul class="simple">
</ul>
</div>
<div class="section">
<h3>Methods defined here</h3>
<div class="container">
</div>
<div class="section">
<h4><a id="symbol-Tuner.__init__" name="symbol-Tuner.__init__">__init__(self, freq[, feparams][, card])</a></h4>
<p>x.__init__(...) initializes x; see x.__class__.__doc__ for signature</p>
</div>
<div class="section">
<h4><a id="symbol-Tuner.addPID" name="symbol-Tuner.addPID">addPID(self, pid)</a></h4>
<p>Adds the given PID to the transport stream that will be available
in &quot;/dev/dvb/adapter0/dvr0&quot;</p>
</div>
<div class="section">
<h4><a id="symbol-Tuner.handleCommand" name="symbol-Tuner.handleCommand">handleCommand(self, cmd, demuxers)</a></h4>
</div>
<div class="section">
<h4><a id="symbol-Tuner.main" name="symbol-Tuner.main">main(self)</a></h4>
</div>
<div class="section">
<h4><a id="symbol-Tuner.notLocked" name="symbol-Tuner.notLocked">notLocked(self)</a></h4>
<p>Returns True if the frontend is not yet locked.
Returns False if it is locked.</p>
</div>
<div class="section">
<h4><a id="symbol-Tuner.shutdown" name="symbol-Tuner.shutdown">shutdown(self)</a></h4>
</div>
<div class="section">
<h4><a id="symbol-Tuner.tune_DVBT" name="symbol-Tuner.tune_DVBT">tune_DVBT(self, frequency[, feparams])</a></h4>
</div>
</div>
<div class="section">
</div>
</div>
</div>
</div>





<div class="section">
<h1>Feedback</h1>
<p>Got a problem with the documentation? Something unclear that could be clearer?
Want to help improve it? Constructive criticism is very welcome - especially if you can suggest a better rewording!</p>
<p>Please leave you feedback
<a class="reference" href="../../../cgi-bin/blog/blog.cgi?rm=viewpost&amp;nodeid=1142023701">here</a>
in reply to the documentation thread in the Kamaelia blog.</p>
</div>


<p><i>-- Automatic documentation generator, 19 Oct 2008 at 14:29:09 UTC/GMT</i>
</body></html>


</div>
<div style="float: left; width: 5em; text-align: center"><img src='/Kamaelia.gif'></div>
<div class="bodytext">
This is a page from the Kamaelia website. You can find the original here:
<ul><li><a href="http://www.kamaelia.org/Components/pydoc/Kamaelia.Device.DVB.Tuner.html">
http://www.kamaelia.org/Components/pydoc/Kamaelia.Device.DVB.Tuner
</a></ul>

</div>
</body>
</html>
