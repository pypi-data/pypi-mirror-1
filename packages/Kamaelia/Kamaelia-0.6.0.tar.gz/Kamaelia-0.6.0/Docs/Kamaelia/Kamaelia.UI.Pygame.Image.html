<html>
<head>
<title> Components/pydoc/Kamaelia.UI.Pygame.Image </title>

<style>
a {
    text-decoration: none;
}
*.thinborder {
    border-style: solid;
    border-width: thin;
}
.boxright {
    float: right;
    width: 20em;
    padding: 0.5em;
    margin: 1em;
    clear: right;
    border: 1px solid;
    text-align: left;
}
.leftbar {
    float: left;
    width: 10em;
    padding-left: 1.0em;
    padding-right: 0.5em;
    padding-top: 0em;
    margin-top: 0em;
    margin-bottom: 1em;
    margin-left: 0em;
    margin-right: 1em;
    clear: left;
    text-align: left;
}
.boxleft{
    float: left;
    width: 9.5em;
    padding-top: 0.5em;
    padding-bottom: 0.5em;
    padding-left: 1.0em;
    padding-right: 1.0em;
    margin-top: 1em;
    margin-bottom: 1em;
    margin-left: 0em;
    margin-right: 1em;
    clear: left;
    border-top: 5px solid;
    border-bottom: 5px solid;
    text-align: left;
}
.none { width: 100%;
        clear: both;
}

.subsection { }
.sectionheader {
                 text-align: center;
                 font-weight: bold;
                 padding-bottom: 1em;
               }
.sectioncontent { font-size: 0.9em;
                  margin-left: 2em;
                  line-height: 1.5;
                  text-align: left;
                }
.verticaldivider { float: bottom;
                   width: 100%;
                 }

 .rbroundbox_green { background: url(/t/green.corners-top.png) repeat-x; 
               width: 50%;
               float: right;
               }
 .rbtop_green div { background: url(/t/green.corners-topleft.png) no-repeat top left; }
 .rbtop_green { background: url(/t/green.corners-topright.png) no-repeat top right; }

 .rbcontent_green div { background: url(/t/green.corners-right.png) repeat-y right; 
                }
 .rbcontent_green { background: url(/t/green.corners-left.png) repeat-y left; 
              padding-left: 1.5em;
            }

 .rbbot_green div { background: url(/t/green.corners-bottomleft.png) no-repeat bottom left; }
 .rbbot_green { background: url(/t/green.corners-bottomright.png) no-repeat bottom right; }
 .rbbottom_green { background: url(/t/green.corners-bottom.png) repeat-x; }
 .rbtop_green div, .rbtop_green, .rbbot_green div, .rbbot_green {
 width: 100%;
 height: 23px;
 font-size: 1px;
 }
body {
   text-align: justify;
}

.sidebar {
    width: 10em;
    float: left;
    padding-left: 1em;
    padding-right: 1em;

}
.bodytext {

    margin: 0 5em 0em 5em;
    float: auto;
    padding-left: 1em;
    padding-right: 1em;
}
.topnav {
    padding-top: 0em;
    margin-top: 0em;
    float: right;
}
</style>

</head>
<body style="font-size: 10pt; font-family: verdana,arial,helvetica,sans-serif; line-height: 1.8;">
</div>

</span></p>
<div class="bodytext">
<html>
<head>
<title>Kamaelia docs : Kamaelia.UI.Pygame.Image</title>
<style type="test/css">
pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;
  background-color: #eeeeee }
</style>
</head>
<body>
<div class="container">
<div class="section">
<h1><a class="reference" href="Kamaelia.html">Kamaelia</a>.<a class="reference" href="Kamaelia.UI.html">UI</a>.<a class="reference" href="Kamaelia.UI.Pygame.html">Pygame</a>.<a class="reference" href="Kamaelia.UI.Pygame.Image.html">Image</a></h1>
</div>
<div class="section">
<div class="container">
<ul class="simple">
<li><strong>component <a class="reference" href="Kamaelia.UI.Pygame.Image.Image.html">Image</a></strong></li>
</ul>
</div>
<ul class="simple">
<li><a class="reference" href="#378">Pygame image display</a><ul>
<li><a class="reference" href="#379">Example Usage</a><ul>
</ul>
</li>
<li><a class="reference" href="#380">How does it work?</a><ul>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section">
<h1 id="378">Pygame image display</h1>
<p>Component for displaying an image on a pygame display. Uses the Pygame Display
service component.</p>
<p>The image can be changed at any time.</p>
<div class="section">
<h2 id="379"><a id="example-usage" name="example-usage">Example Usage</a></h2>
<p>Display that rotates rapidly through a set of images:</p>
<pre class="literal-block">
imagefiles = [ &quot;imagefile1&quot;, &quot;imagefile2&quot;, ... ]

class ChangeImage(<a class="reference" href="Axon.Component.component.html">Axon.Component.component</a>):
    def __init__(self, images):
        super(ChangeImage,self).__init__()
        self.images = images

    def main(self):
        while 1:
            for image in self.images:
                self.send( image, &quot;outbox&quot;)
                print &quot;boing&quot;,image
                for i in range(0,100):
                    yield 1

image = Image(image=None, bgcolour=(0,192,0))
ic    = ChangeImage(imagefiles)

Pipeline(ic, image).run()
</pre>
</div>
<div class="section">
<h2 id="380"><a id="how-does-it-work" name="how-does-it-work">How does it work?</a></h2>
<p>This component requests a display surface from the Pygame Display service
component and renders the specified image to it.</p>
<p>The image, and other properties can be changed later by sending messages to its
&quot;inbox&quot;, &quot;bgcolour&quot; and &quot;alphacontrol&quot; inboxes.</p>
<p>Note that the size of display area is fixed after initialisation. If an initial
size, or image is specified then the size is set to that, otherwise a default
value is used.</p>
<p>Change the image at any time by sending a new filename to the &quot;inbox&quot; inbox.
If the image is larger than the 'size', then it will appear cropped. If it is
smaller, then the Image component's 'background colour' will show through behind
it. The image is always rendered aligned to the top left corner.</p>
<p>If this component receives a shutdownMicroprocess or producerFinished message on
its &quot;control&quot; inbox, then this will be forwarded out of its &quot;signal&quot; outbox and
the component will then terminate.</p>
</div>
</div>
<hr class="docutils" />
<div class="section">
<h1><a class="reference" href="Kamaelia.html">Kamaelia</a>.<a class="reference" href="Kamaelia.UI.html">UI</a>.<a class="reference" href="Kamaelia.UI.Pygame.html">Pygame</a>.<a class="reference" href="Kamaelia.UI.Pygame.Image.html">Image</a>.<a class="reference" href="Kamaelia.UI.Pygame.Image.Image.html">Image</a></h1>
<div class="section">
<h2 id="symbol-Image">class Image(<a class="reference" href="Axon.Component.component.html">Axon.Component.component</a>)</h2>
<p>Image([image][,position][,bgcolour][,size][,displayExtra][,maxpect]) -&gt; new Image component</p>
<p>Pygame image display component. Image, and other properties can be changed at runtime.</p>
<p>Keyword arguments:</p>
<ul class="simple">
<li>image         -- Filename of image (default=None)</li>
<li>position      -- (x,y) pixels position of top left corner (default=(0,0))</li>
<li>bgcolour      -- (r,g,b) background colour (behind the image if size&gt;image size)</li>
<li>size          -- (width,height) pixels size of the area to render the iamge in (default=image size or (240,192) if no image specified)</li>
<li>displayExtra  -- dictionary of any additional args to pass in request to Pygame Display service</li>
<li>maxpect       -- (xscale,yscale) scaling to apply to image (default=no scaling)</li>
</ul>
<div class="section">
<h3><a id="symbol-Image.Inboxes" name="symbol-Image.Inboxes">Inboxes</a></h3>
<ul class="simple">
<li><strong>control</strong> : Shutdown messages: shutdownMicroprocess or producerFinished</li>
<li><strong>bgcolour</strong> : Set the background colour</li>
<li><strong>callback</strong> : Receive callbacks from Pygame Display</li>
<li><strong>inbox</strong> : Filename of (new) image</li>
<li><strong>events</strong> : Place where we recieve events from the outside world</li>
<li><strong>alphacontrol</strong> : Alpha (transparency) of the image (value 0..255)</li>
</ul>
</div>
<div class="section">
<h3><a id="symbol-Image.Outboxes" name="symbol-Image.Outboxes">Outboxes</a></h3>
<ul class="simple">
<li><strong>outbox</strong> : NOT USED</li>
<li><strong>signal</strong> : Shutdown signalling: shutdownMicroprocess or producerFinished</li>
<li><strong>display_signal</strong> : Outbox used for sending signals of various kinds to the display service</li>
</ul>
</div>
<div class="section">
<h3>Methods defined here</h3>
<div class="container">
</div>
<div class="section">
<h4><a id="symbol-Image.__init__" name="symbol-Image.__init__">__init__(self[, image][, position][, bgcolour][, size][, displayExtra][, maxpect][, expect_file_strings])</a></h4>
<p>x.__init__(...) initializes x; see x.__class__.__doc__ for signature</p>
</div>
<div class="section">
<h4><a id="symbol-Image.blitToSurface" name="symbol-Image.blitToSurface">blitToSurface(self)</a></h4>
<p>Blits the background colour and image file to the surface</p>
</div>
<div class="section">
<h4><a id="symbol-Image.fetchImage" name="symbol-Image.fetchImage">fetchImage(self, newImage)</a></h4>
<p>Load image from specified filename.</p>
<p>self.size is set to image dimensions if self.size is None.</p>
<p>Image is scaled by self.maxpect if self.maxpect evaluates to True.</p>
</div>
<div class="section">
<h4><a id="symbol-Image.imageFromString" name="symbol-Image.imageFromString">imageFromString(self, newImage)</a></h4>
</div>
<div class="section">
<h4><a id="symbol-Image.main" name="symbol-Image.main">main(self)</a></h4>
<p>Main loop.</p>
</div>
<div class="section">
<h4><a id="symbol-Image.waitBox" name="symbol-Image.waitBox">waitBox(self, boxname)</a></h4>
<p>Generator. yield's 1 until data is ready on the named inbox.</p>
</div>
</div>
<div class="section">
</div>
</div>
</div>
</div>





<div class="section">
<h1>Feedback</h1>
<p>Got a problem with the documentation? Something unclear that could be clearer?
Want to help improve it? Constructive criticism is very welcome - especially if you can suggest a better rewording!</p>
<p>Please leave you feedback
<a class="reference" href="../../../cgi-bin/blog/blog.cgi?rm=viewpost&amp;nodeid=1142023701">here</a>
in reply to the documentation thread in the Kamaelia blog.</p>
</div>


<p><i>-- Automatic documentation generator, 19 Oct 2008 at 14:29:09 UTC/GMT</i>
</body></html>


</div>
<div style="float: left; width: 5em; text-align: center"><img src='/Kamaelia.gif'></div>
<div class="bodytext">
This is a page from the Kamaelia website. You can find the original here:
<ul><li><a href="http://www.kamaelia.org/Components/pydoc/Kamaelia.UI.Pygame.Image.html">
http://www.kamaelia.org/Components/pydoc/Kamaelia.UI.Pygame.Image
</a></ul>

</div>
</body>
</html>
