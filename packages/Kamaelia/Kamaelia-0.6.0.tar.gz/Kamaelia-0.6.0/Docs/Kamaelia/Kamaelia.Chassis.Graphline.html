<html>
<head>
<title> Components/pydoc/Kamaelia.Chassis.Graphline </title>

<style>
a {
    text-decoration: none;
}
*.thinborder {
    border-style: solid;
    border-width: thin;
}
.boxright {
    float: right;
    width: 20em;
    padding: 0.5em;
    margin: 1em;
    clear: right;
    border: 1px solid;
    text-align: left;
}
.leftbar {
    float: left;
    width: 10em;
    padding-left: 1.0em;
    padding-right: 0.5em;
    padding-top: 0em;
    margin-top: 0em;
    margin-bottom: 1em;
    margin-left: 0em;
    margin-right: 1em;
    clear: left;
    text-align: left;
}
.boxleft{
    float: left;
    width: 9.5em;
    padding-top: 0.5em;
    padding-bottom: 0.5em;
    padding-left: 1.0em;
    padding-right: 1.0em;
    margin-top: 1em;
    margin-bottom: 1em;
    margin-left: 0em;
    margin-right: 1em;
    clear: left;
    border-top: 5px solid;
    border-bottom: 5px solid;
    text-align: left;
}
.none { width: 100%;
        clear: both;
}

.subsection { }
.sectionheader {
                 text-align: center;
                 font-weight: bold;
                 padding-bottom: 1em;
               }
.sectioncontent { font-size: 0.9em;
                  margin-left: 2em;
                  line-height: 1.5;
                  text-align: left;
                }
.verticaldivider { float: bottom;
                   width: 100%;
                 }

 .rbroundbox_green { background: url(/t/green.corners-top.png) repeat-x; 
               width: 50%;
               float: right;
               }
 .rbtop_green div { background: url(/t/green.corners-topleft.png) no-repeat top left; }
 .rbtop_green { background: url(/t/green.corners-topright.png) no-repeat top right; }

 .rbcontent_green div { background: url(/t/green.corners-right.png) repeat-y right; 
                }
 .rbcontent_green { background: url(/t/green.corners-left.png) repeat-y left; 
              padding-left: 1.5em;
            }

 .rbbot_green div { background: url(/t/green.corners-bottomleft.png) no-repeat bottom left; }
 .rbbot_green { background: url(/t/green.corners-bottomright.png) no-repeat bottom right; }
 .rbbottom_green { background: url(/t/green.corners-bottom.png) repeat-x; }
 .rbtop_green div, .rbtop_green, .rbbot_green div, .rbbot_green {
 width: 100%;
 height: 23px;
 font-size: 1px;
 }
body {
   text-align: justify;
}

.sidebar {
    width: 10em;
    float: left;
    padding-left: 1em;
    padding-right: 1em;

}
.bodytext {

    margin: 0 5em 0em 5em;
    float: auto;
    padding-left: 1em;
    padding-right: 1em;
}
.topnav {
    padding-top: 0em;
    margin-top: 0em;
    float: right;
}
</style>

</head>
<body style="font-size: 10pt; font-family: verdana,arial,helvetica,sans-serif; line-height: 1.8;">
</div>

</span></p>
<div class="bodytext">
<html>
<head>
<title>Kamaelia docs : Kamaelia.Chassis.Graphline</title>
<style type="test/css">
pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;
  background-color: #eeeeee }
</style>
</head>
<body>
<div class="container">
<div class="section">
<h1><a class="reference" href="Kamaelia.html">Kamaelia</a>.<a class="reference" href="Kamaelia.Chassis.html">Chassis</a>.<a class="reference" href="Kamaelia.Chassis.Graphline.html">Graphline</a></h1>
</div>
<div class="section">
<div class="container">
<ul class="simple">
<li><strong>component <a class="reference" href="Kamaelia.Chassis.Graphline.Graphline.html">Graphline</a></strong></li>
</ul>
</div>
<ul class="simple">
<li><a class="reference" href="#282">Wiring up components in a topology</a><ul>
<li><a class="reference" href="#283">Example Usage</a><ul>
</ul>
</li>
<li><a class="reference" href="#284">How does it work?</a><ul>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section">
<h1 id="282">Wiring up components in a topology</h1>
<p>The Graphline component wires up a set of components and encapsulates them as a
single component. They are wired up to each other using the 'graph' of linkages
that you specify.</p>
<div class="section">
<h2 id="283"><a id="example-usage" name="example-usage">Example Usage</a></h2>
<p>Joining a PromtedFileReader and a rate control component to make a file reader
that reads at a given rate:</p>
<pre class="literal-block">
return Graphline(RC  = ByteRate_RequestControl(**rateargs),
                 RFA = PromptedFileReader(filename, readmode),
                 linkages = { (&quot;RC&quot;,  &quot;outbox&quot;)  : (&quot;RFA&quot;, &quot;inbox&quot;),
                             (&quot;RFA&quot;, &quot;outbox&quot;)  : (&quot;self&quot;, &quot;outbox&quot;),
                             (&quot;RFA&quot;, &quot;signal&quot;)  : (&quot;RC&quot;,  &quot;control&quot;),
                             (&quot;RC&quot;,  &quot;signal&quot;)  : (&quot;self&quot;, &quot;signal&quot;),
                             (&quot;self&quot;, &quot;control&quot;) : (&quot;RFA&quot;, &quot;control&quot;)
                             }
</pre>
<p>The references to 'self' create linkages that passes through a named inbox on
the graphline to a named inbox of one of the child components. Similarly a
child's outbox is pass-through to a named outbox on the graphline.</p>
</div>
<div class="section">
<h2 id="284"><a id="how-does-it-work" name="how-does-it-work">How does it work?</a></h2>
<p>A Graphline component gives you a way of wiring up a system of components and
then encapsulating th ewhole as a single component, with its own inboxes and
outboxes.</p>
<p>The components you specify are registered as children of the Graphline
component. When you activate the component, all the child components are
activated, and the linkages you specified are created between them.</p>
<p>When specifying linkages, the component 'name' is the string version of the
argument name you used to refer to the component. In the example above, the
components are therefore referred to as &quot;RC&quot; and &quot;RFA&quot;.</p>
<p>If the name you specify is not one of the components you specify, then it is
assumed you must be referring to the Graphline component itself. In the above
example, &quot;self&quot; is used to make this clear. This gives you a way of passing data
in and out of the system of components you have specified.</p>
<p>In these cases, it is assumed you wish to create a pass-through linkage - you
want the Graphline component to forward the named inbox to a child's inbox, or
to forward a child's outbox to a named outbox of the Graphline. For example:</p>
<pre class="literal-block">
Graphline( child = MyComponent(...),
           linkages = { ...
                        (&quot;self&quot;, &quot;inbox&quot;) : (&quot;child&quot;, &quot;bar&quot;),
                        ... }
         )
</pre>
<p>... is interpreted as meaning you want to forward the &quot;inbox&quot; inbox of the
Graphline to the &quot;bar&quot; inbox of the component referred to as &quot;child&quot;.
Similarly:</p>
<pre class="literal-block">
Graphline( child = MyComponent(...),
           linkages = { ...
                        (&quot;child&quot;, &quot;fwibble&quot;) : (&quot;self&quot;, &quot;outbox&quot;),
                        ... }
         )
</pre>
<p>...is interpreted as wishing to forward the &quot;fwibble&quot; outbox of the component
referred to as &quot;child&quot; to the &quot;outbox&quot; outbox of the Graphline component.</p>
<p>Any inbox or outbox you name on the Graphline component is created if it does
not already exist. For example, you might want the Graphline to have a &quot;video&quot;
and an &quot;audio&quot; inbox:</p>
<pre class="literal-block">
Graphline( videoHandler = MyVideoComponent(),
           audioHandler = MyAudioComponent(),
           linkages = { ...
                        (&quot;self&quot;, &quot;video&quot;) : (&quot;videoHandler&quot;, &quot;inbox&quot;),
                        (&quot;self&quot;, &quot;audio&quot;) : (&quot;audioHandler&quot;, &quot;inbox&quot;),
                        ...
                      }
         )
</pre>
<p>The Graphline component will always have inboxes &quot;inbox&quot; and &quot;control&quot; and
outboxes &quot;outbox&quot; and &quot;signal&quot;, even if you do not specify any linkages to them.</p>
<p>During runtime, the Graphline component monitors the child components. It will
terminate if, and only if, <em>all</em> the child components have also terminated.</p>
<p>NOTE that if your child components create additional components themselves, the
Graphline component will not know about them. It only monitors the components it
was originally told about.</p>
<p>Graphline does not intercept any of its inboxes or outboxes. It ignores whatever
traffic flows through them. If you have specified linkages from them to
components inside the graphline, then the data automatically flows to/from them
as you specified.</p>
</div>
</div>
<hr class="docutils" />
<div class="section">
<h1><a class="reference" href="Kamaelia.html">Kamaelia</a>.<a class="reference" href="Kamaelia.Chassis.html">Chassis</a>.<a class="reference" href="Kamaelia.Chassis.Graphline.html">Graphline</a>.<a class="reference" href="Kamaelia.Chassis.Graphline.Graphline.html">Graphline</a></h1>
<div class="section">
<h2 id="symbol-Graphline">class Graphline(<a class="reference" href="Axon.Component.component.html">Axon.Component.component</a>)</h2>
<p>Graphline(linkages,**components) -&gt; new Graphline component</p>
<p>Encapsulates the specified set of components and wires them up with the
specified linkages.</p>
<p>Keyword arguments:</p>
<ul class="simple">
<li>linkages    -- dictionary mapping (&quot;componentname&quot;,&quot;boxname&quot;) to (&quot;componentname&quot;,&quot;boxname&quot;)</li>
<li>components  -- dictionary mapping names to component instances (default is nothing)</li>
</ul>
<div class="section">
<h3><a id="symbol-Graphline.Inboxes" name="symbol-Graphline.Inboxes">Inboxes</a></h3>
<ul class="simple">
<li><strong>control</strong> : </li>
<li><strong>inbox</strong> : </li>
</ul>
</div>
<div class="section">
<h3><a id="symbol-Graphline.Outboxes" name="symbol-Graphline.Outboxes">Outboxes</a></h3>
<ul class="simple">
<li><strong>outbox</strong> : </li>
<li><strong>signal</strong> : </li>
</ul>
</div>
<div class="section">
<h3>Methods defined here</h3>
<div class="container">
</div>
<div class="section">
<h4><a id="symbol-Graphline.__init__" name="symbol-Graphline.__init__">__init__(self, linkages, **components)</a></h4>
<p>x.__init__(...) initializes x; see x.__class__.__doc__ for signature</p>
</div>
<div class="section">
<h4><a id="symbol-Graphline.addExternalPostboxes" name="symbol-Graphline.addExternalPostboxes">addExternalPostboxes(self)</a></h4>
<p>Adds to self.Inboxes and self.Outboxes any postboxes mentioned in self.layout that don't yet exist</p>
</div>
<div class="section">
<h4><a id="symbol-Graphline.childrenDone" name="symbol-Graphline.childrenDone">childrenDone(self)</a></h4>
<p>Unplugs any children that have terminated, and returns true if there are no
running child components left (ie. their microproceses have finished)</p>
</div>
<div class="section">
<h4><a id="symbol-Graphline.main" name="symbol-Graphline.main">main(self)</a></h4>
<p>Main loop.</p>
</div>
</div>
<div class="section">
</div>
</div>
</div>
</div>





<div class="section">
<h1>Feedback</h1>
<p>Got a problem with the documentation? Something unclear that could be clearer?
Want to help improve it? Constructive criticism is very welcome - especially if you can suggest a better rewording!</p>
<p>Please leave you feedback
<a class="reference" href="../../../cgi-bin/blog/blog.cgi?rm=viewpost&amp;nodeid=1142023701">here</a>
in reply to the documentation thread in the Kamaelia blog.</p>
</div>


<p><i>-- Automatic documentation generator, 19 Oct 2008 at 14:29:09 UTC/GMT</i>
</body></html>


</div>
<div style="float: left; width: 5em; text-align: center"><img src='/Kamaelia.gif'></div>
<div class="bodytext">
This is a page from the Kamaelia website. You can find the original here:
<ul><li><a href="http://www.kamaelia.org/Components/pydoc/Kamaelia.Chassis.Graphline.html">
http://www.kamaelia.org/Components/pydoc/Kamaelia.Chassis.Graphline
</a></ul>

</div>
</body>
</html>
