<html>
<head>
<title> Docs/Axon/Axon.Component.component </title>

<style>
a {
    text-decoration: none;
}
*.thinborder {
    border-style: solid;
    border-width: thin;
}
.boxright {
    float: right;
    width: 20em;
    padding: 0.5em;
    margin: 1em;
    clear: right;
    border: 1px solid;
    text-align: left;
}
.leftbar {
    float: left;
    width: 10em;
    padding-left: 1.0em;
    padding-right: 0.5em;
    padding-top: 0em;
    margin-top: 0em;
    margin-bottom: 1em;
    margin-left: 0em;
    margin-right: 1em;
    clear: left;
    text-align: left;
}
.boxleft{
    float: left;
    width: 9.5em;
    padding-top: 0.5em;
    padding-bottom: 0.5em;
    padding-left: 1.0em;
    padding-right: 1.0em;
    margin-top: 1em;
    margin-bottom: 1em;
    margin-left: 0em;
    margin-right: 1em;
    clear: left;
    border-top: 5px solid;
    border-bottom: 5px solid;
    text-align: left;
}
.none { width: 100%;
        clear: both;
}

.subsection { }
.sectionheader {
                 text-align: center;
                 font-weight: bold;
                 padding-bottom: 1em;
               }
.sectioncontent { font-size: 0.9em;
                  margin-left: 2em;
                  line-height: 1.5;
                  text-align: left;
                }
.verticaldivider { float: bottom;
                   width: 100%;
                 }

 .rbroundbox_green { background: url(/t/green.corners-top.png) repeat-x; 
               width: 50%;
               float: right;
               }
 .rbtop_green div { background: url(/t/green.corners-topleft.png) no-repeat top left; }
 .rbtop_green { background: url(/t/green.corners-topright.png) no-repeat top right; }

 .rbcontent_green div { background: url(/t/green.corners-right.png) repeat-y right; 
                }
 .rbcontent_green { background: url(/t/green.corners-left.png) repeat-y left; 
              padding-left: 1.5em;
            }

 .rbbot_green div { background: url(/t/green.corners-bottomleft.png) no-repeat bottom left; }
 .rbbot_green { background: url(/t/green.corners-bottomright.png) no-repeat bottom right; }
 .rbbottom_green { background: url(/t/green.corners-bottom.png) repeat-x; }
 .rbtop_green div, .rbtop_green, .rbbot_green div, .rbbot_green {
 width: 100%;
 height: 23px;
 font-size: 1px;
 }
body {
   text-align: justify;
}

.sidebar {
    width: 10em;
    float: left;
    padding-left: 1em;
    padding-right: 1em;

}
.bodytext {

    margin: 0 5em 0em 5em;
    float: auto;
    padding-left: 1em;
    padding-right: 1em;
}
.topnav {
    padding-top: 0em;
    margin-top: 0em;
    float: right;
}
</style>

</head>
<body style="font-size: 10pt; font-family: verdana,arial,helvetica,sans-serif; line-height: 1.8;">
</div>

</span></p>
<div class="bodytext">
<html>
<head>
<title>Kamaelia docs : Axon.Component.component</title>
<style type="test/css">
pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;
  background-color: #eeeeee }
</style>
</head>
<body>
<div class="section">
<div class="section">
<h2><a class="reference" href="Axon.html">Axon</a>.<a class="reference" href="Axon.Component.html">Component</a>.<a class="reference" href="Axon.Component.component.html">component</a></h2>
</div>
<p>For examples and more explanations, see the <a class="reference" href="Axon.Component.html">module level docs.</a></p>
<hr class="docutils" />
<div class="section">
<h2 id="symbol-component">class component(<a class="reference" href="Axon.Microprocess.microprocess.html">Axon.Microprocess.microprocess</a>)</h2>
<div class="section">
<p>Base class for an Axon component. Subclass to make your own.</p>
<p>A simple example:</p>
<pre class="literal-block">
class IncrementByN(<a class="reference" href="Axon.Component.component.html">Axon.Component.component</a>):

    Inboxes = { &quot;inbox&quot; : &quot;Send numbers here&quot;,
                &quot;control&quot; : &quot;NOT USED&quot;,
              }
    Outboxes = { &quot;outbox&quot; : &quot;Incremented numbers come out here&quot;,
                 &quot;signal&quot; : &quot;NOT USED&quot;,
               }

    def __init__(self, N):
        super(IncrementByN,self).__init__()
        self.n = N

    def main(self):
        while 1:
            while self.dataReady(&quot;inbox&quot;):
                value = self.recv(&quot;inbox&quot;)
                value = value + self.n
                self.send(value,&quot;outbox&quot;)

            if not self.anyReady():
                self.pause()

            yield 1
</pre>
</div>
<div class="section">
<h3>Methods defined here</h3>
<div class="section">
<h4><a id="symbol-component.Inbox" name="symbol-component.Inbox">Inbox(self[, boxname])</a></h4>
</div>
<div class="section">
<h4><a id="symbol-component.__addChild" name="symbol-component.__addChild">__addChild(self, child)</a></h4>
<p>Register component as a child.</p>
<p>This takes a child component, and adds it to the children list of this
component. It also registers to be woken up by the child if it terminates.</p>
<p>This has a number of effects internally, and includes
registering the component as capable of recieving and sending messages.
It doesn't give the child a thread of control however!</p>
<p>You will want to call this function if you create child components of your
component.</p>
</div>
<div class="section">
<h4><a id="symbol-component.__init__" name="symbol-component.__init__">__init__(self, *args, **argd)</a></h4>
<p>You want to overide this method locally.</p>
<p>You MUST remember to call the superconstructor for things to work however.
The way you do this is: super(YourClass,self).__init__()</p>
</div>
<div class="section">
<h4><a id="symbol-component.__str__" name="symbol-component.__str__">__str__(self)</a></h4>
<p>Provides a useful string representation of the component.
You probably want to override this, and append this description using
something like: 'component.__str__(self)'</p>
</div>
<div class="section">
<h4><a id="symbol-component._closeDownMicroprocess" name="symbol-component._closeDownMicroprocess">_closeDownMicroprocess(self)</a></h4>
<p>Overrides original in microprocess class.</p>
<p>Ensures callbacks are deregistered, and all linkages created by
this component are destroyed.</p>
</div>
<div class="section">
<h4><a id="symbol-component._deliver" name="symbol-component._deliver">_deliver(self, message[, boxname])</a></h4>
<p>For tests and debugging ONLY - delivers message to an inbox.</p>
</div>
<div class="section">
<h4><a id="symbol-component.addChildren" name="symbol-component.addChildren">addChildren(self, *children)</a></h4>
<p>Register the specified component(s) as children of this component</p>
<p>This component will be woken if any of its children terminate.</p>
<p>Note that any children still need to be activated!</p>
</div>
<div class="section">
<h4><a id="symbol-component.anyReady" name="symbol-component.anyReady">anyReady(self)</a></h4>
<p>Returns true if <em>any</em> inbox has any data waiting in it.</p>
<p>Used by a component to check an inbox for ready data.</p>
<p>You are unlikely to want to override this method.</p>
</div>
<div class="section">
<h4><a id="symbol-component.childComponents" name="symbol-component.childComponents">childComponents(self)</a></h4>
<p>Returns list of child components</p>
</div>
<div class="section">
<h4><a id="symbol-component.closeDownComponent" name="symbol-component.closeDownComponent">closeDownComponent(self)</a></h4>
<p>Stub method. <strong>This method is designed to be overridden.</strong></p>
</div>
<div class="section">
<h4><a id="symbol-component.dataReady" name="symbol-component.dataReady">dataReady(self[, boxname])</a></h4>
<p>Returns true if data is available in the requested inbox.</p>
<p>Used by a component to check an inbox for ready data.</p>
<p>Call this method to periodically check whether you've been sent any
messages to deal with!</p>
<p>You are unlikely to want to override this method.</p>
</div>
<div class="section">
<h4><a id="symbol-component.initialiseComponent" name="symbol-component.initialiseComponent">initialiseComponent(self)</a></h4>
<p>Stub method. <strong>This method is designed to be overridden.</strong></p>
</div>
<div class="section">
<h4><a id="symbol-component.link" name="symbol-component.link">link(self, source, sink, *optionalargs, **kwoptionalargs)</a></h4>
<p>Creates a linkage from one inbox/outbox to another.</p>
<p>-- source  - a tuple (component, boxname) of where the link should start from
-- sink    - a tuple (component, boxname) of where the link should go to</p>
<p>Other optional arguments:</p>
<ul class="simple">
<li>passthrough=0  - (the default) link goes from an outbox to an inbox</li>
<li>passthrough=1  - the link goes from an inbox to another inbox</li>
<li>passthrough=2  - the link goes from an outbox to another outbox</li>
</ul>
<p>See <a class="reference" href="Axon.Postoffice.postoffice.link.html">Axon.Postoffice.postoffice.link</a>() for more information.</p>
</div>
<div class="section">
<h4><a id="symbol-component.main" name="symbol-component.main">main(self)</a></h4>
<p>Override this method, writing your own main thread of control as a generator.
When the component is activated and the scheduler is running, this what
gets executed.</p>
<p>Write it as a python generator with regular yield statements returning a
non zero value.</p>
<p>If you do not override it, then a default main method exists instead that
will:</p>
<ol class="arabic simple">
<li>Call self.initialiseComponent()</li>
<li>Loop forever calling self.mainBody() yielding the return value each time
until mainBody() returns a False/zero result.</li>
<li>Call self.closeDownComponent()</li>
</ol>
</div>
<div class="section">
<h4><a id="symbol-component.mainBody" name="symbol-component.mainBody">mainBody(self)</a></h4>
<p>Stub method. <strong>This method is designed to be overridden.</strong></p>
</div>
<div class="section">
<h4><a id="symbol-component.recv" name="symbol-component.recv">recv(self[, boxname])</a></h4>
<p>returns the first piece of data in the requested inbox.</p>
<p>Used by a component to recieve a message from the outside world.
All comms goes via a named box/input queue</p>
<p>You will want to call this method to actually recieve messages you've been
sent. You will want to check for new messages using dataReady first
though.</p>
<p>You are unlikely to want to override this method.</p>
</div>
<div class="section">
<h4><a id="symbol-component.removeChild" name="symbol-component.removeChild">removeChild(self, child)</a></h4>
<p>Deregister component as a child.</p>
<p>Removes the child component, and deregisters it from notifying us when it
terminates. Also removes any linkages this component has made that
involve this child.</p>
<p>You probably want to do this when you enter a closedown state
of some kind for either your component, or the child component.</p>
</div>
<div class="section">
<h4><a id="symbol-component.send" name="symbol-component.send">send(self, message[, boxname])</a></h4>
<p>appends message to the requested outbox.</p>
<p>Used by a component to send a message to the outside world.
All comms goes via a named box/output queue.</p>
<p>You will want to call this method to send messages.</p>
<p>Raises <a class="reference" href="Axon.AxonExceptions.noSpaceInBox.html">Axon.AxonExceptions.noSpaceInBox</a> if this outbox is linked to a
destination inbox that is full.</p>
<p>You are unlikely to want to override this method.</p>
</div>
<div class="section">
<h4><a id="symbol-component.setInboxSize" name="symbol-component.setInboxSize">setInboxSize(self, boxname, size)</a></h4>
<p>boxname - some boxname, must be an inbox ; size - maximum number of items we're happy with</p>
</div>
<div class="section">
<h4><a id="symbol-component.unlink" name="symbol-component.unlink">unlink(self[, thecomponent][, thelinkage])</a></h4>
<p>Destroys all linkages to/from the specified component or destroys the
specific linkage specified.</p>
<p>Only destroys linkage(s) that were created <em>by</em> this component itself.</p>
<p>Keyword arguments:</p>
<ul class="simple">
<li>thecomponent -- None or a component object</li>
<li>thelinkage   -- None or the linkage to remove</li>
</ul>
<p>See <a class="reference" href="Axon.Postoffice.postoffice.unlink.html">Axon.Postoffice.postoffice.unlink</a>() for more information.</p>
</div>
</div>
<div class="section">
<div class="section">
<h4>Methods inherited from <a class="reference" href="Axon.Microprocess.microprocess.html">Axon.Microprocess.microprocess</a> :</h4>
<ul class="simple">
<li><a class="reference" href="Axon.Microprocess.html#symbol-microprocess.pause">pause</a>(self)</li>
<li><a class="reference" href="Axon.Microprocess.html#symbol-microprocess._unpause">_unpause</a>(self)</li>
<li><a class="reference" href="Axon.Microprocess.html#symbol-microprocess._microprocessGenerator">_microprocessGenerator</a>(self, someobject[, mainmethod])</li>
<li><a class="reference" href="Axon.Microprocess.html#symbol-microprocess._isStopped">_isStopped</a>(self)</li>
<li><a class="reference" href="Axon.Microprocess.html#symbol-microprocess.stop">stop</a>(self)</li>
<li><a class="reference" href="Axon.Microprocess.html#symbol-microprocess.next">next</a>(self)</li>
<li><a class="reference" href="Axon.Microprocess.html#symbol-microprocess.activate">activate</a>(self[, Scheduler][, Tracker][, mainmethod])</li>
<li><a class="reference" href="Axon.Microprocess.html#symbol-microprocess.unpause">unpause</a>(self)</li>
<li><a class="reference" href="Axon.Microprocess.html#symbol-microprocess.run">run</a>(self)</li>
<li><a class="reference" href="Axon.Microprocess.html#symbol-microprocess._isRunnable">_isRunnable</a>(self)</li>
</ul>
</div>
</div>
</div>
</div>









<div class="section">
<h1>Feedback</h1>
<p>Got a problem with the documentation? Something unclear that could be clearer?
Want to help improve it? Constructive criticism is very welcome - especially if you can suggest a better rewording!</p>
<p>Please leave you feedback
<a class="reference" href="../../../cgi-bin/blog/blog.cgi?rm=viewpost&amp;nodeid=1142023701">here</a>
in reply to the documentation thread in the Kamaelia blog.</p>
</div>




<p><i>-- Automatic documentation generator, 19 Oct 2008 at 14:28:09 UTC/GMT</i>
</body></html>


</div>
<div style="float: left; width: 5em; text-align: center"><img src='/Kamaelia.gif'></div>
<div class="bodytext">
This is a page from the Kamaelia website. You can find the original here:
<ul><li><a href="http://www.kamaelia.org/Docs/Axon/Axon.Component.component.html">
http://www.kamaelia.org/Docs/Axon/Axon.Component.component
</a></ul>

</div>
</body>
</html>
