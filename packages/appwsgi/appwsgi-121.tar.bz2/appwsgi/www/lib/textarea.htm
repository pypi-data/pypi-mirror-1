<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
 <head>
  <title>Resizable Textarea</title>
  <script type="text/javascript">
   //source: http://www.webdeveloper.com/forum/showthread.php?t=64005
   //TODO need to make a lib from this example

var l=0;
var t=0;
var w=200;
var h=200;

var dragon=false;
var dragsrc=null;
var ox=0;
var oy=0;
var dx=0;
var dy=0;

var nw=0;
var nh=0;
var nt=0;
var nl=0;

function repositionAll()
{
  nl=l;
  nt=t;
  nw=w;
  nh=h;

  if(dragsrc.id.indexOf("L")>=0) {nl+=dx;nw-=dx;}
  if(dragsrc.id.indexOf("T")>=0) {nt+=dy;nh-=dy;}
  if(dragsrc.id.indexOf("R")>=0) {nw+=dx;}
  if(dragsrc.id.indexOf("B")>=0) {nh+=dy;}

  window.status="("+(nl)+", "+(nt)+") ["+(nw)+"X"+(nh)+"]";

  document.getElementById("con").style.left=nl+"px";
  document.getElementById("con").style.top=nt+"px";
  document.getElementById("con").style.width=nw+"px";
  document.getElementById("con").style.height=nh+"px";

  document.getElementById("T").style.width=(nw-40)+"px";
  document.getElementById("L").style.height=(nh-40)+"px";
  document.getElementById("B").style.width=(nw-40)+"px";
  document.getElementById("R").style.height=(nh-40)+"px";

  document.getElementById("ta1").style.width=(nw-8)+"px";
  document.getElementById("ta1").style.height=(nh-8)+"px";
}

function MD(event, src)
{
  if(event==null) event=window.event;
  dragon=true;
  dragsrc=src;
  ox=parseInt(event.clientX);
  oy=parseInt(event.clientY);
}

function MM(event) 
{
  if(!dragon) return;
  if(event==null) event=window.event;
  dx=parseInt(event.clientX)-ox;
  dy=parseInt(event.clientY)-oy;
  repositionAll();
}

function MU(event, src)
{
  w=nw;
  h=nh;
  t=nt;
  l=nl;
  if(event==null) event=window.event;
  dragon=false;
  dragsrc=null;
  window.status="";
}

document.onmousemove=MM;
document.onmouseup=MU;
  </script>

  <style type="text/css">
#con {
  position:absolute;
  top:0px;
  left:0px;
  width:200px;
  height:200px;
}

#TL {
  top:0px;
  left:0px;
  width:20px;
  height:4px;
}

#T {
  top:0px;
  left:20px;
  width:160px;
  height:4px;
}

#TR {
  top:0px;
  right:0px;
  width:20px;
  height:4px;
}

#LT {
  top:0px;
  left:0px;
  width:4px;
  height:20px;
}

#L {
  top:20px;
  left:0px;
  width:4px;
  height:160px;
}

#LB {
  bottom:0px;
  left:0px;
  width:4px;
  height:20px;
}

#BL {
  bottom:0px;
  left:0px;
  width:20px;
  height:4px;
}

#B {
  bottom:0px;
  left:20px;
  width:160px;
  height:4px;
}

#BR {
  bottom:0px;
  right:0px;
  width:20px;
  height:4px;
}

#RT {
  top:0px;
  right:0px;
  width:4px;
  height:20px;
}

#R {
  top:20px;
  right:0px;
  width:4px;
  height:160px;
}

#RB {
  bottom:0px;
  right:0px;
  width:4px;
  height:20px;
}

.brd {
  background-color:#cccccc;
  position:absolute;
  font-size:1px;
}

.edg {
  background-color:#aaaaaa;
}

.v {
  cursor:w-resize;
}

.h {
  cursor:n-resize;
}

.nw {
  cursor:nw-resize;
}

.ne {
  cursor:ne-resize;
}

#ta1 {
  position:absolute;
  top:0px;
  left:0px;
  margin:4px;
  width:192px;
  height:192px;
  border:none;
  background-color:#eeeeee;
}
  </style>

 </head>
 <body>
  <div id="con">
   <textarea id="ta1" rows="1" cols="1"></textarea>
   <div id="TL" class="brd nw" onmousedown="MD(event, this)" onmouseup="MU(event, this)"></div>
   <div id="T" class="brd edg h" onmousedown="MD(event, this)" onmouseup="MU(event, this)"></div>
   <div id="TR" class="brd ne" onmousedown="MD(event, this)" onmouseup="MU(event, this)"></div>
   <div id="LT" class="brd nw" onmousedown="MD(event, this)" onmouseup="MU(event, this)"></div>
   <div id="L" class="brd edg v" onmousedown="MD(event, this)" onmouseup="MU(event, this)"></div>
   <div id="LB" class="brd ne" onmousedown="MD(event, this)" onmouseup="MU(event, this)"></div>
   <div id="BL" class="brd ne" onmousedown="MD(event, this)" onmouseup="MU(event, this)"></div>
   <div id="B" class="brd edg h" onmousedown="MD(event, this)" onmouseup="MU(event, this)"></div>
   <div id="BR" class="brd nw" onmousedown="MD(event, this)" onmouseup="MU(event, this)"></div>
   <div id="RT" class="brd ne" onmousedown="MD(event, this)" onmouseup="MU(event, this)"></div>
   <div id="R" class="brd edg v" onmousedown="MD(event, this)" onmouseup="MU(event, this)"></div>
   <div id="RB" class="brd nw" onmousedown="MD(event, this)" onmouseup="MU(event, this)"></div>
  </div>
 </body>
</html>
