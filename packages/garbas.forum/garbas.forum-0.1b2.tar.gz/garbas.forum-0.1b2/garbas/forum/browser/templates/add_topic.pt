
<h1>
  Add Topic
</h1>

<form action=""
      method="post"
      class="enableUnloadProtection">


        <br />
        <div tal:define="error errors/topic_title | nothing;
                         topic_title request/topic_title | nothing;"
             tal:attributes="class python:error and 'field error' or 'field'">
            <label for="topic_title" i18n:translate="topic_title_label">Subject</label>
            <div class="formHelp" i18n:translate="topic_title_help">
                Set subject of your topic.
            </div>
            <div tal:content="error">Validation error output</div>
            <input type="text" size="30"
                   id="topic_title" name="topic_title" 
                   tal:attributes="value topic_title;" />
        </div>

        <div tal:define="error errors/topic_text | nothing;
                         topic_text request/topic_text | nothing;"
             tal:attributes="class python:error and 'field error' or 'field'">
            <label for="topic_text" i18n:translate="topic_text_label">Body</label>
            <div class="formHelp" i18n:translate="topic_text_help"> </div> 
            <div tal:content="error">Validation error output</div>
            <div tal:define="value request/topic_text | nothing;
                             fieldName string:topic_text;
                             widget python:dict(rows=5, cols=5, );
                             portal_url view/site_url;">
                <metal:use use-macro="here/widgets/epoz/macros/edit_area">
                    <metal:fill fill-slot="text_format"/>
                </metal:use>
            </div>
        </div>
        
        <div tal:define="error errors/captcha| nothing;
                         captcha view/captcha;"
             tal:attributes="class python:error and 'field error' or 'field'"
             tal:condition="view/is_anonymous">
          <label for="captcha" i18n:translate="captcha_label">Captcha</label>
          <div class="formHelp" i18n:translate="captcha_help">
                Type letters from picture into text box.
          </div>
          <div tal:content="error">Validation error output</div>
          <img tal:replace="structure captcha/image_tag"/>
          <input type="text" size="10" name="captcha"/>
        </div>

        <div class="formControls">
          <input class="context" type="submit" 
                 id="button_submit" name="form.button.submit" value="Submit"
                 i18n:attributes="value confirm_button_label;" />
          <input class="context" type="submit" 
                 id="button_cancel" name="form.button.cancel" value="Cancel"
                 i18n:attributes="value cancel_button_label;" />
        </div>
</form>


