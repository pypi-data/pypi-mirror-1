{% extends "layout/navigation.html" %}
{% block "title" %}{% trans "Memberlist" %}{% endblock %}

{% block "trace" %}
  &raquo; <a href="{{ links.memberlist }}">{% trans "Memberlist" %}</a>
{% endblock %}

{% block "content" %}
  <h2>{% trans "Memberlist" %}</h2>
  <div class="description">
    {% trans %}This is a list of all registered users.{% endtrans %}
  </div>
  <form action="{{ form.action }}" method="{{ form.method }}">
    <dl>
      <dt>{% trans "Order By" %}</dt>
      <dd>{{ form.order_by.html }}
          {{ form.order_by.errors }}</dd>
      <dt>{% trans "Direction" %}</dt>
      <dd>{{ form.direction.html }}
          {{ form.direction.errors }}</dd>
      <dt>{% trans "Letter" %}</dt>
      <dd>{{ form.letter.html }}
          {{ form.letter.errors }}</dd>
    </dl>
    <input type="submit" value="{% trans 'Update' %}" />
  </form>

  <table class="memberlist">
    <tr>
      <th class="user_id">#</th>
      <th class="username">{% trans "User" %}</th>
      <th class="location">{% trans "Location" %}</th>
      <th class="post_count">{% trans "Posts" %}</th>
      <th class="register_date">{% trans "Registration Date" %}</th>
    </tr>
    {% for user in list %}
      <tr>
        <td class="user_id">{{ user.user_id }}</td>
        <td class="username"><a href="{{ user.url }}">{{ user.username|e }}</a></td>
        <td class="location">{{ user.profile.location|e }}</td>
        <td class="post_count">{{ user.post_count }}</td>
        <td class="register_date">{{ user.register_date|datetimeformat }}</td>
      </tr>
    {% elsefor %}
      <tr>
        <td colspan="5">{% trans "No results for this query" %}</td>
      </tr>
    {% endfor %}
  </table>
{% endblock %}
