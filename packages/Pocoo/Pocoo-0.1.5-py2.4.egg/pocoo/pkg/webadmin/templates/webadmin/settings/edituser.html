{% extends "webadmin/base.html" %}
{% block "title" %}{% trans "Edit a user" %}{% endblock %}
{% block "content" %}

{% prepare "disabled" %}{% if not user %} disabled="disabled"{% endif %}{% endprepare %}
{% prepare "input" accepting field %}<input type="text" name="{{ field.name }}" value="{{ field.value }}"{% call "disabled" %} />{% endprepare %}

  <h1>{% trans "Edit User" %}{% if user %} - {{ form.search_username.value }}{% endif %}</h1>

  <form action="{{ form.action }}" method="{{ form.method }}">
    <dl>
      <dt{% if user %} style="display:none;"{% endif %}>{% trans "Search User" %}</dt>
      <dd{% if user %} style="display:none;"{% endif %}>
        <input type="text" name="{{ form.search_username.name }}" value="{{ form.search_username.value }}" />
        {{ form.search_username.errors }}
        <input type="submit" value="{% trans "Search" %}" />
      </dd>
      <dt>{% trans "Username" %}</dt>
      <dd>{% call "input" form.username %}
        {{ form.username.errors }}</dd>
      <dt>{% trans "New Password" %}</dt>
      <dd><input type="password" value="{{ form.new_password.value }}" name="{{ form.new_password.name }}"{% call "disabled" %} />
          {{ form.new_password.errors }}</dd>
      <dt>{% trans "Email address" %}</dt>
      <dd>{% call "input" form.email %}
        {{ form.email.errors }}<br />
        {{ form.show_email.html }} <label for="{{ form.show_email.name }}">{% trans "Show email address the user's profile" %}</label></dd>
      <dt>{% trans "AOL Instant Messenger" %}</dt>
      <dd>{% call "input" form.aol %}
        {{ form.aol.errors }}</dd>
      <dt>{% trans "ICQ Number" %}</dt>
      <dd>{% call "input" form.icq %}
        {{ form.icq.errors }}</dd>
      <dt>{% trans "Jabber address" %}</dt>
      <dd>{% call "input" form.jabber %}
        {{ form.jabber.errors }}</dd>
      <dt>{% trans "MSN Messenger" %}</dt>
      <dd>{% call "input" form.msn %}
        {{ form.name.errors }}</dd>
      <dt>{% trans "Yahoo Messenger" %}</dt>
      <dd>{% call "input" form.yahoo %}
        {{ form.yahoo.errors }}</dd>
      <dt>{% trans "Website" %}</dt>
      <dd>{% call "input" form.website %}
        {{ form.website.errors }}</dd>
      <dt>{% trans "Location" %}</dt>
      <dd>{% call "input" form.location %}
        {{ form.location.errors }}</dd>
      <dt>{% trans "Interests" %}</dt>
      <dd><textarea name="{{ form.interests.name }}"{% call "disabled" %}>{{ form.interests.value }}</textarea>
        {{ form.interests.errors }}</dd>
    </dl>
    <input type="hidden" name="{{ form.user_id.name }}" value="{{ user.user_id }}" />
    {% if user %}
    <input type="submit" value="{% trans 'Save' %}" /> <a href="">{% trans 'Delete User' %}</a>
    {% endif %}
  </form>
{% endblock %}
