{% extends "settings/page.html" %}
{* vim: set et ai ts=2 sw=2 enc=utf-8: *}

{% block "settings" %}

  {% prepare "errorbox" accepting errors %}
    {% if errors %}
      <ul class="errors">
      {% for error in errors %}
        <li>{{ error|e }}</li>
      {% endfor %}
      </ul>
    {% endif %}
  {% endprepare %}

  <form action="{{ form.action }}" method="{{ form.method }}">

    <h2>{% trans "Profile" %}</h2>

    <h3>{% trans "Registration Details" %}</h3>
    <dl>
      <dt>{% trans "Username" %}</dt>
      <dd>{{ user.username|e }}</dd>
      <dt>{% trans "Change Password" %}</dt>
      <dd><input type="password" name="{{ form.new_password.name }}" />
          {% call "errorbox" form.new_password.errors %}</dd>
      <dt>{% trans "Confirm Password" %}</dt>
      <dd><input type="password" name="{{ form.new_password2.name }}" />
          {% call "errorbox" form.new_password2.errors %}</dd>
      <dt>{% trans "Email address" %}</dt>
      <dd><input type="text" name="{{ form.email.name }}" value="{{ form.email.value|e }}" />
          {% call "errorbox" form.email.errors %}
          <br />
          <input type="checkbox" name="{{ form.show_email.name }}"
                 value="yes"{% if form.show_email.checked
                 %} checked="checked"{% endif %} />
          {% trans "Show email address in profile" %}
          {% call "errorbox" form.show_email.errors %}</dd>
    </dl>

    <h3>Your Profile</h3>
    <p>{% trans %}Please note that this information will be accessible for other
      members. Be careful when including any personal details.{% endtrans %}</p>
    <dl>
      <dt>{% trans "AOL Instant Messenger" %}</dt>
      <dd><input type="text" name="{{ form.aol.name }}" value="{{ form.aol.value|e }}" />
          {% call "errorbox" form.aol.errors %}</dd>
      <dt>{% trans "ICQ Number" %}</dt>
      <dd><input type="text" name="{{ form.icq.name }}" value="{{ form.icq.value|e }}" />
          {% call "errorbox" form.icq.errors %}</dd>
      <dt>{% trans "Jabber address" %}</dt>
      <dd><input type="text" name="{{ form.jabber.name }}" value="{{ form.jabber.value|e }}" />
          {% call "errorbox" form.jabber.errors %}</dd>
      <dt>{% trans "MSN Messenger" %}</dt>
      <dd><input type="text" name="{{ form.msn.name }}" value="{{ form.msn.value|e }}" />
          {% call "errorbox" form.msn.errors %}</dd>
      <dt>{% trans "Yahoo Messenger" %}</dt>
      <dd><input type="text" name="{{ form.yahoo.name }}" value="{{ form.yahoo.value|e }}" />
          {% call "errorbox" form.yahoo.errors %}</dd>
      <dt>{% trans "Website" %}</dt>
      <dd><input type="text" name="{{ form.website.name }}" value="{{ form.website.value|e }}" />
          {% call "errorbox" form.website.errors %}</dd>
      <dt>{% trans "Location" %}</dt>
      <dd><input type="text" name="{{ form.location.name }}" value="{{ form.location.value|e }}" />
          {% call "errorbox" form.location.errors %}</dd>
      <dt>{% trans "Interests" %}</dt>
      <dd><textarea name="{{ form.interests.name }}">{{form.interests.value|e }}</textarea>
          {% call "errorbox" form.interests.errors %}</dd>
    </dl>

    <div class="buttons">
      <input type="reset" value="{% trans 'Reset' %}" />
      <input type="submit" value="{% trans 'Save' %}" />
    </div>

  </form>

{% endblock %}
