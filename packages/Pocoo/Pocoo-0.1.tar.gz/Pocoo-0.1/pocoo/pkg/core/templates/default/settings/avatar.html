{% extends "settings/page.html" %}
{* vim: set et ai ts=2 sw=2 enc=utf-8: *}

{% block "settings" %}

  {% prepare "errorbox" accepting errors %}
    {% if errors %}
      <ul class="errors">
      {% for error in errors %}
        <li>{{ error|e }}</li>
      {% endfor %}
      </ul>
    {% endif %}
  {% endprepare %}

  <form action="{{ form.action }}" method="{{ form.method }}"
        enctype="multipart/form-data">

    <h2>{% trans "Avatar" %}</h2>
    <dl>
      <dt>{% trans "Upload new Avatar" %}</dt>
      <dd><input type="file" name="{{ form.avatar.name }}"
                 value="{{ form.avatar.value|e }}" />
          {% call "errorbox" form.avatar.errors %}</dd>
      <dt>{% trans "Delete Avatar" %}</dt>
      <dd><input type="checkbox" name="{{ form.delete_avatar.name }}"
                 value="yes"{% if form.delete_avatar.checked
                 %} checked="checked"{% endif %} />
          {% call "errorbox" form.delete_avatar.errors %}</dd>
    </dl>

    {% if avatar %}
    <div class="avatar">
      {% trans "Current Avatar" %}
      <img src="{{ avatar|e }}" alt="{% trans 'Current Avatar' %}" />
    </div>
    {% endif %}

    <input type="submit" value="{% trans 'Save' %}" />

  </form>

{% endblock %}
