{% extends "settings/page.html" %}
{* vim: set et ai ts=2 sw=2 enc=utf-8: *}

{% block "html/head" %}
  <script type="text/javascript" src="{{ editor_javascript }}"></script>
  <script type="text/javascript">
    var editor_options = {{ editor_options|e }};
  </script>
{% endblock %}

{% block "bodytag" %} onload="initEditor('s_text', 'toolbar', 'preview', 'prev_text', editor_options)"{% endblock %}

{% block "settings" %}

  {% prepare "errorbox" accepting errors %}
    {% if errors %}
      <ul class="errors">
      {% for error in errors %}
        <li>{{ error|e }}</li>
      {% endfor %}
      </ul>
    {% endif %}
  {% endprepare %}

  <form action="{{ form.action }}" method="{{ form.method }}">

    <div class="editor">

      <h2>{% trans "Signature" %}</h2>

      <p>{% trans %}Here you can edit your signature that is shown below your postings.{% endtrans %}</p>

      <div id="toolbar"></div>

      <textarea name="{{ form.signature.name }}" class="full" id="s_text">{{ form.signature.value|e }}</textarea>
      {% call "errorbox" form.signature.errors %}

      <div id="preview" class="preview" style="display: none">
        <h2>{% trans "Preview" %}</h2>
        <div class="information">
          <strong>{% trans 'Note' %}:</strong>
          {% trans "This is only a preview of your signature." %}
        </div>
        <div class="text" id="prev_text">
        </div>
      </div>

      <div class="buttons">
        <input type="button" value="{% trans 'Preview' %}" onclick="preview('s_text')" />
        <input type="reset" value="{% trans 'Reset' %}" />
        <input type="submit" value="{% trans 'Save' %}" />
      </div>

    </div>

  </form>

{% endblock %}
