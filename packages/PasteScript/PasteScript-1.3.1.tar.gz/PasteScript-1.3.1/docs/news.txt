News: Paste Script
==================

1.3.1
-----

* Fix related to Python 2.5 (when there are errors creating files, you
  could get infinite recursion under Python 2.5).

* Use ``subprocess`` module in ``paster serve`` command.  Added
  ``--monitor`` option which will restart the server if it exits.

* The ``exe`` command now does % substitution in keys (e.g.,
  ``pid_file=%(here)s/paste.pid``).

* Some import problems with Cheetah should be improved.

1.3
---

* Fixed an exception being raised when shutting down flup servers using
  sockets.

* Fixed the CherryPy 3 WSGI server entry point's handling of SIGHUP
  and SIGTERM.

* The CherryPy wsgiserver is now available at
  ``paste.script.wsgiserver`` (no longer requiring CherryPy to be
  installed).

* Added entry point for twisted server.

* Made ``paste.script.pluginlib:egg_info_dir`` work with packages that
  put the ``Package.egg-info/`` directory in a subdirectory (typically
  ``src/``).

* Remove Cheetah requirement.  Packages using Cheetah templates should
  require Cheetah themselves.  If you are using ``paster make-config``
  and you *don't* want to use Cheetah, you must add ``use_cheetah =
  False`` to your ``Installer`` subclass (it defaults to true for
  backward compatibility).

* Make scripts work when there is no ``setup.py`` (if you aren't
  making a Python/setuptools package).

* When using ``paste.script.copydir.copy_dir`` (as with most ``paster
  create`` templates), you can raise ``SkipTemplate`` (or call the
  ``skip_template()`` function) which will cause the template to be
  skipped.  You can use this to conditionally include files.

* When using ``paster serve c:/...``, it should no longer confuse
  ``c:`` with a scheme (such as ``config:`` or ``egg:``).

* More careful about catching import errors in ``websetup``, so if you
  have a bug in your ``app.websetup`` module it won't swallow it.

1.1
---

* Added a ``warn_returncode`` option to ``Command.run_command``, and
  make ``ensure_file`` use this for its svn command.

* If the svn command-line program isn't working for you, commands that
  use ``ensure_file`` will continue to work but just with a warning.

* Removed copyright notice that was accidentally included in new
  packages created by ``paster create``.

* Allow variable assignments at the end of ``paster serve``, like
  ``paster serve http_port=80``; then you can use ``%(http_port)s`` in
  your config files (requires up-to-date Paste Deploy).

* Allow a ``package_dir`` variable so that you can put your package
  into subdirectories of the base directory (e.g., ``src/``).

* Changes to the ``twisted.web2`` wrapper (from pythy).

* Warn when you run ``paster setup-app`` and no modules are listed in
  ``top_level.txt`` (which can happen with a newly checked out
  project).

1.0
---

* Added entry point for CherryPy 3's WSGI server.

* Fixed ``paster serve`` to hide KeyboardInterrupt (CTRL-C) tracebacks
  in ``--reload`` mode.

* Added ``template_renderer`` argument to
  ``paste.script.copydir.copydir``.  This allows you to use arbitrary
  template languages, instead of just ``string.Template`` and Cheetah.

0.9.9
-----

* egg:PasteScript#test (the paste.script.testapp) now accepts ``lint``
  and ``text`` boolean configuration.  ``lint`` will turn on
  ``paste.lint`` validation.  ``text`` will cause it to return a
  simple text/plain response with the environ, instead of an HTML
  table.

* Improvements all around to ``paster points``, plus documentation for
  existing entry point groups.

0.9.8
-----

* New projects will now ignore
  ``Package.egg-info/dependency_links.txt``, just like all the other
  derivative files in the ``egg-info`` directory

* ``paster serve --reload`` was broken on Windows when the Python
  executable was in a directory with spaces in it.  This is probably a
  bug in the ``subprocess`` module.

0.9.7
-----

* Update to filemaker commands to take optional argument so that when
  new directories are for a Python package, they will have a __init__.py
  created as well.

0.9.6
-----

* Do all variable assignment during package creation up-front, before
  actually creating the files.

* Added the ``egg`` template variable: provides projects with a safe
  egg name as generated by setuptools. This should be used for
  egg-info directories in templates (e.g. ``+egg+.egg-info`` instead
  of ``+project+.egg-info``), and anywhere else the egg name is
  expected, to prevent errors with project names containing hyphens.

0.9
---

* Installer calls ``websetup.setup_app(command, conf, vars)``;
  ``setup_config()`` will be deprecated in the future

* Added copyright information

* ``paster serve config.ini#section`` works now

* ``paster make-config/setup-app`` will read ``$PASTE_SYSCONFIG`` to
  find extra ``sysconfig.py`` files.

* ``paster create`` will now query interactively for variables if they
  aren't explicitly provided.

0.5
---

* If the output directory doesn't exist when running ``paster
  create``, do not default to having interactive (confirmation) on.

0.4.2
-----

* Fixed the Flup FastCGI interface.  (There seem to still be problems
  with forking FastCGI.)

* The ``prepare-app`` command has been renamed ``make-config``

* Changed the way ``make-config`` and ``setup-app`` use ``sysconfig``
  -- these are now modules that can define various functions

* Allow for default config file names

* Consider config generation that may produce a directory (this case
  is now generally workable)

* Allow for multiple config files (specifically with --edit)

* Give config file generation the variables ``app_install_uuid`` and
  ``app_install_secret`` that they can use for their config files

* Include Ka-Ping Yee's uuid module in ``paste.script.util.uuid``

* ``paster help`` doesn't bail when commands can't be loaded

* Be a little safer when ``--edit`` fails and ``--setup`` is provided
  (don't automatically set up if the edit seems to have failed)

0.4.1
-----

* Two small bugfixes, one related to the ``basic_package`` template
  (it included a reference to ``finddata``, which it should not have),
  and a fix to how the ``.egg-info`` directory is determined.

0.4
---

* Added ``points`` command, for entry-point related queries.

* paste.deploy config files that start with ``#!/usr/bin/env paster``
  can make a script into an executable.

* Improvements to ``paster serve`` command:

  - Handle bad PID files better

  - Daemonization is more reliable

  - Allow ``start``, ``stop``, ``restart`` instead of just options

* Improvements to ``paster create`` command:

  - Invoked interactively by default (so that you are warned before
    overwriting files)

* Added new commands:

  - ``points`` for viewing Egg entry point information

  - ``prepare-app`` and ``setup-app`` for installing web applications

* Fixed bug in how Egg distributions are loaded.

0.3.1
-----

* Fixed small bug with running ``paster serve`` on Windows.  (Small to
  fix, kept script from running on Windows entirely).

0.3
---

Initial release.
