#!/www/python/bin/python
#
# Microscope server daemon
#
# Distributed under the terms described in the LICENCE file.
#

__revision__ = "$Id: microscoped,v 1.6 2002/12/12 15:18:17 akuchlin Exp $"

import sys
from quixote import enable_ptl

from mems.instrument.server.configuration import get_configuration
from mems.instrument.server.options import Options
from mems.instrument.server.process_controller import ProcessController

if __name__ == '__main__':
    enable_ptl()
    opts = Options(sys.argv[1:])
    config = get_configuration(opts)
    config.read(opts.config_file)
    pc = ProcessController(config, config.options.debug)
    pc.run()
