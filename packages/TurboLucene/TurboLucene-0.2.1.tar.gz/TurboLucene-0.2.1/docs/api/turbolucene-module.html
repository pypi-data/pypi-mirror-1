<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>turbolucene</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th bgcolor="#70b0f0" class="navbar-select"
          >&nbsp;&nbsp;&nbsp;Home&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://dev.krys.ca/turbolucene/">TurboLucene</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        Package&nbsp;turbolucene
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="turbolucene-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== PACKAGE DESCRIPTION ==================== -->
<h1 class="epydoc">Package turbolucene</h1><span class="codelink"><a href="turbolucene-pysrc.html">source&nbsp;code</a></span><br /><br />
<p>Provides search functionality for <a class="rst-rst-reference rst-reference" href="http://turbogears.org/" target="_top">TurboGears</a> using <a class="rst-rst-reference rst-reference" href="http://pylucene.osafoundation.org/" target="_top">PyLucene</a>.</p>
<p>This module uses PyLucene to do all the heavy lifting, but as a result this
module does some fancy things with threads.</p>
<p>PyLucene requires that all threads that use it must inherit from
<tt class="rst-docutils literal"><span class="pre">PythonThread</span></tt>.  This means either patching <a class="rst-reference" href="http://cherrypy.org/" target="_top">CherryPy</a> and/or TurboGears, or
having the CherryPy thread hand off the request to a <tt class="rst-docutils literal"><span class="pre">PythonThread</span></tt> and, in
the case of searching, wait for the result.  The second method was chosen so
that a patched CherryPy or TurboGears does not have to be maintained.</p>
<p>The other advantage to the chosen method is that indexing happens in a separate
thread so the web request can return more quickly by not waiting for the
results.</p>
<p>The main disadvantage with PyLucene and CherryPy, however, is that <em>autoreload</em>
does not work with it.  You <strong>must</strong> disable it by adding
<tt class="rst-docutils literal"><span class="pre">autoreload.on</span> <span class="pre">=</span> <span class="pre">False</span></tt> to your <tt class="rst-docutils literal"><span class="pre">dev.cfg</span></tt>.</p>
<div class="rst-section">
<h1 class="heading"><a id="rst-configuration-options" name="rst-configuration-options">Configuration options</a></h1>
<p><a class="rst-reference" href="http://dev.krys.ca/turbolucene/" target="_top">TurboLucene</a> uses the following configuration options:</p>
<blockquote>
<dl class="rst-docutils">
<dt><strong>turbolucene.search_fields</strong>:</dt>
<dd>The list of fields that should be searched by default when a specific field
is not specified.  (e.g. <tt class="rst-docutils literal"><span class="pre">['id',</span> <span class="pre">'title',</span> <span class="pre">'text',</span> <span class="pre">'categories']</span></tt>)
(Default: <tt class="rst-docutils literal"><span class="pre">['id']</span></tt>)</dd>
<dt><strong>turbolucene.default_language</strong>:</dt>
<dd>The default language to use if a language is not given calling
<a href="turbolucene-module.html#add" class="link">add</a>/<a href="turbolucene-module.html#update" class="link">update</a>/<a href="turbolucene-module.html#search" class="link">search</a>/etc.  (Default: <tt class="rst-docutils literal"><span class="pre">'en'</span></tt>)</dd>
<dt><strong>turbolucene.languages</strong>:</dt>
<dd>The list of languages to support.  This is a list of ISO language codes
that you want to support in your application.  The languages must be
supported by PyLucene and must be configured in the languages
configuration file.  Currently the choice of languages that are possible
out-of-the-box are : <em>Czech (cs)</em>, <em>Danish (da)</em>, <em>German (de)</em>, <em>Greek
(el)</em>, <em>English (en)</em>, <em>Spanish (es)</em>, <em>Finnish (fi)</em>, <em>French (fr)</em>,
<em>Italian (it)</em>, <em>Japanese (ja)</em>, <em>Korean (ko)</em>, <em>Dutch (nl)</em>, <em>Norwegian
(no)</em>, <em>Portuguese (pt)</em>, <em>Brazilian (pt-br)</em>, <em>Russian (ru)</em>, <em>Swedish
(sv)</em>, and <em>Chinese (zh)</em>.  (Default: <tt class="rst-docutils literal"><span class="pre">[&lt;default_language&gt;]</span></tt>)</dd>
<dt><strong>turbolucene.default_operator</strong>:</dt>
<dd>The default search operator to use between search terms when non is
specified.  (Default: <tt class="rst-docutils literal"><span class="pre">'AND'</span></tt>)  This must be a valid operator object from
the <tt class="rst-docutils literal"><span class="pre">PyLucene.MultiFieldQueryParser.Operator</span></tt> namespace.</dd>
<dt><strong>turbolucene.optimize_days</strong>:</dt>
<dd>The list of days to schedule index optimization.  Index optimization cleans
up and compacts the indexes so that searches happen faster.  This is a list
of day numbers (Sunday = 1).  Optimization of all indexes will occur on
those days.  (Default: <tt class="rst-docutils literal"><span class="pre">[1,</span> <span class="pre">2,</span> <span class="pre">3,</span> <span class="pre">4,</span> <span class="pre">5,</span> <span class="pre">6,</span> <span class="pre">7]</span></tt>, i.e. every day)</dd>
<dt><strong>turbolucene.optimize_time</strong>:</dt>
<dd>A tuple containing the hour (24 hour format) and minute of the time to run
the scheduled index optimizations.  (Default: <tt class="rst-docutils literal"><span class="pre">(00,</span> <span class="pre">00)</span></tt>, i.e. midnight)</dd>
<dt><strong>turbolucene.index_root</strong>:</dt>
<dd>The base path in which to store the indexes.  There is one index per
supported language.  Each index is a directory.  Those directories will be
sub-directories of this base path.  If the path is relative, it is
relative to your project's root.  Normally you should not need to override
this unless you specifically need the indexes to be located somewhere else.
(Default: <tt class="rst-docutils literal"><span class="pre">u'index'</span></tt>)</dd>
<dt><strong>turbolucene.languages_file</strong>:</dt>
<dd>The path to the languages configuration file.  The languages configuration
file provides the configuration information for all the languages that
<em>TurboLucene</em> supports.  Normally you should not need to override this.
(Default: the <tt class="rst-docutils literal"><span class="pre">u'languages.cfg'</span></tt> file in the <a href="turbolucene-module.html" class="link">turbolucene</a> package)</dd>
<dt><strong>turbolucene.languages_file_encoding</strong>:</dt>
<dd>The encoding of the languages file.  (Default: <tt class="rst-docutils literal"><span class="pre">'utf-8'</span></tt>)</dd>
<dt><strong>turbolucene.stopwords_root</strong>:</dt>
<dd>The languages file can specify files that contain stopwords.  If a
stopwords file path is relative, this path with be prepended to it.  This
allows for all stopword files to be customized without needing to specify
full paths for every one.  Normally you should not need to override this.
(Default: the <tt class="rst-docutils literal"><span class="pre">stopwords</span></tt> directory in the <a href="turbolucene-module.html" class="link">turbolucene</a> package)</dd>
<dt><strong>turbolucene.force_lock_release</strong>:</dt>
<dd>If this is set to True, then if TurboLucne has troubles opening an index,
it will try to force the release of any write lock that may exist and try
again.  The write lock is to prevent multiple processes writing to the
same index at the same time, but if the TurboLucne-based project is killed,
the lock gets left behind.  This setting let you override the default
behaviour.  (Default: <tt class="rst-docutils literal"><span class="pre">True</span></tt> in development and <tt class="rst-docutils literal"><span class="pre">False</span></tt> in production)</dd>
</dl>
</blockquote>
<p>All fields are optional, but at the minimum, you will likely want to specify
<tt class="rst-docutils literal"><span class="pre">turbolucene.search_fields</span></tt>.</p>
</div><br /><br />

<hr />
<div class="fields">      <p><strong>See Also:</strong>
        <a href="turbolucene-module.html#_load_language_data" class="link">_load_language_data</a> for details about the languages configuration file.
      </p>
      <p><strong>Warning:</strong>
        Do not forget to turn off <em>autoreload</em> in <tt class="rst-docutils literal"><span class="pre">dev.cfg</span></tt>.
      </p>
      <p><strong>Requires:</strong>
        <a class="rst-reference" href="http://turbogears.org/" target="_top">TurboGears</a> and <a class="rst-reference" href="http://pylucene.osafoundation.org/" target="_top">PyLucene</a>
      </p>
      <p><strong>Version:</strong>
        0.2.1
      </p>
      <p><strong>Author:</strong>
        Krys Wilken
      </p>
      <p><strong>Contact:</strong>
        krys AT krys DOT ca
      </p>
      <p><strong>Copyright:</strong>
        (c) 2007 Krys Wilken
      </p>
      <p><strong>License:</strong>
        MIT
      </p>
      <p><strong>API Version:</strong>
        2.0
      </p>
      <p><strong>Revision:</strong>
        $Id: __init__.py 60 2007-05-02 03:29:02Z krys $
      </p>
</div><!-- ==================== CLASSES ==================== -->
<a name="section-Classes"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Classes</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Classes"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="turbolucene._Indexer-class.html" class="summary-name">_Indexer</a><br />
      Responsible for updating and maintaining the search engine index.
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="turbolucene._Searcher-class.html" class="summary-name">_Searcher</a><br />
      Responsible for searching an index and returning results.
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="turbolucene._SearcherFactory-class.html" class="summary-name">_SearcherFactory</a><br />
      Produces running <a href="turbolucene._Searcher-class.html" class="link">_Searcher</a> threads.
    </td>
  </tr>
<tr bgcolor="#e8f0f8" >
  <th colspan="2" class="group-header"
    >&nbsp;&nbsp;&nbsp;&nbsp;Objects to use in make_document</th></tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="PyLucene.Document-class.html" class="summary-name">Document</a><br />
      j_document objects
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="PyLucene.Field-class.html" class="summary-name">Field</a><br />
      j_field objects
    </td>
  </tr>
</table>
<!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Functions</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Functions"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="turbolucene-module.html#_load_language_data" class="summary-sig-name">_load_language_data</a>()</span><br />
      Load all the language data from the configured languages file.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="turbolucene-pysrc.html#_load_language_data">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="turbolucene-module.html#_schedule_optimization" class="summary-sig-name">_schedule_optimization</a>()</span><br />
      Schedule index optimization using the TurboGears scheduler.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="turbolucene-pysrc.html#_schedule_optimization">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><code class="link">unicode</code></span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="turbolucene-module.html#_get_index_path" class="summary-sig-name">_get_index_path</a>(<span class="summary-sig-arg">language</span>)</span><br />
      Return the path to the index for the given language.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="turbolucene-pysrc.html#_get_index_path">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><code class="link">list</code> of <code class="link">unicode</code> strings</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="turbolucene-module.html#_read_stopwords" class="summary-sig-name">_read_stopwords</a>(<span class="summary-sig-arg">file_path</span>,
        <span class="summary-sig-arg">encoding</span>)</span><br />
      Read the stopwords from the given a stopwords file path.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="turbolucene-pysrc.html#_read_stopwords">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type"><tt class="rst-docutils literal"><span class="pre">PyLucene.Analyzer</span></tt> sub-class</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="turbolucene-module.html#_analyzer_factory" class="summary-sig-name">_analyzer_factory</a>(<span class="summary-sig-arg">language</span>)</span><br />
      Produce an analyzer object appropriate for the given language.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="turbolucene-pysrc.html#_analyzer_factory">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_stop"></a><span class="summary-sig-name">_stop</span>()</span><br />
      Shutdown search engine threads.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="turbolucene-pysrc.html#_stop">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="_optimize"></a><span class="summary-sig-name">_optimize</span>()</span><br />
      Tell the search engine to optimize it's index.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="turbolucene-pysrc.html#_optimize">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr bgcolor="#e8f0f8" >
  <th colspan="2" class="group-header"
    >&nbsp;&nbsp;&nbsp;&nbsp;Public API</th></tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="turbolucene-module.html#start" class="summary-sig-name">start</a>(<span class="summary-sig-arg">make_document</span>,
        <span class="summary-sig-arg">results_formatter</span>=<span class="summary-sig-default">None</span>)</span><br />
      Initialize and start the search engine threads.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="turbolucene-pysrc.html#start">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="turbolucene-module.html#add" class="summary-sig-name">add</a>(<span class="summary-sig-arg">object_</span>,
        <span class="summary-sig-arg">language</span>=<span class="summary-sig-default">None</span>)</span><br />
      Tell the search engine to add the given object to the index.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="turbolucene-pysrc.html#add">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="turbolucene-module.html#update" class="summary-sig-name">update</a>(<span class="summary-sig-arg">object_</span>,
        <span class="summary-sig-arg">language</span>=<span class="summary-sig-default">None</span>)</span><br />
      Tell the the search engine to update the index for the given object.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="turbolucene-pysrc.html#update">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="turbolucene-module.html#remove" class="summary-sig-name">remove</a>(<span class="summary-sig-arg">object_</span>,
        <span class="summary-sig-arg">language</span>=<span class="summary-sig-default">None</span>)</span><br />
      Tell the search engine to remove the given object from the index.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="turbolucene-pysrc.html#remove">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">iterable</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="turbolucene-module.html#search" class="summary-sig-name">search</a>(<span class="summary-sig-arg">query</span>,
        <span class="summary-sig-arg">language</span>=<span class="summary-sig-default">None</span>)</span><br />
      Return results from the search engine that match the query.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="turbolucene-pysrc.html#search">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Variables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_DEFAULT_LANGUAGE"></a><span class="summary-name">_DEFAULT_LANGUAGE</span> = <code title="'en'"><code class="variable-quote">'</code><code class="variable-string">en</code><code class="variable-quote">'</code></code><br />
      Default language to use if none is specified in config.
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_log"></a><span class="summary-name">_log</span> = <code title="getLogger('turbolucene')">getLogger('turbolucene')</code><br />
      Logger for this module
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_language_data"></a><span class="summary-name">_language_data</span> = <code title="None">None</code><br />
      This will hold the language support data read from file.
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_indexer"></a><span class="summary-name">_indexer</span> = <code title="None">None</code><br />
      This will hold the <a href="turbolucene._Indexer-class.html" class="link">_Indexer</a> singleton class.
    </td>
  </tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_searcher_factory"></a><span class="summary-name">_searcher_factory</span> = <code title="None">None</code><br />
      This will hold the <a href="turbolucene._SearcherFactory-class.html" class="link">_SearcherFactory</a> singleton class.
    </td>
  </tr>
<tr bgcolor="#e8f0f8" >
  <th colspan="2" class="group-header"
    >&nbsp;&nbsp;&nbsp;&nbsp;Objects to use in make_document</th></tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="STORE"></a><span class="summary-name">STORE</span> = <code title="&lt;Field_Store: YES&gt;">&lt;Field_Store: YES&gt;</code><br />
      Tells <a href="PyLucene.Field-class.html" class="link">Field</a> not to compress the field data
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="COMPRESS"></a><span class="summary-name">COMPRESS</span> = <code title="&lt;Field_Store: COMPRESS&gt;">&lt;Field_Store: COMPRESS&gt;</code><br />
      Tells <a href="PyLucene.Field-class.html" class="link">Field</a> to compress the field data
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="TOKENIZED"></a><span class="summary-name">TOKENIZED</span> = <code title="&lt;Field_Index: TOKENIZED&gt;">&lt;Field_Index: TOKENIZED&gt;</code><br />
      Tells <a href="PyLucene.Field-class.html" class="link">Field</a> to tokenize and do stemming on the field data
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="UN_TOKENIZED"></a><span class="summary-name">UN_TOKENIZED</span> = <code title="&lt;Field_Index: UN_TOKENIZED&gt;">&lt;Field_Index: UN_TOKENIZED&gt;</code><br />
      Tells <a href="PyLucene.Field-class.html" class="link">Field</a> not to tokenize and do stemming on the field data
    </td>
  </tr>
</table>
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Function Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-FunctionDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="_load_language_data"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_load_language_data</span>()</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="turbolucene-pysrc.html#_load_language_data">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Load all the language data from the configured languages file.</p>
<p>The languages configuration file can be set with the
<tt class="rst-docutils literal"><span class="pre">turbolucene.languages_file</span></tt> configuration option and it's encoding is
set with <tt class="rst-docutils literal"><span class="pre">turbolucene.languages_file_encoding</span></tt>.</p>
<div class="rst-section">
<h1 class="heading"><a id="rst-configuration-file-format" name="rst-configuration-file-format">Configuration file format</a></h1>
<p>The languages file is an INI-type (<a class="rst-reference" href="http://www.voidspace.org.uk/python/configobj.html" target="_top">ConfigObj</a>) file.  Each section is
defined by an ISO language code (<tt class="rst-docutils literal"><span class="pre">en</span></tt>, <tt class="rst-docutils literal"><span class="pre">de</span></tt>, <tt class="rst-docutils literal"><span class="pre">el</span></tt>, <tt class="rst-docutils literal"><span class="pre">pt-br</span></tt>, etc.).
In each section the following keys are possible:</p>
<blockquote>
<dl class="rst-docutils">
<dt><strong>analyzer_class</strong>:</dt>
<dd>The PyLucene analyzer class to use for this language.  (e.g.
<tt class="rst-docutils literal"><span class="pre">SnowballAnalyzer</span></tt>)  (Required)</dd>
<dt><strong>analyzer_class_args</strong>:</dt>
<dd>Any arguments that should be passed to the analyzer class.  (e.g.
<tt class="rst-docutils literal"><span class="pre">Danish</span></tt>)  (Optional)</dd>
<dt><strong>stopwords</strong>:</dt>
<dd>A list of stopwords (words that do not get indexed) to pass to the
analyzer class.  This is not normally used as <tt class="rst-docutils literal"><span class="pre">stopwords_file</span></tt> is
generally preferred.  (Optional)</dd>
<dt><strong>stopwords_file</strong>:</dt>
<dd>The path to the file that contains the list of stopwords to pass to the
analyzer class.  (e.g. <tt class="rst-docutils literal"><span class="pre">stopwords_da.txt</span></tt>)  (Optional)</dd>
<dt><strong>stopwords_file_encoding</strong>:</dt>
<dd>The encoding of the stopwords file.  (e.g. <tt class="rst-docutils literal"><span class="pre">windows-1252</span></tt>)</dd>
</dl>
</blockquote>
<p>If neither <tt class="rst-docutils literal"><span class="pre">stopwords</span></tt> or <tt class="rst-docutils literal"><span class="pre">stopwords_file</span></tt> is defined for a language,
then any stopwords that are used are determined automatically by the
analyzer class' constructor.</p>
<div class="rst-section">
<h2 class="heading"><a id="rst-example" name="rst-example">Example</a></h2>
<pre class="rst-literal-block">
# German
[de]
analyzer_class = SnowballAnalyzer
analyzer_class_args = German2
stopwords_file = stopwords_de.txt
stopwords_file_encoding = windows-1252
</pre>
</div>
</div>
  <dl class="fields">
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'>IOError</strong></code> - Raised of the languages configuration file could not be
opened.</li>
        <li><code><strong class='fraise'>configobj.ParseError</strong></code> - Raised if the languages configuration file is
contains errors.</li>
    </ul></dd>
  </dl>
<div class="fields">      <p><strong>See Also:</strong>
        <ul class="rst-simple">
<li><a href="turbolucene-module.html" class="link">turbolucene</a> (module docstring) for details about configuration
settings.</li>
<li><a href="turbolucene-module.html#_read_stopwords" class="link">_read_stopwords</a> for details about stopwords files.</li>
</ul>
      </p>
</div></td></tr></table>
</div>
<a name="_schedule_optimization"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_schedule_optimization</span>()</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="turbolucene-pysrc.html#_schedule_optimization">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Schedule index optimization using the TurboGears scheduler.</p>
<p>This function reads it's configuration data from
<tt class="rst-docutils literal"><span class="pre">turbolucene.optimize_days</span></tt> and <tt class="rst-docutils literal"><span class="pre">turbolucene.optimize_time</span></tt>.</p>
  <dl class="fields">
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'>TypeError</strong></code> - Raised if <tt class="rst-docutils literal"><span class="pre">turbolucene.optimize_time</span></tt> is invalid.</li>
    </ul></dd>
  </dl>
<div class="fields">      <p><strong>See Also:</strong>
        <a href="turbolucene-module.html" class="link">turbolucene</a> (module docstring) for details about configuration
settings.
      </p>
</div></td></tr></table>
</div>
<a name="_get_index_path"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_get_index_path</span>(<span class="sig-arg">language</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="turbolucene-pysrc.html#_get_index_path">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Return the path to the index for the given language.</p>
<p>This function gets it's configuration data from <tt class="rst-docutils literal"><span class="pre">turbolucene.index_root</span></tt>.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>language</code></strong> (<code class="link">str</code>) - An ISO language code.  (e.g. <tt class="rst-docutils literal"><span class="pre">en</span></tt>, <tt class="rst-docutils literal"><span class="pre">pt-br</span></tt>, etc.)</li>
    </ul></dd>
    <dt>Returns: <code class="link">unicode</code></dt>
        <dd>The path to the index for the given language.</dd>
  </dl>
<div class="fields">      <p><strong>See Also:</strong>
        <a href="turbolucene-module.html" class="link">turbolucene</a> (module docstring) for details about configuration
settings.
      </p>
</div></td></tr></table>
</div>
<a name="_read_stopwords"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_read_stopwords</span>(<span class="sig-arg">file_path</span>,
        <span class="sig-arg">encoding</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="turbolucene-pysrc.html#_read_stopwords">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Read the stopwords from the given a stopwords file path.</p>
<p>Stopwords are words that should not be indexed because they are too common
or have no significant meaning (e.g. <em>the</em>, <em>in</em>, <em>with</em>, etc.)  They are
language dependent.</p>
<p>This function gets it's configuration data from
<tt class="rst-docutils literal"><span class="pre">turbolucene.stopwords_root</span></tt>.</p>
<p>If <code class="link">file_path</code> is not an absolute path, then it will be appended to the
path configured in <tt class="rst-docutils literal"><span class="pre">turbolucene.stopwords_root</span></tt>.</p>
<p>Stopwords files are text files (in the given encoding), with one stopword
per line.  Comments are marked by a <tt class="rst-docutils literal"><span class="pre">|</span></tt> character.  This is for
compatibility with the stopwords files found at
<a class="rst-reference" href="http://snowball.tartarus.org/" target="_top">http://snowball.tartarus.org/</a>.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>file_path</code></strong> (<code class="link">unicode</code>) - The path to the stopwords file to read.</li>
        <li><strong class="pname"><code>encoding</code></strong> (<code class="link">str</code>) - The encoding of the stopwords file.</li>
    </ul></dd>
    <dt>Returns: <code class="link">list</code> of <code class="link">unicode</code> strings</dt>
        <dd>The list of stopwords from the file.</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'>IOError</strong></code> - Raised if the stopwords file could not be opened.</li>
    </ul></dd>
  </dl>
<div class="fields">      <p><strong>See Also:</strong>
        <a href="turbolucene-module.html" class="link">turbolucene</a> (module docstring) for details about configuration
settings.
      </p>
</div></td></tr></table>
</div>
<a name="_analyzer_factory"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">_analyzer_factory</span>(<span class="sig-arg">language</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="turbolucene-pysrc.html#_analyzer_factory">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Produce an analyzer object appropriate for the given language.</p>
<p>This function uses the data that was read in from the languages
configuration file to determine and instantiate the analyzer object.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>language</code></strong> (<code class="link">str</code> or <code class="link">unicode</code>) - An ISO language code that is configured in the languages configuration
file.</li>
    </ul></dd>
    <dt>Returns: <tt class="rst-rst-docutils literal rst-docutils literal"><span class="pre">PyLucene.Analyzer</span></tt> sub-class</dt>
        <dd>An instance of the configured analyser class for given language.</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'>KeyError</strong></code> - Raised if the given language is not configured or if the
configuration for that language does not have a <em>analyzer_class</em> key.</li>
        <li><code><strong class='fraise'>PyLucene.InvalidArgsError</strong></code> - Raised if any of the parameters passed to
the analyzer class are invalid.</li>
    </ul></dd>
  </dl>
<div class="fields">      <p><strong>See Also:</strong>
        <a href="turbolucene-module.html#_load_language_data" class="link">_load_language_data</a> for details about the language configuration
file.
      </p>
</div></td></tr></table>
</div>
<a name="start"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">start</span>(<span class="sig-arg">make_document</span>,
        <span class="sig-arg">results_formatter</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="turbolucene-pysrc.html#start">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Initialize and start the search engine threads.</p>
<p>This function loads the language configuration information, starts the
search engine threads, makes sure the search engine will be shutdown upon
shutdown of TurboGears and starts the optimization scheduler to run at the
configured times.</p>
<p>The <code class="link">make_document</code> and <code class="link">results_formatter</code> parameters are
callables.  Here are examples of how they should be defined:</p>
<div class="rst-section">
<h1 class="heading"><a id="rst-example-make-document-function" name="rst-example-make-document-function">Example <code class="link">make_document</code> function:</a></h1>
<pre class="py-doctest">
<span class="py-keyword">def</span> <span class="py-defname">make_document</span>(entry):
    <span class="py-string">'''Make a new PyLucene Document instance from an Entry instance.'''</span>
    document = Document()
    <span class="py-comment"># An 'id' string field is required.</span>
    document.add(Field(<span class="py-string">'id'</span>, str(entry.id), STORE, UN_TOKENIZED))
    document.add(Field(<span class="py-string">'posted_on'</span>, entry.rendered_posted_on, STORE,
      TOKENIZED))
    document.add(Field(<span class="py-string">'title'</span>, entry.title, STORE, TOKENIZED))
    document.add(Field(<span class="py-string">'text'</span>, strip_tags(entry.etree), COMPRESS,
      TOKENIZED))
    categories = <span class="py-string">' '</span>.join([unicode(category) <span class="py-keyword">for</span> category <span class="py-keyword">in</span>
      entry.categories])
    document.add(Field(<span class="py-string">'category'</span>, categories, STORE, TOKENIZED))
    return document</pre>
</div>
<div class="rst-section">
<h1 class="heading"><a id="rst-example-results-formatter-function" name="rst-example-results-formatter-function">Example <code class="link">results_formatter</code> function:</a></h1>
<pre class="py-doctest">
<span class="py-keyword">def</span> <span class="py-defname">results_formatter</span>(results):
    <span class="py-string">'''Return the results as SQLObject instances.</span>

<span class="py-string">    Returns either an empty list or a SelectResults object.</span>

<span class="py-string">    '''</span>
    <span class="py-keyword">if</span> results:
        return Entry.select_with_identity(IN(Entry.q.id, [int(id) <span class="py-keyword">for</span> id
          <span class="py-keyword">in</span> results]))</pre>
</div>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>make_document</code></strong> (callable) - <code class="link">make_document</code> is a callable that will return a PyLucene <a href="PyLucene.Document-class.html" class="link">Document</a>
object based on the object passed in to <a href="turbolucene-module.html#add" class="link">add</a>, <a href="turbolucene-module.html#update" class="link">update</a> or <a href="turbolucene-module.html#remove" class="link">remove</a>.
The <a href="PyLucene.Document-class.html" class="link">Document</a> object must have at least a field called <tt class="rst-docutils literal"><span class="pre">id</span></tt> that is
a string.  This function operates inside a PyLucene <tt class="rst-docutils literal"><span class="pre">PythonThread</span></tt>.</li>
        <li><strong class="pname"><code>results_formatter</code></strong> (callable) - <code class="link">results_formatter</code>, if provided, is a callable that will return
a formatted version of the search results that are passed to it by
<a href="turbolucene._Searcher-class.html#__call__" class="link">_Searcher.__call__</a>.  Generally the <code class="link">results_formatter</code> will take the
list of <tt class="rst-docutils literal"><span class="pre">id</span></tt> strings that is passed to it and return a list of
application-specific objects (like <a class="rst-reference" href="http://sqlobject.org/" target="_top">SQLObject</a> instances, for example.)
This function operates outside of any PyLucene <tt class="rst-docutils literal"><span class="pre">PythonThread</span></tt> objects
(like in the CherryPy thread, for example).  (Optional)</li>
    </ul></dd>
  </dl>
<div class="fields">      <p><strong>See Also:</strong>
        <ul class="rst-simple">
<li><a href="turbolucene-module.html" class="link">turbolucene</a> (module docstring) for details about configuration
settings.</li>
<li><a href="turbolucene-module.html#_load_language_data" class="link">_load_language_data</a> for details about the language configuration
file.</li>
</ul>
      </p>
</div></td></tr></table>
</div>
<a name="add"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">add</span>(<span class="sig-arg">object_</span>,
        <span class="sig-arg">language</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="turbolucene-pysrc.html#add">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Tell the search engine to add the given object to the index.</p>
<p>This function returns immediately.  It does not wait for the indexer to be
finished.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>object_</code></strong> - This can be any object that <tt class="rst-docutils literal"><span class="pre">make_document</span></tt> knows how to handle.</li>
        <li><strong class="pname"><code>language</code></strong> (<code class="link">str</code>) - This is the ISO language code of the language of the object.  If
<code class="link">language</code> is given, then it must be on that was previously configured
in <tt class="rst-docutils literal"><span class="pre">turbolucene.languages</span></tt>.  If <code class="link">language</code> is not given, then
the language configured in <tt class="rst-docutils literal"><span class="pre">turbolucene.default_language</span></tt> will be
used.  (Optional)</li>
    </ul></dd>
  </dl>
<div class="fields">      <p><strong>See Also:</strong>
        <ul class="rst-simple">
<li><a href="turbolucene-module.html" class="link">turbolucene</a> (module docstring) for details about configuration
settings.</li>
<li><a href="turbolucene-module.html#start" class="link">start</a> for details about <tt class="rst-docutils literal"><span class="pre">make_document</span></tt>.</li>
</ul>
      </p>
</div></td></tr></table>
</div>
<a name="update"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">update</span>(<span class="sig-arg">object_</span>,
        <span class="sig-arg">language</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="turbolucene-pysrc.html#update">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Tell the the search engine to update the index for the given object.</p>
<p>This function returns immediately.  It does not wait for the indexer to be
finished.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>object_</code></strong> - This can be any object that <tt class="rst-docutils literal"><span class="pre">make_document</span></tt> knows how to handle.</li>
        <li><strong class="pname"><code>language</code></strong> (<code class="link">str</code>) - This is the ISO language code of the language of the object.  If
<code class="link">language</code> is given, then it must be on that was previously configured
in <tt class="rst-docutils literal"><span class="pre">turbolucene.languages</span></tt>.  If <code class="link">language</code> is not given, then
the language configured in <tt class="rst-docutils literal"><span class="pre">turbolucene.default_language</span></tt> will be
used.  (Optional)</li>
    </ul></dd>
  </dl>
<div class="fields">      <p><strong>See Also:</strong>
        <ul class="rst-simple">
<li><a href="turbolucene-module.html" class="link">turbolucene</a> (module docstring) for details about configuration
settings.</li>
<li><a href="turbolucene-module.html#start" class="link">start</a> for details about <tt class="rst-docutils literal"><span class="pre">make_document</span></tt>.</li>
</ul>
      </p>
</div></td></tr></table>
</div>
<a name="remove"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">remove</span>(<span class="sig-arg">object_</span>,
        <span class="sig-arg">language</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="turbolucene-pysrc.html#remove">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Tell the search engine to remove the given object from the index.</p>
<p>This function returns immediately.  It does not wait for the indexer to be
finished.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>object_</code></strong> - This can be any object that <tt class="rst-docutils literal"><span class="pre">make_document</span></tt> knows how to handle.</li>
        <li><strong class="pname"><code>language</code></strong> (<code class="link">str</code>) - This is the ISO language code of the language of the object.  If
<code class="link">language</code> is given, then it must be on that was previously configured
in <tt class="rst-docutils literal"><span class="pre">turbolucene.languages</span></tt>.  If <code class="link">language</code> is not given, then
the language configured in <tt class="rst-docutils literal"><span class="pre">turbolucene.default_language</span></tt> will be
used.  (Optional)</li>
    </ul></dd>
  </dl>
<div class="fields">      <p><strong>See Also:</strong>
        <ul class="rst-simple">
<li><a href="turbolucene-module.html" class="link">turbolucene</a> (module docstring) for details about configuration
settings.</li>
<li><a href="turbolucene-module.html#start" class="link">start</a> for details about <tt class="rst-docutils literal"><span class="pre">make_document</span></tt>.</li>
</ul>
      </p>
</div></td></tr></table>
</div>
<a name="search"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">search</span>(<span class="sig-arg">query</span>,
        <span class="sig-arg">language</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="turbolucene-pysrc.html#search">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Return results from the search engine that match the query.</p>
<p>If a <tt class="rst-docutils literal"><span class="pre">results_formatter</span></tt> function was passed to <a href="turbolucene-module.html#start" class="link">start</a> then the results
will be passed through the formatter before returning.  If not, the
returned value is a list of strings that are the <tt class="rst-docutils literal"><span class="pre">id</span></tt> fields of matching
objects.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>query</code></strong> (<code class="link">str</code> or <code class="link">unicode</code>) - This is the search query to give to PyLucene.  All of Lucene's query
syntax (field identifiers, wild cards, etc.) are available.</li>
        <li><strong class="pname"><code>language</code></strong> (<code class="link">str</code>) - This is the ISO language code of the language of the object.  If
<code class="link">language</code> is given, then it must be on that was previously configured
in <tt class="rst-docutils literal"><span class="pre">turbolucene.languages</span></tt>.  If <code class="link">language</code> is not given, then
the language configured in <tt class="rst-docutils literal"><span class="pre">turbolucene.default_language</span></tt> will be
used.  (Optional)</li>
    </ul></dd>
    <dt>Returns: iterable</dt>
        <dd>The results of the search.</dd>
  </dl>
<div class="fields">      <p><strong>See Also:</strong>
        <ul class="rst-simple">
<li><a href="turbolucene-module.html#start" class="link">start</a> for details about <tt class="rst-docutils literal"><span class="pre">results_formatter</span></tt>.</li>
<li><a href="turbolucene-module.html" class="link">turbolucene</a> (module docstring) for details about configuration
settings.</li>
<li><a class="rst-reference" href="http://lucene.apache.org/java/docs/queryparsersyntax.html" target="_top">http://lucene.apache.org/java/docs/queryparsersyntax.html</a> for details
about Lucene's query syntax.</li>
</ul>
      </p>
</div></td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th bgcolor="#70b0f0" class="navbar-select"
          >&nbsp;&nbsp;&nbsp;Home&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://dev.krys.ca/turbolucene/">TurboLucene</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0beta1 on Tue May  1 23:35:04 2007
    </td>
    <td align="right" class="footer">
      <a href="http://epydoc.sourceforge.net">http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie()
  // -->
</script>
  
</body>
</html>
