<span
    i18n:domain="dolmen.widget.file"
    tal:attributes="id view/id; class view/klass;"
    tal:define="download_url view/download_url;
		exists python: view.value is not None;">
  <span tal:condition="python: exists and download_url">
    <a tal:content="view/filename"
       tal:attributes="href download_url"
       >Filename</a> &mdash;
    <span tal:condition="view/file_size"
	  tal:content="view/file_size/sizeForDisplay" />
  </span>
  <div tal:condition="view/allow_nochange" style="padding-top: 1em;">
    <input type="radio"
	   value="nochange"
	   checked="checked"
	   class="noborder"
	   tal:attributes="name string:${view/name}.nochange;
			   id string:${view/id}-nochange;
			   onclick string:document.getElementById('${view/id}-input').disabled=true;"
            />
    <label
	tal:attributes="for string:${view/id}-nochange"
	i18n:translate="file_keep">Keep existing file</label>
    <br />
    <input type="radio"
	   value="delete"
	   class="noborder"
	   tal:condition="python: exists and download_url"
	   tal:attributes="name string:${view/name}.nochange;
			   id string:${view/id}-delete;
			   onclick string:document.getElementById('${view/id}-input').disabled=true;"
            />
    <label
	tal:attributes="for string:${view/id}-delete"
	i18n:translate="file_delete">Delete existing file</label>
    <br />
    <input type="radio"
	   value=""
	   class="noborder"
	   tal:attributes="name string:${view/name}.nochange;
			   id string:${view/id}-replace;
			   onclick string:document.getElementById('${view/id}-input').disabled=false;" />
        <label tal:attributes="for string:${view/id}-replace"
	       i18n:translate="file_replace">Replace with new file</label>
  </div>
  <div tal:omit-tag="not:view/allow_nochange"
       style="padding-left: 1.5em; padding-top: 0.5em;">
    <input type="file"
	   tal:attributes="id string:${view/id}-input;
			   name view/name;
			   size view/size;
			   maxlength view/maxlength;"
	   />
    <script tal:condition="view/allow_nochange" type="text/javascript"
	    tal:content="string:document.getElementById('${view/id}-input').disabled=true;">
    </script>
  </div>
</span>
