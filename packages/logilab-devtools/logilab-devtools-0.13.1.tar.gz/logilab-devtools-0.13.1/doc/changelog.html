<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<div class="division-title-block">
<a name="id236519"></a><div class="division-title">Aide à la gestion du fichier ChangeLog</div>
</div><div class="component-title-block"><div class="component-title">Table des Matières</div></div><div class="toc">
<div class="toc-element"><div class="component-toc-text"><a href="#format-standard-d-un-fichier-changelog">Chapitre I - Format standard d'un fichier ChangeLog</a></div></div>
<div class="toc-element">
<div class="component-toc-text"><a href="#l-utilitaire-changelog">Chapitre II - L'utilitaire changelog</a></div>
<div class="toc-element"><div class="sect1-toc-text"><a href="#description">1.  Description</a></div></div>
<div class="toc-element"><div class="sect1-toc-text"><a href="#synopsis">2.  Synopsis</a></div></div>
</div>
<div class="toc-element"><div class="component-toc-text"><a href="#int-gration-avec-x-emacs">Chapitre III - Intégration avec [X]Emacs</a></div></div>
</div><div class="component-title-block">
<a name="format-standard-d-un-fichier-changelog"></a><div class="component-pretitle">Chapitre I</div>
<div class="component-title">Format standard d'un fichier ChangeLog</div>
</div>

<div class="para">Le mieux et de voir ça à partir d'un exemple :</div>
<div class="programlisting">
Change log for project XXX
==========================

 --
    * add a new functionnality

2002-02-01 -- 0.1.1
    * fix bug #435454
    * fix bug #434356

2002-01-01 -- 0.1
    * initial release
</div>
<div class="para">Il y a dans ce fichier 3 entrées, une pour chaque version déjà distribuées
et une pour la prochaine version, l'entrée courante. Chaque entrée
contient des messages correspondant aux changements effectués depuis la
version précédente.</div>
<div class="para">Il est important de noter que l'entrée courante ne possède pas encore de
date ni de numéro de version.</div>
<div class="para">Chaque ligne non vide avant la première entrée est considérée comme
faisant parti du titre.</div>
<div class="component-title-block">
<a name="l-utilitaire-changelog"></a><div class="component-pretitle">Chapitre II</div>
<div class="component-title">L'utilitaire <span class="emphasis">changelog</span>
</div>
</div>

<div class="sect1-title">
<a name="description"></a>1. Description</div>

<div class="para">Cette utilitaire permet de manipuler les fichiers ChangeLog au format décrit
ci-dessus.</div>

<div class="sect1-title">
<a name="synopsis"></a>2. Synopsis</div>

<div class="programlisting">
USAGE: changelog [OPTIONS] [COMMAND] [COMMAND_ARGS]

OPTIONS:
  --help
    display this help message
  --pkg-dir &amp;lt;dir&gt;
    base directory of the package
  --new
    create a new entry if no current entry found

COMMAND COMMANDS_ARGS
  extract [release]
    extract messages for a given release. If no release is given, get messages
    for the current entry.

  lastrev
    retreive the latest version released

  add &amp;lt;message&gt;
    add a message to the current entry

  update
    update the change log by fectching log entries from cvs

  close
    close the current entry (version is read from the package
    __init__.py file)
</div>
<div class="para">Ce script est appelé automatiquement par <span class="emphasis">preparedistrib</span> afin d'extraire les
messages de la révision courante et de génerer l'annonce, puis de fermer
l'entrée courante.</div>

<div class="component-title-block">
<a name="int-gration-avec-x-emacs"></a><div class="component-pretitle">Chapitre III</div>
<div class="component-title">Intégration avec <span class="emphasis">[X]Emacs</span>
</div>
</div>

<div class="para">Ce paquet fournit un mode Emacs pour notre format spécifique, écrit à l'aide de
<a class="" href="http://www.iro.umontreal.ca/~pinard/pymacs/">Pymacs</a>. Afin d'utiliser ce format de change log dans <span class="emphasis">[X]Emacs</span>, il faut
ajouter les lignes suivantes à votre <span class="emphasis">.emacs</span> (pensez à adapter les chemins !) :</div>
<div class="programlisting">
;; Pymacs
(autoload 'pymacs-load "pymacs" nil t)
(autoload 'pymacs-eval "pymacs" nil t)
(autoload 'pymacs-apply "pymacs")
'(add-to-list 'pymacs-load-path "/home/syt/cvs_work/logilab")
'(add-to-list 'pymacs-load-path "/home/syt/lib/python2.2/site-packages")
;; change log
(load-library "changelog")
</div>
<div class="para">Si le paquet <span class="emphasis">devtools</span> n'est pas installé dans un répertoire standard, il faut
qu'il soit accessible gràce à la liste pymacs-load-path (équivalent du
<span class="emphasis">PYTHONPATH</span> pour <span class="emphasis">pymacs</span>).</div>
<div class="para">Evidemment l'installation à l'aide de devtools à partir du paquet debian évite
tout cela :o)</div>

