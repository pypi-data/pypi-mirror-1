### -*- coding: utf-8 -*- #############################################
#######################################################################
"""Convertor Select class for the Zope 3 based reference package

$Id: convertorselect.py.1 50800 2008-02-21 11:13:08Z cray $
"""
__author__  = "Andrey Orlov, 2007-02-06"
__license__ = "GPL"
__version__ = "$Revision: 50800 $"
__date__ = "$Date: 2008-02-21 14:13:08 +0300 (Чтв, 21 Фев 2008) $"
 
from zope.interface import implements
from interfaces import IConvertorSelect
from cachedconvertor.convertor.convertor import ConvertorBase
from cachedconvertor.convertor.interfaces import IConvertor
import re
                
class ConvertorSelect(ConvertorBase):
    __doc__ = IConvertorSelect.__doc__

    implements(IConvertorSelect)
    
    def __init__(self):
        """ Initialization the convertor by regexp, bytes and lines """

    def convert(self,text):
        """ Do convert """
        text = super(ConvertorSelect,self).convert(text)        
        print text
        bt=0
        et=0
        lt=0
        n =0
        nt=0
        fix = False
        for c in text :
            n+=1
            print "wait bt",float(nt)/n*(n-lt),n,nt,float(nt)/n,n-lt,str(c)
            
            if c in ["<",">"] :
                nt += 1
                lt = n    
            else :
                print "QQ", float(nt)/n*(n-lt)                          
            if float(nt)/n*(n-lt) > 6 :
                print "BT",bt
                bt = lt
                break

        for c in text[bt:] :
            n+=1
            print "wait et q",float(nt)/n*(n-lt),n,nt,n-lt,str(c)
            if c in ["<",">"] :
                nt += 1
                lt = n               
                if float(nt)//n*(n-lt) < 0.2 :
                    et = lt
                    print "ET",et
                    break

        print n
        return text[bt:et]
        
if __name__ == '__main__' :
    import sys
    print ConvertorSelect().convert(sys.stdin.read())
    