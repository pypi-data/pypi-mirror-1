<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>xappy.searchconnection.SearchResult</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="xappy-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            >xappy</th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="xappy-module.html">Package&nbsp;xappy</a> ::
        <a href="xappy.searchconnection-module.html">Module&nbsp;searchconnection</a> ::
        Class&nbsp;SearchResult
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="xappy.searchconnection.SearchResult-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class SearchResult</h1><span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchResult">source&nbsp;code</a></span><br /><br />
<pre class="base-tree">
                      object --+    
                               |    
<a href="xappy.datastructures.ProcessedDocument-class.html">datastructures.ProcessedDocument</a> --+
                                   |
                                  <strong class="uidshort">SearchResult</strong>
</pre>

<hr />
<p>A result from a search.</p>
<p>As well as being a ProcessedDocument representing the document in the
database, the result has several members which may be used to get
information about how well the document matches the search:</p>
<blockquote>
<ul class="rst-simple">
<li><code class="link">rank</code>: The rank of the document in the search results, starting at 0
(ie, 0 is the &quot;top&quot; result, 1 is the second result, etc).</li>
<li><code class="link">weight</code>: A floating point number indicating the weight of the result
document.  The value is only meaningful relative to other results for a
given search - a different search, or the same search with a different
database, may give an entirely different scale to the weights.  This
should not usually be displayed to users, but may be useful if trying to
perform advanced reweighting operations on search results.</li>
<li><code class="link">percent</code>: A percentage value for the weight of a document.  This is
just a rescaled form of the <code class="link">weight</code> member.  It doesn't represent any
kind of probability value; the only real meaning of the numbers is that,
within a single set of results, a document with a higher percentage
corresponds to a better match.  Because the percentage doesn't really
represent a probability, or a confidence value, it is probably unhelpful
to display it to most users, since they tend to place an over emphasis
on its meaning.  However, it is included because it may be useful
occasionally.</li>
</ul>
</blockquote><br /><br />

<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Instance Methods</span></td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="xappy.searchconnection.SearchResult-class.html#__init__" class="summary-sig-name">__init__</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">msetitem</span>,
        <span class="summary-sig-arg">results</span>)</span><br />
      Create a ProcessedDocument.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchResult.__init__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="xappy.searchconnection.SearchResult-class.html#summarise" class="summary-sig-name">summarise</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">field</span>,
        <span class="summary-sig-arg">maxlen</span>=<span class="summary-sig-default">600</span>,
        <span class="summary-sig-arg">hl</span>=<span class="summary-sig-default"><code class="variable-group">(</code><code class="variable-quote">'</code><code class="variable-string">&lt;b&gt;</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">&lt;/b&gt;</code><code class="variable-quote">'</code><code class="variable-group">)</code></span>,
        <span class="summary-sig-arg">query</span>=<span class="summary-sig-default">None</span>)</span><br />
      Return a summarised version of the field specified.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchResult.summarise">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="xappy.searchconnection.SearchResult-class.html#highlight" class="summary-sig-name">highlight</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">field</span>,
        <span class="summary-sig-arg">hl</span>=<span class="summary-sig-default"><code class="variable-group">(</code><code class="variable-quote">'</code><code class="variable-string">&lt;b&gt;</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">&lt;/b&gt;</code><code class="variable-quote">'</code><code class="variable-group">)</code></span>,
        <span class="summary-sig-arg">strip_tags</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">query</span>=<span class="summary-sig-default">None</span>)</span><br />
      Return a highlighted version of the field specified.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchResult.highlight">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="xappy.searchconnection.SearchResult-class.html#__repr__" class="summary-sig-name">__repr__</a>(<span class="summary-sig-arg">self</span>)</span><br />
      repr(x)</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchResult.__repr__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="xappy.datastructures.ProcessedDocument-class.html">datastructures.ProcessedDocument</a></code></b>:
      <code><a href="xappy.datastructures.ProcessedDocument-class.html#add_term">add_term</a></code>,
      <code><a href="xappy.datastructures.ProcessedDocument-class.html#add_value">add_value</a></code>,
      <code><a href="xappy.datastructures.ProcessedDocument-class.html#get_value">get_value</a></code>,
      <code><a href="xappy.datastructures.ProcessedDocument-class.html#prepare">prepare</a></code>
      </p>
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__delattr__</code>,
      <code>__getattribute__</code>,
      <code>__hash__</code>,
      <code>__new__</code>,
      <code>__reduce__</code>,
      <code>__reduce_ex__</code>,
      <code>__setattr__</code>,
      <code>__str__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== PROPERTIES ==================== -->
<a name="section-Properties"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Properties</span></td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="xappy.datastructures.ProcessedDocument-class.html">datastructures.ProcessedDocument</a></code></b>:
      <code><a href="xappy.datastructures.ProcessedDocument-class.html#data">data</a></code>,
      <code><a href="xappy.datastructures.ProcessedDocument-class.html#id">id</a></code>
      </p>
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__class__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Method Details</span></td>
</tr>
</table>
<a name="__init__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__init__</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">msetitem</span>,
        <span class="sig-arg">results</span>)</span>
    <br /><em class="fname">(Constructor)</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchResult.__init__">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Create a ProcessedDocument.</p>
<p><a href="xappy.fieldmappings-module.html" class="link">fieldmappings</a> is the configuration from a database connection used lookup
the configuration to use to store each field.</p>
<p>If supplied, <code class="link">xapdoc</code> is a Xapian document to store in the processed
document.  Otherwise, a new Xapian document is created.</p>
  <dl class="fields">
    <dt>Overrides:
      <a href="xappy.datastructures.ProcessedDocument-class.html#__init__">datastructures.ProcessedDocument.__init__</a>
        <dd><em class="note">(inherited documentation)</em></dd>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="summarise"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">summarise</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">field</span>,
        <span class="sig-arg">maxlen</span>=<span class="sig-default">600</span>,
        <span class="sig-arg">hl</span>=<span class="sig-default"><code class="variable-group">(</code><code class="variable-quote">'</code><code class="variable-string">&lt;b&gt;</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">&lt;/b&gt;</code><code class="variable-quote">'</code><code class="variable-group">)</code></span>,
        <span class="sig-arg">query</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchResult.summarise">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Return a summarised version of the field specified.</p>
<p>This will return a summary of the contents of the field stored in the
search result, with words which match the query highlighted.</p>
<p>The maximum length of the summary (in characters) may be set using the
maxlen parameter.</p>
<p>The return value will be a string holding the summary, with
highlighting applied.  If there are multiple instances of the field in
the document, the instances will be joined with a newline character.</p>
<p>To turn off highlighting, set hl to None.  Each highlight will consist
of the first entry in the <code class="link">hl</code> list being placed before the word, and
the second entry in the <code class="link">hl</code> list being placed after the word.</p>
<p>Any XML or HTML style markup tags in the field will be stripped before
the summarisation algorithm is applied.</p>
<p>If <code class="link">query</code> is supplied, it should contain a Query object, as returned
from SearchConnection.query_parse() or related methods, which will be
used as the basis of the summarisation and highlighting rather than the
query which was used for the search.</p>
<p>Raises KeyError if the field is not known.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="highlight"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">highlight</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">field</span>,
        <span class="sig-arg">hl</span>=<span class="sig-default"><code class="variable-group">(</code><code class="variable-quote">'</code><code class="variable-string">&lt;b&gt;</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">&lt;/b&gt;</code><code class="variable-quote">'</code><code class="variable-group">)</code></span>,
        <span class="sig-arg">strip_tags</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">query</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchResult.highlight">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Return a highlighted version of the field specified.</p>
<p>This will return all the contents of the field stored in the search
result, with words which match the query highlighted.</p>
<p>The return value will be a list of strings (corresponding to the list
of strings which is the raw field data).</p>
<p>Each highlight will consist of the first entry in the <code class="link">hl</code> list being
placed before the word, and the second entry in the <code class="link">hl</code> list being
placed after the word.</p>
<p>If <code class="link">strip_tags</code> is True, any XML or HTML style markup tags in the field
will be stripped before highlighting is applied.</p>
<p>If <code class="link">query</code> is supplied, it should contain a Query object, as returned
from SearchConnection.query_parse() or related methods, which will be
used as the basis of the summarisation and highlighting rather than the
query which was used for the search.</p>
<p>Raises KeyError if the field is not known.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="__repr__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__repr__</span>(<span class="sig-arg">self</span>)</span>
    <br /><em class="fname">(Representation operator)</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchResult.__repr__">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  repr(x)
  <dl class="fields">
    <dt>Overrides:
      <a href="xappy.datastructures.ProcessedDocument-class.html#__repr__">datastructures.ProcessedDocument.__repr__</a>
    </dt>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="xappy-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            >xappy</th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0beta1 on Tue Apr 29 09:21:55 2008
    </td>
    <td align="right" class="footer">
      <a href="http://epydoc.sourceforge.net">http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie()
  // -->
</script>
  
</body>
</html>
