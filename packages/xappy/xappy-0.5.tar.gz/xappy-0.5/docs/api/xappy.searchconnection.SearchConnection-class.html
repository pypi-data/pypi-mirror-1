<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>xappy.searchconnection.SearchConnection</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="xappy-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            >xappy</th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="xappy-module.html">Package&nbsp;xappy</a> ::
        <a href="xappy.searchconnection-module.html">Module&nbsp;searchconnection</a> ::
        Class&nbsp;SearchConnection
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="xappy.searchconnection.SearchConnection-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class SearchConnection</h1><span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection">source&nbsp;code</a></span><br /><br />
<pre class="base-tree">
object --+
         |
        <strong class="uidshort">SearchConnection</strong>
</pre>

<hr />
<p>A connection to the search engine for searching.</p>
<p>The connection will access a view of the database.</p><br /><br />

<!-- ==================== NESTED CLASSES ==================== -->
<a name="section-NestedClasses"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Nested Classes</span></td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="xappy.searchconnection.SearchConnection.ExpandDecider-class.html" class="summary-name">ExpandDecider</a>
    </td>
  </tr>
</table>
<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Instance Methods</span></td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="xappy.searchconnection.SearchConnection-class.html#__init__" class="summary-sig-name">__init__</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">indexpath</span>)</span><br />
      Create a new connection to the index for searching.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.__init__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="__del__"></a><span class="summary-sig-name">__del__</span>(<span class="summary-sig-arg">self</span>)</span></td>
          <td align="right" valign="top">
            <span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.__del__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="xappy.searchconnection.SearchConnection-class.html#append_close_handler" class="summary-sig-name">append_close_handler</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">handler</span>,
        <span class="summary-sig-arg">userdata</span>=<span class="summary-sig-default">None</span>)</span><br />
      Append a callback to the list of close handlers.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.append_close_handler">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="xappy.searchconnection.SearchConnection-class.html#reopen" class="summary-sig-name">reopen</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Reopen the connection.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.reopen">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="xappy.searchconnection.SearchConnection-class.html#close" class="summary-sig-name">close</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Close the connection to the database.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.close">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="xappy.searchconnection.SearchConnection-class.html#get_doccount" class="summary-sig-name">get_doccount</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Count the number of documents in the database.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.get_doccount">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="xappy.searchconnection.SearchConnection-class.html#query_composite" class="summary-sig-name">query_composite</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">operator</span>,
        <span class="summary-sig-arg">queries</span>)</span><br />
      Build a composite query from a list of queries.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.query_composite">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="xappy.searchconnection.SearchConnection-class.html#query_multweight" class="summary-sig-name">query_multweight</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">query</span>,
        <span class="summary-sig-arg">multiplier</span>)</span><br />
      Build a query which modifies the weights of a subquery.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.query_multweight">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="xappy.searchconnection.SearchConnection-class.html#query_filter" class="summary-sig-name">query_filter</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">query</span>,
        <span class="summary-sig-arg">filter</span>,
        <span class="summary-sig-arg">exclude</span>=<span class="summary-sig-default">False</span>)</span><br />
      Filter a query with another query.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.query_filter">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="xappy.searchconnection.SearchConnection-class.html#query_adjust" class="summary-sig-name">query_adjust</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">primary</span>,
        <span class="summary-sig-arg">secondary</span>)</span><br />
      Adjust the weights of one query with a secondary query.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.query_adjust">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="xappy.searchconnection.SearchConnection-class.html#query_range" class="summary-sig-name">query_range</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">field</span>,
        <span class="summary-sig-arg">begin</span>,
        <span class="summary-sig-arg">end</span>)</span><br />
      Create a query for a range search.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.query_range">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="xappy.searchconnection.SearchConnection-class.html#query_facet" class="summary-sig-name">query_facet</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">field</span>,
        <span class="summary-sig-arg">val</span>)</span><br />
      Create a query for a facet value.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.query_facet">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="xappy.searchconnection.SearchConnection-class.html#query_parse" class="summary-sig-name">query_parse</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">string</span>,
        <span class="summary-sig-arg">allow</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">deny</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">default_op</span>=<span class="summary-sig-default">0</span>,
        <span class="summary-sig-arg">default_allow</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">default_deny</span>=<span class="summary-sig-default">None</span>)</span><br />
      Parse a query string.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.query_parse">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="query_field"></a><span class="summary-sig-name">query_field</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">field</span>,
        <span class="summary-sig-arg">value</span>,
        <span class="summary-sig-arg">default_op</span>=<span class="summary-sig-default">0</span>)</span><br />
      A query for a single field.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.query_field">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="xappy.searchconnection.SearchConnection-class.html#query_similar" class="summary-sig-name">query_similar</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">ids</span>,
        <span class="summary-sig-arg">allow</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">deny</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">simterms</span>=<span class="summary-sig-default">10</span>)</span><br />
      Get a query which returns documents which are similar to others.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.query_similar">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="xappy.searchconnection.SearchConnection-class.html#significant_terms" class="summary-sig-name">significant_terms</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">ids</span>,
        <span class="summary-sig-arg">maxterms</span>=<span class="summary-sig-default">10</span>,
        <span class="summary-sig-arg">allow</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">deny</span>=<span class="summary-sig-default">None</span>)</span><br />
      Get a set of &quot;significant&quot; terms for a document, or documents.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.significant_terms">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="query_all"></a><span class="summary-sig-name">query_all</span>(<span class="summary-sig-arg">self</span>)</span><br />
      A query which matches all the documents in the database.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.query_all">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="xappy.searchconnection.SearchConnection-class.html#query_none" class="summary-sig-name">query_none</a>(<span class="summary-sig-arg">self</span>)</span><br />
      A query which matches no documents in the database.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.query_none">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="xappy.searchconnection.SearchConnection-class.html#spell_correct" class="summary-sig-name">spell_correct</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">querystr</span>,
        <span class="summary-sig-arg">allow</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">deny</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">default_op</span>=<span class="summary-sig-default">0</span>,
        <span class="summary-sig-arg">default_allow</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">default_deny</span>=<span class="summary-sig-default">None</span>)</span><br />
      Correct a query spelling.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.spell_correct">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="can_collapse_on"></a><span class="summary-sig-name">can_collapse_on</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">field</span>)</span><br />
      Check if this database supports collapsing on a specified field.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.can_collapse_on">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="can_sort_on"></a><span class="summary-sig-name">can_sort_on</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">field</span>)</span><br />
      Check if this database supports sorting on a specified field.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.can_sort_on">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="xappy.searchconnection.SearchConnection-class.html#search" class="summary-sig-name">search</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">query</span>,
        <span class="summary-sig-arg">startrank</span>,
        <span class="summary-sig-arg">endrank</span>,
        <span class="summary-sig-arg">checkatleast</span>=<span class="summary-sig-default">0</span>,
        <span class="summary-sig-arg">sortby</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">collapse</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">gettags</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">getfacets</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">allowfacets</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">denyfacets</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">usesubfacets</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">percentcutoff</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">weightcutoff</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">query_type</span>=<span class="summary-sig-default">None</span>)</span><br />
      Perform a search, for documents matching a query.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.search">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="xappy.searchconnection.SearchConnection-class.html#iterids" class="summary-sig-name">iterids</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Get an iterator which returns all the ids in the database.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.iterids">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="xappy.searchconnection.SearchConnection-class.html#get_document" class="summary-sig-name">get_document</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">id</span>)</span><br />
      Get the document with the specified unique ID.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.get_document">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="xappy.searchconnection.SearchConnection-class.html#iter_synonyms" class="summary-sig-name">iter_synonyms</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">prefix</span>=<span class="summary-sig-default"><code class="variable-quote">'</code><code class="variable-string"></code><code class="variable-quote">'</code></span>)</span><br />
      Get an iterator over the synonyms.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.iter_synonyms">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="xappy.searchconnection.SearchConnection-class.html#get_metadata" class="summary-sig-name">get_metadata</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">key</span>)</span><br />
      Get an item of metadata stored in the connection.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.get_metadata">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__delattr__</code>,
      <code>__getattribute__</code>,
      <code>__hash__</code>,
      <code>__new__</code>,
      <code>__reduce__</code>,
      <code>__reduce_ex__</code>,
      <code>__repr__</code>,
      <code>__setattr__</code>,
      <code>__str__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== CLASS VARIABLES ==================== -->
<a name="section-ClassVariables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Class Variables</span></td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="OP_AND"></a><span class="summary-name">OP_AND</span> = <code title="0">0</code>
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="OP_OR"></a><span class="summary-name">OP_OR</span> = <code title="1">1</code>
    </td>
  </tr>
</table>
<!-- ==================== PROPERTIES ==================== -->
<a name="section-Properties"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Properties</span></td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__class__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td align="left" colspan="2" class="table-header">
    <span class="table-header">Method Details</span></td>
</tr>
</table>
<a name="__init__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__init__</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">indexpath</span>)</span>
    <br /><em class="fname">(Constructor)</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.__init__">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Create a new connection to the index for searching.</p>
<p>There may only an arbitrary number of search connections for a
particular database open at a given time (regardless of whether there
is a connection for indexing open as well).</p>
<p>If the database doesn't exist, an exception will be raised.</p>
  <dl class="fields">
    <dt>Overrides:
      object.__init__
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="append_close_handler"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">append_close_handler</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">handler</span>,
        <span class="sig-arg">userdata</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.append_close_handler">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Append a callback to the list of close handlers.</p>
<p>These will be called when the SearchConnection is closed.  This happens
when the close() method is called, or when the SearchConnection object
is deleted.  The callback will be passed two arguments: the path to the
SearchConnection object, and the userdata supplied to this method.</p>
<p>The handlers will be called in the order in which they were added.</p>
<p>The handlers will be called after the connection has been closed, so
cannot prevent it closing: their return value will be ignored.  In
addition, they should not raise any exceptions.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="reopen"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">reopen</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.reopen">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Reopen the connection.</p>
<p>This updates the revision of the index which the connection references
to the latest flushed revision.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="close"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">close</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.close">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Close the connection to the database.</p>
<p>It is important to call this method before allowing the class to be
garbage collected to ensure that the connection is cleaned up promptly.</p>
<p>No other methods may be called on the connection after this has been
called.  (It is permissible to call close() multiple times, but
only the first call will have any effect.)</p>
<p>If an exception occurs, the database will be closed, but changes since
the last call to flush may be lost.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="get_doccount"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">get_doccount</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.get_doccount">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Count the number of documents in the database.</p>
<p>This count will include documents which have been added or removed but
not yet flushed().</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="query_composite"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">query_composite</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">operator</span>,
        <span class="sig-arg">queries</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.query_composite">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Build a composite query from a list of queries.</p>
<p>The queries are combined with the supplied operator, which is either
SearchConnection.OP_AND or SearchConnection.OP_OR.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="query_multweight"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">query_multweight</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">query</span>,
        <span class="sig-arg">multiplier</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.query_multweight">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Build a query which modifies the weights of a subquery.</p>
<p>This produces a query which returns the same documents as the subquery,
and in the same order, but with the weights assigned to each document
multiplied by the value of &quot;multiplier&quot;.  &quot;multiplier&quot; may be any floating
point value, but negative values will be clipped to 0, since Xapian
doesn't support negative weights.</p>
<p>This can be useful when producing queries to be combined with
query_composite, because it allows the relative importance of parts of
the query to be adjusted.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="query_filter"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">query_filter</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">query</span>,
        <span class="sig-arg">filter</span>,
        <span class="sig-arg">exclude</span>=<span class="sig-default">False</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.query_filter">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Filter a query with another query.</p>
<p>If exclude is False (or not specified), documents will only match the
resulting query if they match the both the first and second query: the
results of the first query are &quot;filtered&quot; to only include those which
also match the second query.</p>
<p>If exclude is True, documents will only match the resulting query if
they match the first query, but not the second query: the results of
the first query are &quot;filtered&quot; to only include those which do not match
the second query.</p>
<p>Documents will always be weighted according to only the first query.</p>
<ul class="rst-simple">
<li><code class="link">query</code>: The query to filter.</li>
<li><code class="link">filter</code>: The filter to apply to the query.</li>
<li><code class="link">exclude</code>: If True, the sense of the filter is reversed - only
documents which do not match the second query will be returned.</li>
</ul>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="query_adjust"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">query_adjust</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">primary</span>,
        <span class="sig-arg">secondary</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.query_adjust">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Adjust the weights of one query with a secondary query.</p>
<p>Documents will be returned from the resulting query if and only if they
match the primary query (specified by the &quot;primary&quot; parameter).
However, the weights (and hence, the relevance rankings) of the
documents will be adjusted by adding weights from the secondary query
(specified by the &quot;secondary&quot; parameter).</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="query_range"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">query_range</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">field</span>,
        <span class="sig-arg">begin</span>,
        <span class="sig-arg">end</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.query_range">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Create a query for a range search.</p>
<p>This creates a query which matches only those documents which have a
field value in the specified range.</p>
<p>Begin and end must be appropriate values for the field, according to
the 'type' parameter supplied to the SORTABLE action for the field.</p>
<p>The begin and end values are both inclusive - any documents with a
value equal to begin or end will be returned (unless end is less than
begin, in which case no documents will be returned).</p>
<p>Begin or end may be set to None in order to create an open-ended
range.  (They may also both be set to None, which will generate a query
which matches all documents containing any value for the field.)</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="query_facet"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">query_facet</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">field</span>,
        <span class="sig-arg">val</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.query_facet">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Create a query for a facet value.</p>
<p>This creates a query which matches only those documents which have a
facet value in the specified range.</p>
<p>For a numeric range facet, val should be a tuple holding the start and
end of the range, or a comma separated string holding two floating
point values.  For other facets, val should be the value to look
for.</p>
<p>The start and end values are both inclusive - any documents with a
value equal to start or end will be returned (unless end is less than
start, in which case no documents will be returned).</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="query_parse"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">query_parse</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">string</span>,
        <span class="sig-arg">allow</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">deny</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">default_op</span>=<span class="sig-default">0</span>,
        <span class="sig-arg">default_allow</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">default_deny</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.query_parse">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Parse a query string.</p>
<p>This is intended for parsing queries entered by a user.  If you wish to
combine structured queries, it is generally better to use the other
query building methods, such as <a href="xappy.searchconnection.SearchConnection-class.html#query_composite" class="link">query_composite</a> (though you may wish
to create parts of the query to combine with such methods with this
method).</p>
<p>The string passed to this method can have various operators in it.  In
particular, it may contain field specifiers (ie, field names, followed
by a colon, followed by some text to search for in that field).  For
example, if &quot;author&quot; is a field in the database, the search string
could contain &quot;author:richard&quot;, and this would be interpreted as
&quot;search for richard in the author field&quot;.  By default, any fields in
the database which are indexed with INDEX_EXACT or INDEX_FREETEXT will
be available for field specific searching in this way - however, this
can be modified using the &quot;allow&quot; or &quot;deny&quot; parameters, and also by the
allow_field_specific tag on INDEX_FREETEXT fields.</p>
<p>Any text which isn't prefixed by a field specifier is used to search
the &quot;default set&quot; of fields.  By default, this is the full set of
fields in the database which are indexed with INDEX_FREETEXT and for
which the search_by_default flag set (ie, if the text is found in any
of those fields, the query will match).  However, this may be modified
with the &quot;default_allow&quot; and &quot;default_deny&quot; parameters.  (Note that
fields which are indexed with INDEX_EXACT aren't allowed to be used in
the default list of fields.)</p>
<ul class="rst-simple">
<li><code class="link">string</code>: The string to parse.</li>
<li><code class="link">allow</code>: A list of fields to allow in the query.</li>
<li><code class="link">deny</code>: A list of fields not to allow in the query.</li>
<li><code class="link">default_op</code>: The default operator to combine query terms with.</li>
<li><code class="link">default_allow</code>: A list of fields to search for by default.</li>
<li><code class="link">default_deny</code>: A list of fields not to search for by default.</li>
</ul>
<p>Only one of <code class="link">allow</code> and <code class="link">deny</code> may be specified.</p>
<p>Only one of <code class="link">default_allow</code> and <code class="link">default_deny</code> may be specified.</p>
<p>If any of the entries in <code class="link">allow</code> are not present in the configuration
for the database, or are not specified for indexing (either as
INDEX_EXACT or INDEX_FREETEXT), they will be ignored.  If any of the
entries in <code class="link">deny</code> are not present in the configuration for the
database, they will be ignored.</p>
<p>Returns a Query object, which may be passed to the search() method, or
combined with other queries.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="query_similar"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">query_similar</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">ids</span>,
        <span class="sig-arg">allow</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">deny</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">simterms</span>=<span class="sig-default">10</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.query_similar">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Get a query which returns documents which are similar to others.</p>
<p>The list of document IDs to base the similarity search on is given in
<code class="link">ids</code>.  This should be an iterable, holding a list of strings.  If
any of the supplied IDs cannot be found in the database, they will be
ignored.  (If no IDs can be found in the database, the resulting query
will not match any documents.)</p>
<p>By default, all fields which have been indexed for freetext searching
will be used for the similarity calculation.  The list of fields used
for this can be customised using the <code class="link">allow</code> and <code class="link">deny</code> parameters
(only one of which may be specified):</p>
<ul class="rst-simple">
<li><code class="link">allow</code>: A list of fields to base the similarity calculation on.</li>
<li><code class="link">deny</code>: A list of fields not to base the similarity calculation on.</li>
<li><code class="link">simterms</code>: Number of terms to use for the similarity calculation.</li>
</ul>
<p>For convenience, any of <code class="link">ids</code>, <code class="link">allow</code>, or <code class="link">deny</code> may be strings, which
will be treated the same as a list of length 1.</p>
<p>Regardless of the setting of <code class="link">allow</code> and <code class="link">deny</code>, only fields which have
been indexed for freetext searching will be used for the similarity
measure - all other fields will always be ignored for this purpose.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="significant_terms"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">significant_terms</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">ids</span>,
        <span class="sig-arg">maxterms</span>=<span class="sig-default">10</span>,
        <span class="sig-arg">allow</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">deny</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.significant_terms">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Get a set of &quot;significant&quot; terms for a document, or documents.</p>
<p>This has a similar interface to query_similar(): it takes a list of
ids, and an optional specification of a set of fields to consider.
Instead of returning a query, it returns a list of terms from the
document (or documents), which appear &quot;significant&quot;.  Roughly,
in this situation significant means that the terms occur more
frequently in the specified document than in the rest of the corpus.</p>
<p>The list is in decreasing order of &quot;significance&quot;.</p>
<p>By default, all terms related to fields which have been indexed for
freetext searching will be considered for the list of significant
terms.  The list of fields used for this can be customised using the
<code class="link">allow</code> and <code class="link">deny</code> parameters (only one of which may be specified):</p>
<ul class="rst-simple">
<li><code class="link">allow</code>: A list of fields to consider.</li>
<li><code class="link">deny</code>: A list of fields not to consider.</li>
</ul>
<p>For convenience, any of <code class="link">ids</code>, <code class="link">allow</code>, or <code class="link">deny</code> may be strings, which
will be treated the same as a list of length 1.</p>
<p>Regardless of the setting of <code class="link">allow</code> and <code class="link">deny</code>, only fields which have
been indexed for freetext searching will be considered - all other
fields will always be ignored for this purpose.</p>
<p>The maximum number of terms to return may be specified by the maxterms
parameter.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="query_none"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">query_none</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.query_none">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>A query which matches no documents in the database.</p>
<p>This may be useful as a placeholder in various situations.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="spell_correct"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">spell_correct</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">querystr</span>,
        <span class="sig-arg">allow</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">deny</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">default_op</span>=<span class="sig-default">0</span>,
        <span class="sig-arg">default_allow</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">default_deny</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.spell_correct">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Correct a query spelling.</p>
<p>This returns a version of the query string with any misspelt words
corrected.</p>
<ul class="rst-simple">
<li><code class="link">allow</code>: A list of fields to allow in the query.</li>
<li><code class="link">deny</code>: A list of fields not to allow in the query.</li>
<li><code class="link">default_op</code>: The default operator to combine query terms with.</li>
<li><code class="link">default_allow</code>: A list of fields to search for by default.</li>
<li><code class="link">default_deny</code>: A list of fields not to search for by default.</li>
</ul>
<p>Only one of <code class="link">allow</code> and <code class="link">deny</code> may be specified.</p>
<p>Only one of <code class="link">default_allow</code> and <code class="link">default_deny</code> may be specified.</p>
<p>If any of the entries in <code class="link">allow</code> are not present in the configuration
for the database, or are not specified for indexing (either as
INDEX_EXACT or INDEX_FREETEXT), they will be ignored.  If any of the
entries in <code class="link">deny</code> are not present in the configuration for the
database, they will be ignored.</p>
<p>Note that it is possible that the resulting spell-corrected query will
still match no documents - the user should usually check that some
documents are matched by the corrected query before suggesting it to
users.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="search"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">search</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">query</span>,
        <span class="sig-arg">startrank</span>,
        <span class="sig-arg">endrank</span>,
        <span class="sig-arg">checkatleast</span>=<span class="sig-default">0</span>,
        <span class="sig-arg">sortby</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">collapse</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">gettags</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">getfacets</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">allowfacets</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">denyfacets</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">usesubfacets</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">percentcutoff</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">weightcutoff</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">query_type</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.search">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Perform a search, for documents matching a query.</p>
<ul class="rst-simple">
<li><code class="link">query</code> is the query to perform.</li>
<li><code class="link">startrank</code> is the rank of the start of the range of matching
documents to return (ie, the result with this rank will be returned).
ranks start at 0, which represents the &quot;best&quot; matching document.</li>
<li><code class="link">endrank</code> is the rank at the end of the range of matching documents
to return.  This is exclusive, so the result with this rank will not
be returned.</li>
<li><code class="link">checkatleast</code> is the minimum number of results to check for: the
estimate of the total number of matches will always be exact if
the number of matches is less than <code class="link">checkatleast</code>.  A value of <tt class="rst-docutils literal"><span class="pre">-1</span></tt>
can be specified for the checkatleast parameter - this has the
special meaning of &quot;check all matches&quot;, and is equivalent to passing
the result of get_doccount().</li>
<li><code class="link">sortby</code> is the name of a field to sort by.  It may be preceded by a
'+' or a '-' to indicate ascending or descending order
(respectively).  If the first character is neither '+' or '-', the
sort will be in ascending order.</li>
<li><code class="link">collapse</code> is the name of a field to collapse the result documents
on.  If this is specified, there will be at most one result in the
result set for each value of the field.</li>
<li><code class="link">gettags</code> is the name of a field to count tag occurrences in, or a
list of fields to do so.</li>
<li><code class="link">getfacets</code> is a boolean - if True, the matching documents will be
examined to build up a list of the facet values contained in them.</li>
<li><code class="link">allowfacets</code> is a list of the fieldnames of facets to consider.</li>
<li><code class="link">denyfacets</code> is a list of fieldnames of facets which will not be
considered.</li>
<li><code class="link">usesubfacets</code> is a boolean - if True, only top-level facets and
subfacets of facets appearing in the query are considered (taking
precedence over <code class="link">allowfacets</code> and <code class="link">denyfacets</code>).</li>
<li><code class="link">percentcutoff</code> is the minimum percentage a result must have to be
returned.</li>
<li><code class="link">weightcutoff</code> is the minimum weight a result must have to be
returned.</li>
<li><code class="link">query_type</code> is a value indicating the type of query being
performed. If not None, the value is used to influence which facets
are be returned by the get_suggested_facets() function. If the
value of <code class="link">getfacets</code> is False, it has no effect.</li>
</ul>
<p>If neither 'allowfacets' or 'denyfacets' is specified, all fields
holding facets will be considered (but see 'usesubfacets').</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="iterids"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">iterids</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.iterids">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Get an iterator which returns all the ids in the database.</p>
<p>The unqiue_ids are currently returned in binary lexicographical sort
order, but this should not be relied on.</p>
<p>Note that the iterator returned by this method may raise a
xapian.DatabaseModifiedError exception if modifications are committed
to the database while the iteration is in progress.  If this happens,
the search connection must be reopened (by calling reopen) and the
iteration restarted.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="get_document"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">get_document</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">id</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.get_document">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Get the document with the specified unique ID.</p>
<p>Raises a KeyError if there is no such document.  Otherwise, it returns
a ProcessedDocument.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="iter_synonyms"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">iter_synonyms</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">prefix</span>=<span class="sig-default"><code class="variable-quote">'</code><code class="variable-string"></code><code class="variable-quote">'</code></span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.iter_synonyms">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Get an iterator over the synonyms.</p>
<blockquote>
<ul class="rst-simple">
<li><code class="link">prefix</code>: if specified, only synonym keys with this prefix will be
returned.</li>
</ul>
</blockquote>
<p>The iterator returns 2-tuples, in which the first item is the key (ie,
a 2-tuple holding the term or terms which will be synonym expanded,
followed by the fieldname specified (or None if no fieldname)), and the
second item is a tuple of strings holding the synonyms for the first
item.</p>
<p>These return values are suitable for the dict() builtin, so you can
write things like:</p>
<blockquote>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span>conn = _indexerconnection.IndexerConnection(<span class="py-string">'foo'</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>conn.add_synonym(<span class="py-string">'foo'</span>, <span class="py-string">'bar'</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>conn.add_synonym(<span class="py-string">'foo bar'</span>, <span class="py-string">'baz'</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>conn.add_synonym(<span class="py-string">'foo bar'</span>, <span class="py-string">'foo baz'</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>conn.flush()
<span class="py-prompt">&gt;&gt;&gt; </span>conn = SearchConnection(<span class="py-string">'foo'</span>)
<span class="py-prompt">&gt;&gt;&gt; </span>dict(conn.iter_synonyms())
<span class="py-output">{('foo', None): ('bar',), ('foo bar', None): ('baz', 'foo baz')}</span></pre>
</blockquote>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="get_metadata"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">get_metadata</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">key</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="xappy.searchconnection-pysrc.html#SearchConnection.get_metadata">source&nbsp;code</a></span>&nbsp;
    </td>
  </table>
  
  <p>Get an item of metadata stored in the connection.</p>
<p>This returns a value stored by a previous call to
IndexerConnection.set_metadata.</p>
<p>If the value is not found, this will return the empty string.</p>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="xappy-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            >xappy</th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0beta1 on Tue Apr 29 09:21:55 2008
    </td>
    <td align="right" class="footer">
      <a href="http://epydoc.sourceforge.net">http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie()
  // -->
</script>
  
</body>
</html>
