<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="icon" href="/img/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon">
<!--title--><title>
The Python Data Type
</title>
</head>



<body>
<div id="container">

<hr />



<div id="content">

<!--content-->

<p>
The Ming Server allows you to create pages using python scripts.  The script is run
using an os.popen3 call, the output is captured, and is inserted into the
site.html.  The output is processed by HTMLParser and HTMLMaker. Make sure
the python scripts are executable (chmod 755)
<p>
To use this data type, you must set the first line in your Python page to
<blockquote>
#python
<p>
To pass params to your python scripts, include a "params" key in your form data.
You can pass multiple params like this:
<blockquote>
/cgi-bin/ming.cgi?page=somepage&params=one:two:three
</blockquote>
Just split the params string on the separator in your script.
<p>
Below is a copy of one of my python data type pages as an example.  Note
that the PYTHON constant is used verbatim as the first line of the file.
<p>
Here is a simple example.  The package's data directory contains a more complex 
example which creates and manages user-response pages.
<hr>
<pre>
#python

import os, pickle, time

def hdr():
	print """
	&lt;font color=red&gt;Hey!&lt;/font&gt; --
	"""
	return

def count():
	LOG = "ming.pob.log"
	if (os.path.isdir("/tmp/persistent")):
		LOG = "/tmp/persistent/"+LOG
	try:
		f = open(LOG)
		dict = pickle.load(f)
		f.close()
		views = dict["last"]
	except:
		views = 0
	print `views`	
	return 


def ftr():
	print """
	of you came by yesterday and not one of you told me what you wanted
	Pobble to do.  You see, I am not a teacher. And rather than take this
	any further on my own, in a direction teachers might not use,
	I'm waiting on you.
	&lt;p&gt;
	Set Pobble up on your own machines, try it out, and think about where it
	should be going.  We can take it anywhere you'd like.  While you're
	thinking about what Pobble could do for you, think about what you would
	like to do for Pobble.
	(The easy answer is
	&lt;a href="http://sourceforge.net/donate/index.php?group_id=97331"&gt;money&lt;/a&gt;
	-- but little good ever comes from taking the easy way out.)
	&lt;p&gt;
	When you've done your thinking,
	&lt;a href="mailto:billy_bob_ming@yahoo.com"&gt;speak up&lt;/a&gt;.
	Because if you don't, this is as far as I take this project.  (I took it
	this far to help my daughter learn Spanish.)  Okay then, here I am--ready when
	you are.  Welcome to the Open Source revolution.
	&lt;p&gt;
	Updated: 
	"""
	return

def stamp():
	s = time.ctime(time.time())
	print s[:10]+s[-5:]

hdr()
count()
ftr()
stamp()
</pre>
<hr>


<!--content end-->

</div>			   




       

</div>            

</body>

</html>
