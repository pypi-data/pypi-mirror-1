# 20100209, http://hakmatak.org/dev, httpd conf for archiwe WSGI.
#
# Attention: hakmatak must have been properly installed/configuerd first!
#
# 92deb478afd08c53d38829ed3afac607 is md5sum of archiwe
# 92deb478 is used as the alias. But, it can be any unique string you prefer.

WSGIScriptAlias /92deb478 /home/webifier/wsgi/archiwe

# dir listing with webifiable items
<DirectoryMatch "^/var/www/html/test/data/(zip|tar)">
  Options FollowSymLinks
  DirectoryIndex /92deb478/index.py
</DirectoryMatch>

# rewrite URLs for *.(tar|tar.gz|tgz|tar.bz2) to w10n type tar
RewriteRule ^(.*/[^/]+\.(tar|tar\.gz|tgz|tar\.bz2))(/.*)$ /92deb478/webify.py/tar!$1!$3 [NC,NS,PT]

# rewrite URLs for *.(zip|jar|egg) to w10n type zip
RewriteRule ^(.*/[^/]+\.(zip|jar|egg))(/.*)$ /92deb478/webify.py/zip!$1!$3 [NC,NS,PT]
