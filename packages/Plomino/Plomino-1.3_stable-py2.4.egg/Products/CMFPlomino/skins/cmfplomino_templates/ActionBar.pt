<div class="formControls" metal:define-macro="ReadDocumentActionBar">
<span class="actionButtons">

		<tal:block
			tal:condition="python:test(here.hasEditPermission(here)==True and here.hasEditPermission(here.getParentDatabase())==True and here.isAuthor())">
		<input type="button" class="context" value="Edit"
			i18n:domain="CMFPlomino" i18n:attributes="value"
			tal:attributes="onclick python:'location.href=\''+here.navigationParent(here)+'/'+here.id+'/EditDocument\''" />
		</tal:block>


		<tal:block
			tal:condition="python:test(here.hasRemovePermission(here)==True and here.hasRemovePermission(here.getParentDatabase())==True and here.isAuthor())">
		<tal:block metal:use-macro="here/ActionBar/macros/DeleteAction">display
		delete action</tal:block></tal:block>


		<tal:block metal:use-macro="here/ActionBar/macros/CloseAction">display
		close action</tal:block>
		<tal:block
			tal:repeat="a python:[act for act in owner.getActions(here) if act.getInActionBar()==True]">
			<tal:block
				tal:define="plominoaction python:a; plominotarget python:here">
				<tal:block metal:use-macro="here/ActionBar/macros/ButtonAction">
				display action as a link </tal:block>
			</tal:block>
		</tal:block>
</span>
</div>

<div class="formControls" metal:define-macro="EditDocumentActionBar">
<span class="actionButtons">
		<tal:block metal:use-macro="here/ActionBar/macros/CloseAction">display
		close action</tal:block>
		<input type="submit" class="context" name="plomino_save"
			value="Save" i18n:domain="CMFPlomino" i18n:attributes="value" />
		<tal:block
			tal:condition="python:not(here.getCurrentUser().getUserName()=='Anonymous User')"><tal:block
			metal:use-macro="here/ActionBar/macros/DeleteAction">display
		delete action</tal:block></tal:block>
		<tal:block
			tal:repeat="a python:[act for act in owner.getActions(here) if act.getInActionBar()==True]">
			<tal:block
				tal:define="plominoaction python:a; plominotarget python:here">
				<tal:block metal:use-macro="here/ActionBar/macros/ButtonAction">
				display action as a link </tal:block>
			</tal:block>
		</tal:block>
</span>
</div>

<div class="formControls" metal:define-macro="OpenFormActionBar">
<span class="actionButtons">
		<tal:block metal:use-macro="here/ActionBar/macros/CloseAction">display
		close action</tal:block>
		<input type="submit" class="context" name="plomino_save"
			value="Save" i18n:domain="CMFPlomino" i18n:attributes="value" />
		<tal:block
			tal:repeat="a python:[act for act in owner.getActions(here) if act.getInActionBar()==True]">
			<tal:block
				tal:define="plominoaction python:a; plominotarget python:here">
				<tal:block metal:use-macro="here/ActionBar/macros/ButtonAction">
				display action as a link </tal:block>
			</tal:block>
		</tal:block>
</span>
</div>

<div class="formControls" metal:define-macro="SearchFormActionBar">
<span class="actionButtons">
		<tal:block metal:use-macro="here/ActionBar/macros/CloseAction">display
		close action</tal:block>
		<input type="submit" class="context" value="Search"
			i18n:domain="CMFPlomino" i18n:attributes="value" />
		<tal:block
			tal:repeat="a python:[act for act in owner.getActions(here) if act.getInActionBar()==True]">
			<tal:block
				tal:define="plominoaction python:a; plominotarget python:here">
				<tal:block metal:use-macro="here/ActionBar/macros/ButtonAction">
				display action as a link </tal:block>
			</tal:block>
		</tal:block>
</span>
</div>

<div class="formControls" metal:define-macro="ViewActionBar">
<span class="actionButtons">
		<tal:block metal:use-macro="here/ActionBar/macros/CloseAction">display
		close action</tal:block>
		<tal:block
			tal:repeat="a python:[act for act in owner.getActions(here) if act.getInActionBar()==True]">
			<tal:block
				tal:define="plominoaction python:a; plominotarget python:here">
				<tal:block metal:use-macro="here/ActionBar/macros/ButtonAction">
				display action as a link </tal:block>
			</tal:block>
		</tal:block>
</span>
</div>

<tal:block metal:define-macro="LinkAction"> <a
	tal:attributes="href python:plominoaction.executeAction(plominotarget)"
	tal:content="python: plominoaction.Title()" /></tal:block>

<tal:block metal:define-macro="SubmitAction"> <input type="submit"
	class="context" tal:attributes="value python: plominoaction.Title()" />
</tal:block>

<tal:block metal:define-macro="ButtonAction"> <input class="context"
	type="button"
	tal:attributes="onclick python:'location.href=\''+plominoaction.executeAction(plominotarget)+'\'';
								value python: plominoaction.Title()" />
</tal:block>

<tal:block metal:define-macro="CloseAction"> <tal:block
	tal:define="is_parent_form_or_view python:(hasattr(here.aq_parent,'getIsSearchForm') or hasattr(here.aq_parent,'getSelectionFormula'));">
	<tal:backtoDB tal:condition="python:not(is_parent_form_or_view)">
		<input type="button" class="context" value="Close"
			i18n:domain="CMFPlomino" i18n:attributes="value"
			tal:attributes="onclick python:'location.href=\''+here.navigationParent(here)+'\''" />
	</tal:backtoDB>
	<tal:backtoprevious tal:condition="python:is_parent_form_or_view">
		<input type="button" class="context" value="Close"
			i18n:domain="CMFPlomino" i18n:attributes="value"
			onclick="history.go(-1)" />
	</tal:backtoprevious>

</tal:block> </tal:block>
<tal:block metal:define-macro="DeleteAction"> <input type="button"
	class="context" value="Delete" i18n:domain="CMFPlomino"
	i18n:attributes="value"
	tal:attributes="onclick python:'location.href=\''+here.absolute_url()+'/delete?returnurl='+here.navigationParent(here)+'\''" />
</tal:block>
