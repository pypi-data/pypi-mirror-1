<%namespace name="fieldmodule" file="/formish/Field.html" />
<%page args="field" />
<%
if field.widget.addremove is True:
    addremoveclass = ' sequencecontrols'
else:
    addremoveclass = ''
%>

<fieldset id="${field.cssname}-field" class="${field.classes}${addremoveclass}">
  % if field.title:
  <legend>${field.title}</legend>
  % endif
  % if field.error:
  <span class="error">${unicode(field.error)}</span>
  % endif
  % if field.description:
  <div class="description">${field.description}</div>
  % endif
  % for ff in field.fields:
      ${fieldmodule.field(ff)}
  % endfor
  % if field.type is 'sequence' and field.widget.addremove is True:
     <input type="hidden" name="${field.template.name}" class="adder" value="${fieldmodule.fieldtemplate(field.template)}" />
  % endif
</fieldset>


