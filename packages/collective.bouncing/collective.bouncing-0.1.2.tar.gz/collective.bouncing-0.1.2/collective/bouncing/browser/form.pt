<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      tal:omit-tag=""
      i18n:domain="collective.bouncing">


  <form action="." 
          tal:attributes="action request/URL" method="post"
          class="mailinglist-subscribe-form edit-form" enctype="multipart/form-data"
          id="zc.page.browser_form">

      <div id="viewspace">

          <tal:status define="status view/status" condition="status">
            <dl class="portalMessage error"
                tal:condition="view/errors">
              <dt i18n:translate="">
                Error
              </dt>
              <dd tal:content="status" />
            </dl>
            
            <dl class="portalMessage info"
                tal:condition="not: view/errors">
              <dt i18n:translate="">
                Info
              </dt>
              <dd tal:content="status" />
            </dl>
          </tal:status>

          <p tal:content="view/description|nothing">Description</p>

          <tal:block replace="nothing">  
            <div class="form-status"
                 tal:define="status view/status"
                 tal:condition="status">

              <div class="summary"
                   i18n:translate=""
                   tal:content="view/status">
                Form status summary
              </div>

              <ul id="formlib-errors" class="errors" tal:condition="view/errors">
                <li tal:repeat="error view/error_views">
                  <span tal:replace="structure error">Error Type</span>
                </li>
              </ul>
            </div>
          </tal:block>
          
          <fieldset tal:define="form_name view/form_name|nothing"
                    tal:omit-tag="not:form_name">
            <legend tal:condition="form_name"
                    tal:content="form_name">Form name</legend>
            <tal:block tal:repeat="widget view/widgets">
              <div class="field"
                   tal:define="description widget/hint;
                               error widget/error"
                   tal:attributes="class python:'field'+(error and ' error' or '');
                                   id string:field-${widget/name}">
                <label tal:condition="widget/label"
                       tal:attributes="for widget/name">
                  <span i18n:translate=""
                        tal:content="widget/label">label</span>
                </label>
                <span class="fieldRequired" title="Required"
                      tal:condition="widget/required">&nbsp;
                  <span class="fieldRequiredLabel"
                        i18n:translate="label_required"
                        i18n:attributes="title title_required;">
                    (Required)
                  </span>
                </span>
                <div class="formHelp"
                     i18n:translate=""
                     tal:content="description"
                     tal:condition="description"
                     >field description</div>
                <div tal:condition="error" tal:content="structure error">
                  The Error
                </div>
                <div class="widget" tal:content="structure widget">
                  <input type="text" /></div>
                <tal:comment tal:condition="nothing">
                  <!-- TODO Put this back, the Zope3 way.
                       <img src="alert.gif" alt="Error"
                            tal:replace="structure context/alert.gif" />
                       -->
                </tal:comment>
              </div>
            </tal:block>
            
            <div id="actionsView">
              <span class="actionButtons"
                    tal:condition="view/availableActions">
                
                <input tal:repeat="action view/actions"
                       tal:replace="structure action/render"
                       />
              </span>
            </div>
          </fieldset>
        </div>
      </form>

</html>
