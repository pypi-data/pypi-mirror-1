<metal:block define-macro="listing"
    i18n:domain="ks.pager">
    <tal:block tal:define="pager context/@@pager;
                           chunk python:pager.init(pagerData, **pagerDataParams)">

         <tal:block repeat="item python:chunk.chunk"
                    define="component modules/zope/component;
                            interface modules/zope/interface;
                            defaultItemViewName string:short.html;
                            itemViewName itemViewName | defaultItemViewName">
            <tal:block define="itemView python:component.getMultiAdapter((item, request), interface.Interface, name=itemViewName)">
              <metal:block define-slot="item">
                <tal:block replace="structure itemView"/>
              </metal:block>
            </tal:block>
         </tal:block>

         <metal:block define-slot="statistics">
           <metal:block use-macro="context/@@listing/statistics" />
         </metal:block>

         <tal:block condition="python:chunk.chunkCount > 1">
           <metal:block define-slot="pager">
             <metal:block use-macro="context/@@listing/pager" />
           </metal:block>
         </tal:block>
        </tal:block>

</metal:block>
