<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  lang="en"
  metal:use-macro="context/main_template/macros/master"
  i18n:domain="on.sales">
  <body>

    <!--
    This is SalesAgentProxy view, intended for viewing the data of a
    single sales agent without touching the SalesAgent Object itself
    -->
    <metal:css fill-slot="css_slot">
      <style type="text/css" media="all"
	tal:content="string: @import url(${context/++resource++on-sales.css});"></style>
    </metal:css>
    
    <metal:main fill-slot="main">
      <tal:main-macro metal:define-macro="main">

        <div tal:replace="structure provider:plone.abovecontenttitle" />

	<div tal:replace="structure provider:plone.belowcontenttitle" />

	<div class="documentDescription">
	      <span metal:use-macro="python:context.widget('description', mode='view')" />
	</div>

	    <div tal:replace="structure provider:plone.abovecontentbody" />
	    <div tal:define="agent view/getAgent" >
		<h1 class="areaFirstHeading">
		  <span tal:content=agent/name />
		</h1>

	        <div tal:condition="agent/portrait"
		     tal:on-error="nothing"
		     class="portrait">
		  <img tal:attributes="src agent/portrait/absolute_url | nothing"
			 src="#"
		         />
	        </div>
	        <div id="info">
		  <label tal:condition="agent/email"
			 class="label"
		         i18n:translate="label_salesagent-mail">Email:</label>
		  <a tal:attributes="href string: mailto:${agent/email}" href="#">
		    <span tal:content=agent/email /></a>
		  <br /><br />
		  <label tal:condition="agent/phone"
			class="label"
			i18n:translate="label_salesagent-phone">Phone:</label>
		  <span tal:content=agent/phone />
		  <br /><br />
		  <label tal:condition="agent/department"
			 class="label"
			 i18n:translate="label_salesagent-department">Department:</label>
		  <span tal:content=agent/department />
		  <br /><br />
		  <label tal:condition="agent/notes"
			 class="label"
			 i18n:translate="label_salesagent-notes">
		    Additional Information:</label>
		  <div tal:content="structure agent/notes" class="remark" />
		  <br />
		</div>
	    </div>

	    
	    <div metal:use-macro="context/document_relateditems/macros/relatedItems">
	      show related items if they exist
	    </div>
		
	    <div tal:replace="structure provider:plone.belowcontentbody" />
	      

      </tal:main-macro>
    </metal:main>

  </body>
</html>

