[buildout]
extends = base.cfg
parts = ${buildout:base-parts} coverage-test coverage-report eggdeps omelette importchecker

[site.zcml]
prepend_zcml = <include file="apidoc.zcml" />
               <include file="profiling.zcml" />
append_zcml = <include file="dev_users.zcml" />
              <include file="dev_admin_user.zcml" />

[app]
eggs += z3c.profiler
        stxnext.pdb
        zope.app.apidoc

[coverage-test]
recipe = zc.recipe.testrunner
eggs = icemac.addressbook [test]
defaults = ['--tests-pattern', '^f?tests$', '-v', '-c', '--coverage', '../../coverage']

[coverage-report]
recipe = zc.recipe.egg
eggs = z3c.coverage
scripts = coverage=coverage-report
arguments = ('coverage', 'coverage/report')

[eggdeps]
recipe = zc.recipe.egg
eggs = gtkeggdeps
       icemac.addressbook [test]

[omelette]
recipe = collective.recipe.omelette
eggs = ${app:eggs}

[importchecker]
recipe = zc.recipe.egg
eggs = importchecker
arguments = "${buildout:directory}/src"
