History of plonehrm.absence
===========================

1.4.3 (2010-01-07)
------------------

- The viewlet is now guarded by 'plonehrm: view absences viewlet'. The
  several buttons are guarded by the following permissions: 'plonehrm:
  Add absence' for the 'add' button, 'plonehrm: Modify absence' for the
  'edit' and 'percentages' buttons and 'plonehrm: close absence' for
  the 'close' button. The permissions are not the only guards, we also
  use the status of the absence as before. [vincent]


1.4.2 (2009-11-18)
------------------

- Bug fix release (previous release's egg was unusable) [vincent]


1.4.1 (2009-11-18)
------------------

- Updated translation. [maurits]


1.4 (2009-10-08)
----------------

- Hidden edit tab for Absences. [vincent]

- Hidden useless fields in forms to edit notes, files and
  evaluations. [vincent]


1.3.2 (2009-09-21)
------------------

- The viewlet now accepts floating numbers as input for absence
  length. Values are always rounded to the quarter (x.0, x.25, x.5 and
  x.75). [vincent]


1.3.1 (2009-09-18)
------------------

- Added 'first_day_absent' field, which allows to specify how much the
  employee did not work on the first day of the absence. [vincent]

- Removed custom forms to edit notes and files. [vincent]


1.3 (2009-09-11)
----------------

- Added custom form to edit absence notes. [vincent]

- Added custom form to edit absence files. [vincent]


1.2.1 (2009-09-09)
------------------

- Fixed translations in absence viewlet. [vincent]

- Changed next release number (bug fix for deploiment). [vincent]


1.2 (2009-09-02)
----------------

- Updated viewlet to use arbo_days_absent for arbo managers. [vincent]

- Added arbo_days_absent method, which computes length of an absence
  more efficiently for Arbo managers. [vincent]

- Added absence/productivity percentages for absences. [vincent]

- changes some dutch translations into proper dutch. [mirella]

- Added 'is_accident' field to absence Archetype. [vincent]

- Fixed some dutch translations. [mirella]

1.1 (2009-08-26)
----------------

- Replace the setTemplate method in evaluation interviews with an
  event handler, using the new apply_template_of_tool from
  Products.plonehrm.utils.
  [maurits]

- Refactored viewlet to act like other viewlets of the employee
  view. Now forms are not reseted when errors are found and it is
  possible to edit an absence from the viewlet. [vincent]


1.0.11 (2009-08-13)
-------------------

- When the current contract is for zero days per week, treat this as
  five days a week when calculating the lenght of the absence.
  Otherwise the absence is always zero days...
  [maurits]


1.0.10 (2009-07-29)
-------------------

- When closing an absence, the status of this one in the workflow is
  changed to "closed". [vincent]

- Updated KSS to display/hide status message when using the absence
  viewlet. [vincent]

- Updated translations [jladage]

1.0.9 (2009-07-24)
------------------

- Updated translations for AbsenceFile. [mirella+vincent]


1.0.8 (2009-07-22)
------------------

- Created the 'EvaluationInterview' type. It is basically the same
  code than JobPerformanceInterview. We can not use the same class
  anymore as templates are not stored at the same place.
  NOTE: We now have a dependency between plonehrm.absence and
  plonehrm.jobperformance, as EvaluationInterview use views created
  for JobPerformance. Maybe we should also copy those view in the
  future. [vincent]


- Added 'portal_absence' tool to store templates for absence
  evaluations. [vincent]


1.0.7 (2009-07-07)
------------------

- Change the notes so the user can add a custom text to be added to
  the checklist items instead of the hard coded text 'call back...'
  [maurits+markvl]

- Add link to absence at the bottom of the emails. [maurits+markvl]

- Add a link to the checklist item. Clicking the link creates an
  EvaluationInterview in the absence. [markvl]

- If the absence starts tomorrow, still pretend the employee is
  already sick for a day. [markvl]

- Removed absence percentage from the absence viewlet, in order to
  display it in the absence view of the work location. [vincent]


1.0.6 (2009-06-23)
------------------

- Updated translations. [jladage]


1.0.5 (2009-06-16)
------------------

- Added a "Percentage of absence this year" information in the
  viewlet. [vincent]


1.0.4 (2009-06-15)
------------------

- Do not use the term sickness, but absence, as this module is more
  general.  [maurits]


1.0.3 (2009-06-15)
------------------

- Catch AttributeErrors and KeyErrors thrown by brain.getObject().
  [maurits]


1.0.2 (2009-06-11)
------------------

- Do not show '1 day(s)' but '1 day' or '2 days', etc.  [maurits]


1.0.1 (2009-06-09)
------------------

- Allow adding an absence for tomorrow.  [maurits]

- The checklist items created by absence notes now contain a link to
  create a new Note in the current absence. [vincent]


1.0 (2009-06-04)
----------------

- Added EvaluationInterview to the factory types.  [maurits]


1.0rc1 (2009-06-02)
-------------------

- Removed the setting of the viewlets in the plonehrm_properties to
  the setuphandlers in Products.plonehrm, where we only set the order
  once.  [maurits+markvl]


1.0b5 (2009-05-29)
------------------

- days_absent now available in absentlist. [mike]

- In content.absence added a check to days_absent so if there is no
  contract the default value is 5 days per week the employee is working
  else if the employee is filled in to be absent there is no contract
  (so no days in a week) so you get a bug.[mike]


1.0b4 (2009-05-26)
------------------

- Added a second date field to the Note type. This field is used to
  define if a new call has to be given to the employee. A new event
  handler is fired when a note is created or updated. This event adds
  an item in the employee checklist to remind the next call
  date. [vincent]

- Changed columns name in absence view. Now 'Creator'/'Creation date'
  are 'Added by'/'Added on'. [vincent+fred]

- Added an 'edit' link in front of each absence in the absences
  viewlets. The edit button is only displayed in front of the current
  absence. [vincent]

- Updated form for closing absence. Now this form does not allow to
  change the title of the absence, but only displays
  it. [vincent+mark]

- Removed 'description' field from absence edit view. [vincent]

- Info box in absence view changed. If the absence shown is the
  current one (the employee is still sick) it displays the reason in
  red (CSS class 'absencetext'), the start date and the number of days
  the employee has been sick.
  If the absence is closed, the reason is shown without style and
  infos displayed are start/end date. A property
  'is_current_absence' has been added to the Absence class. The
  'days_absent' property has been corrected to add one day to the
  total. [vincent]

- Absence view now shows description for notes instead of the
  title. [vincent]

- Content of cells from the 'Created by' and 'Created' columns are now
  displayed with  the "discreet" CSS class. [vincent]

- Reversed order of elements displayed in absence view. Now the
  most recents items appears first. [vincent]

- Added a nice box with some details about the absence.
  [maurits+vincent]

- Added AbsenceFile content type, which is the same as ATFile, except
  for an extra date, and a different name.  [maurits+vincent]

- Added EvaluationInterview content type, which is only defined in
  GenericSetup as it is exactly the same as a Job Performance
  Interview, except for the name.  [maurits+vincent]

- Added main_date as alias for noteDate in the Note content type.
  (This will be used in other content types later.)  Added main_date
  as metadata and index to the portal_catalog on reinstall.  Sort on
  this date in the absence view.  [maurits+vincent]

- Added content type Note, which can be added within an Absence.
  [maurits+vincent]

- Removed the registering of javascript and css for the calendar.
  This was needed for having this available when adding an absence
  through kss.  But this prevented the calendar on edit forms from
  working.  So we will load this css and javascript explicitly in the
  employee page template (see Products.plonehrm).
  [maurits]

- Refactored absences into an Archetypes folderish content type.
  [maurits+vincent]


1.0b3 (2009-04-22)
------------------

- Nothing changed yet.


1.0b2 (2009-04-22)
------------------

- Nothing changed yet.


1.0b (2009-04-22)
-----------------

- Nothing changed yet.


1.0a (2009-04-22)
-----------------

- Initial version
