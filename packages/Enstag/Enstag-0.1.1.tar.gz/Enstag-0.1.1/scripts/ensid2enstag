#!/usr/bin/env python
# -*- python -*-
from __future__ import division

__version__ = "$Revision: 1.3 $"

"""
ensid2enstag

input from stdin
"""

import sys

import enstag
import tabdelim

FEATURE_TYPE = "g"

def ensid2enstag(species_list):
    for row in tabdelim.listio(filenames=[]):
        for col_index, ensid in enumerate(row):
            row[col_index] = enstag.encode(ensid,
                                           species_list[col_index],
                                           FEATURE_TYPE)

def parse_options(args):
    from optparse import OptionParser

    global options

    usage = "%prog [OPTION]... [SPECIES]..."
    version = "%%prog %s" % __version__
    parser = OptionParser(usage=usage, version=version)

    options, args = parser.parse_args(args)

    return args

def main(args):
    args = parse_options(args)

    ensid2enstag(args)

def _test(*args, **keywds):
    import doctest
    doctest.testmod(sys.modules[__name__], *args, **keywds)

if __name__ == "__main__":
    if __debug__:
        _test()
    sys.exit(main(sys.argv[1:]))
