<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<link rel="STYLESHEET" href="miniconfig.css" type='text/css' />
<link rel="first" href="miniconfig.html" title='<tt class="module">miniconf</tt> -- Plain text Python built-in objects persistence' />
<link rel='contents' href='contents.html' title="Contents" />
<link rel='last' href='about.html' title='About this document...' />
<link rel='help' href='about.html' title='About this document...' />
<link rel="next" href="node4.html" />
<link rel="prev" href="node2.html" />
<link rel="parent" href="miniconfig.html" />
<link rel="next" href="node4.html" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name='aesop' content='information' />
<title>2 Example</title>
</head>
<body>
<div class="navigation">
<div id='top-navigation-panel' xml:id='top-navigation-panel'>
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td class='online-navigation'><a rel="prev" title="1 Usage"
  href="node2.html"><img src='previous.png'
  border='0' height='32'  alt='Previous Page' width='32' /></a></td>
<td class='online-navigation'><a rel="parent" title="miniconf   Plain"
  href="miniconfig.html"><img src='up.png'
  border='0' height='32'  alt='Up one Level' width='32' /></a></td>
<td class='online-navigation'><a rel="next" title="3 explanation on pedantry"
  href="node4.html"><img src='next.png'
  border='0' height='32'  alt='Next Page' width='32' /></a></td>
<td align="center" width="100%"><tt class="module">miniconf</tt> -- Plain text Python built-in objects persistence</td>
<td class='online-navigation'><a rel="contents" title="Table of Contents"
  href="contents.html"><img src='contents.png'
  border='0' height='32'  alt='Contents' width='32' /></a></td>
<td class='online-navigation'><img src='blank.png'
  border='0' height='32'  alt='' width='32' /></td>
<td class='online-navigation'><img src='blank.png'
  border='0' height='32'  alt='' width='32' /></td>
</tr></table>
<div class='online-navigation'>
<b class="navlabel">Previous:</b>
<a class="sectref" rel="prev" href="node2.html">1 Usage</a>
<b class="navlabel">Up:</b>
<a class="sectref" rel="parent" href="miniconfig.html">miniconf   Plain</a>
<b class="navlabel">Next:</b>
<a class="sectref" rel="next" href="node4.html">3 Explanation on pedantry</a>
</div>
<hr /></div>
</div>
<!--End of Navigation Panel-->

<h1><a name="SECTION000300000000000000000">
2 Example</a>
</h1>

<p>
Load objects from a textual representation, stored in <var>snippet</var>:

<p>
<div class="verbatim"><pre>
&gt;&gt;&gt; import miniconf
&gt;&gt;&gt; snippet = 'spam = [ 1, True, ("test", None) ]; egg = -2'
&gt;&gt;&gt; config = miniconf.load(snippet)
&gt;&gt;&gt; print config
{'egg': -2, 'spam': [1, True, ('test', None)]}
</pre></div>

<p>
Of course, <var>config</var> could have been constructed from <var>snippet</var> as well
by doing:

<p>
<div class="verbatim"><pre>
&gt;&gt;&gt; config = {}
&gt;&gt;&gt; exec snippet in config
&gt;&gt;&gt; del config['__builtins__']
</pre></div>

<p>
The whole point of using <tt class="module">miniconf</tt> instead of the exec statement is that
it is safer, since no arbitrary code execution ever occurs: the code is only
parsed, not executed, and the objects are reconstructed from the snippet
abstract syntax tree. In practice, it makes user access to simple pythonic data
structure possible without having to fear injection of unwanted third-party
code.

<p>
Finally, let's modify <var>config</var> a little and dump it back:

<p>
<div class="verbatim"><pre>
&gt;&gt;&gt; config['egg'] = u'new_value'
&gt;&gt;&gt; config['new'] = range(10)
&gt;&gt;&gt; print miniconf.dump(config)
egg = u'new_value'

new = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]

spam = [1, True, ('test', None)]
</pre></div>

<p>

<div class="navigation">
<div class='online-navigation'>
<p></p><hr />
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td class='online-navigation'><a rel="prev" title="1 Usage"
  href="node2.html"><img src='previous.png'
  border='0' height='32'  alt='Previous Page' width='32' /></a></td>
<td class='online-navigation'><a rel="parent" title="miniconf   Plain"
  href="miniconfig.html"><img src='up.png'
  border='0' height='32'  alt='Up one Level' width='32' /></a></td>
<td class='online-navigation'><a rel="next" title="3 explanation on pedantry"
  href="node4.html"><img src='next.png'
  border='0' height='32'  alt='Next Page' width='32' /></a></td>
<td align="center" width="100%"><tt class="module">miniconf</tt> -- Plain text Python built-in objects persistence</td>
<td class='online-navigation'><a rel="contents" title="Table of Contents"
  href="contents.html"><img src='contents.png'
  border='0' height='32'  alt='Contents' width='32' /></a></td>
<td class='online-navigation'><img src='blank.png'
  border='0' height='32'  alt='' width='32' /></td>
<td class='online-navigation'><img src='blank.png'
  border='0' height='32'  alt='' width='32' /></td>
</tr></table>
<div class='online-navigation'>
<b class="navlabel">Previous:</b>
<a class="sectref" rel="prev" href="node2.html">1 Usage</a>
<b class="navlabel">Up:</b>
<a class="sectref" rel="parent" href="miniconfig.html">miniconf   Plain</a>
<b class="navlabel">Next:</b>
<a class="sectref" rel="next" href="node4.html">3 Explanation on pedantry</a>
</div>
</div>
<hr />
<span class="release-info">Release 1.0.1.</span>
</div>
<!--End of Navigation Panel-->

</body>
</html>
