<tal:macro metal:define-macro="portrait">
<div class="oc-avatar" id="oc-profile-avatar">
  <img tal:attributes="src view/mangled_portrait_url" />
    <fieldset class="oc-js-expander oc-expander" style="clear: left;">
      <legend class="oc-legend-label">
        <a href="#" class="oc-js-expander_open oc-expanderLink">Change image</a>
      </legend>
      <div class="oc-js-expander-content oc-expander-content">
        <input type="file" name="portrait" size="14" /><br />
        <input type="submit" name="task|oc-profile-avatar|uploadAndUpdate"
               class="oc-js-actionButton" value="Update" />
        <tal:hasportrait condition="python:
          view.viewed_member_info.get('portrait_url') !=
          view.defaultPortraitURL">or
          <input type="submit" name="task|oc-profile-avatar|remove"
                 class="oc-js-actionButton" value="Remove" />
        </tal:hasportrait>
        or <a href="#" class="oc-js-expander_close">cancel</a>
      </div>
  </fieldset>
</div>
</tal:macro>
