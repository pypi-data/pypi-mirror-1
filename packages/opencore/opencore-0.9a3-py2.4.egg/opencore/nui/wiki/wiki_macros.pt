<!-- put macros here -->
<li metal:define-macro="attachment" class="oc-file oc-js-liveEdit">

  <!-- to do: pass mime type to CSS -->
  <div class="oc-js-liveEdit-value">
    <a href="" target="_blank" 
       tal:attributes="href attachment/getURL | attachment/absolute_url"
       tal:content="attachment/Title | attachment/getId">Id</a> -  
    <span tal:replace="attachment/getObjSize"></span>
    <a href="" class="oc-js-liveEdit_showForm">Edit</a> | <a href="" class="oc-js-actionButton">Delete - FIX ME!</a>
  </div><!-- end .liveEdit-value -->  
  <form method="post" class="oc-js-liveEdit-editForm" action="@@updateAtt">
    <label for="attachment_title">Title:</label>
    <input type="hidden" name="attachment_id" tal:attributes="value attachment/getId" />
    <input type="text" name="attachment_title"  size="30" id="#" value="#" tal:attributes="value attachment/Title;"/>
    <input type="submit" value="Edit" />
    or <a class="oc-js-liveEdit_hideForm" href="">Cancel</a>
  </form><!-- end .liveEdit-form -->

</li><!-- end metal -->

<!-- BEGIN FILE UPLOAD FORM -->
<form metal:define-macro="upload" class="oc-js-uploadForm" action="@@createAtt" enctype="multipart/form-data" method="post">
  <input type="hidden" name="oc-target" value="oc-wiki-attachments" />
  
  <table class="oc-form">
    <thead></thead>
    <tbody>
      <tr class="oc-form-row">
        <th class="oc-form-label"><label for="attachmentFile">Locate file</label></th>
        <td class="oc-form-value"><input type="file"           
            id="attachmentFile"
            name="attachmentFile"
            size="30" 
            tabindex="" 
            tal:attributes="tabindex tabindex/next;
            value request/attachmentFile/filename | nothing"
            /></td>
        <td class="oc-form-help"></td>
      </tr>
      <tr class="oc-table-row">
        <th class="oc-form-label"><label for="attachmentTitle">Enter new name</label></th>
        <td class="oc-form-value"><input type="text" 
            id="attachmentTitle" 
            name="attachmentTitle" 
            size="30" 
            tabindex=""
            tal:attributes="tabindex tabindex/next;"
            value=""/></td>
        <td class="oc-form-help">
          <span class="oc-form-context">(optional)</span>
          <span class="oc-table-validator"></span>
        </td>
      </tr>
      <tr class="oc-options">
        <th class="oc-form-label"></th>
        <td class="oc-form-value">  
          <span class="oc-indicator"><img src="++resource++img/indicator-bounce-eee.gif" alt="Loading..." /></span>
          <input type="submit" value="Upload" /> or cancel</td>
        <td class="oc-form-help"></td>
      </tr>
    </tbody>
  </table>
</form>
<!-- END FILE UPLOAD FORM -->

<!-- BEGIN WIKI BCRUMB -->
<ul metal:define-macro="bcrumb" class="oc-headingBlock oc-wiki-headingBlock oc-bcrumb">
  <li>
    <h1 class="oc-bcrumb-current" tal:content="view/pagetitle"></h1>
  </li>
</ul>
<!-- END WIKI BCRUMB -->

<!-- BEGIN WIKI TABS -->
<ul class="oc-tabs" metal:define-macro="tabs">
  <li tal:attributes="class python:view.get_tab_class(u'view')">
    <a tal:attributes="href context/absolute_url">view</a>
  </li>
  <li tal:attributes="class python:view.get_tab_class(u'edit')">
    <a tal:attributes="href string:${context/absolute_url}/edit">edit</a>
  </li>
  <li tal:attributes="class python:view.get_tab_class([u'history', u'version', u'version_compare'])">
    <a tal:attributes="href string:${context/absolute_url}/history">history</a>
  </li>
  <!--
  <li>
   <form class="" >
     <select class="oc-selectBoxAutoLinks">
       <option value="">More...</option>
       <option value="http://www.google.com">I'm feeling lucky</option>
     </select>
     <input type="submit" value="Go" style=""/>
   </form>
  </li>
  -->
</ul>
<!-- END WIKI TABS -->
