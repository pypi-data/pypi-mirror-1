<dl class="portlet portletFilterSearch"
	tal:define="filter_list view/filter_list"
    i18n:domain="collective.portlet.filtersearch">

    <dt class="portletHeader">
        <span class="portletTopLeft"></span>
		<span i18n:translate="heading_filter_your_search">
			Filter your search
        </span>
        <span class="portletTopRight"></span>
    </dt>

    <dd class="portletItem odd">
		<ul class="filter">
			<li>
				<strong i18n:translate="label_all_results">
					All results (<tal:num i18n:name="number" tal:content="view/count">xx</tal:num>)
				</strong>
			</li>
			
			<tal:items repeat="item filter_list">
				<li>
					<a href="#" tal:attributes="href item/url" 
						tal:content="string:${item/title} (${item/count})">
						Title (count)
					</a>
					<tal:sub tal:condition="item/uniques">
						<ul class="subfilter">
							<tal:items repeat="subitem python:item['uniques'].values()">
								<li>
									<a href="#" tal:attributes="href subitem/url" 
										tal:content="string:${subitem/title} (${subitem/count})">
										Title (count)
									</a>
								</li>
							</tal:items>
						</ul>
					</tal:sub>
			    </li>
			</tal:items>
		</ul>
	</dd>
    
</dl>