<html>
<head>
<title>Array - Rabbyt Reference</title>
</head>
<body>

<a href="../../rabbyt/">Documentation Index</a> | From module <a href="../../structarray/">structarray</a>.
<h1>Array</h1>



<p><tt class="docutils literal"><span class="pre">Array(initial_data=[],</span> <span class="pre">size=0,</span> <span class="pre">default=0)</span></tt></p>
<p>This is a single dimensional array.</p>
<p><tt class="docutils literal"><span class="pre">initial_data</span></tt> can be used to populate the array.  <tt class="docutils literal"><span class="pre">Array(range(10))</span></tt>
works as you would expect :)</p>
<p><tt class="docutils literal"><span class="pre">size</span></tt> is the initial size of the array.  (Unless the length of
<tt class="docutils literal"><span class="pre">initial_data</span></tt> is bigger, in which case it is used.)  If <tt class="docutils literal"><span class="pre">size</span></tt> is a
tuple with more than one item, the array will be multidimensional.  See the
<tt class="docutils literal"><span class="pre">structarray</span></tt> module documentation form more on multidimensional arrays.</p>
<p><tt class="docutils literal"><span class="pre">default</span></tt> is the default value for the array items.</p>
<p>Note that you can use both <tt class="docutils literal"><span class="pre">initial_data</span></tt> and <tt class="docutils literal"><span class="pre">size</span></tt> at the same time.
If <tt class="docutils literal"><span class="pre">size</span></tt> larger than the length of <tt class="docutils literal"><span class="pre">initial_data</span></tt>, the rest of the
array will be filled with <tt class="docutils literal"><span class="pre">default</span></tt>.
<tt class="docutils literal"><span class="pre">Array(range(3),</span> <span class="pre">size=8,</span> <span class="pre">default=6)</span></tt> would result in
<tt class="docutils literal"><span class="pre">[0,</span> <span class="pre">1,</span> <span class="pre">2,</span> <span class="pre">6,</span> <span class="pre">6,</span> <span class="pre">6,</span> <span class="pre">6,</span> <span class="pre">6]</span></tt>.</p>
<p>(The exception to this is if you are a multidimensional array, in which
case <tt class="docutils literal"><span class="pre">initial_data</span></tt> will be truncated to fit, as multidimensional arrays
cannot currently be resized.)</p>
<p><tt class="docutils literal"><span class="pre">Array</span></tt> supports basic arithmetic operations: addition, subtraction,
multiplication, division, and modulus.  Each of these operations can be
performed against a single number or another <tt class="docutils literal"><span class="pre">Array</span></tt> of the same length.</p>
<p>Arithmetic operations don't return an <tt class="docutils literal"><span class="pre">Array</span></tt>.  Instead they return an
array operation object.  The operation will be carried out when you
assign this object to another array.  (You can also call it's <tt class="docutils literal"><span class="pre">copy()</span></tt>
method to create a new array.)</p>
<p>For example:</p>
<pre class="literal-block">
&gt;&gt;&gt; arg1 = Array(range(10))
&gt;&gt;&gt; arg2 = Array(range(10,20))
&gt;&gt;&gt; arg1 + arg2
&lt;structarray.ArrayOpAdd object at 0xb7d4d66c&gt;
&gt;&gt;&gt; (arg1 + arg2).copy()
&lt;Array [10.0, 12.0, 14.0, 16.0, 18.0, 20.0, 22.0, 24.0, 26.0, 28.0]&gt;
&gt;&gt;&gt; arg1.assign_from(arg1 + arg2)
&gt;&gt;&gt; print arg1
&lt;Array [10.0, 12.0, 14.0, 16.0, 18.0, 20.0, 22.0, 24.0, 26.0, 28.0]&gt;
</pre>



<div class="section">
<h2>Methods</h2>

<div class="section">
    <h3>append</h3>
    <p><tt class="docutils literal"><span class="pre">append(item)</span></tt></p>
<p>Appends an item to the array.</p>

</div>

<div class="section">
    <h3>assign_from</h3>
    <p><tt class="docutils literal"><span class="pre">assign_from(source)</span></tt></p>
<p>Reassigns our value from another array.</p>
<p><tt class="docutils literal"><span class="pre">source</span></tt> can be another <tt class="docutils literal"><span class="pre">Array</span></tt> instance, or any iterable of the
correct length.  It can also me a single number, in which case it will
be assigned to each item.</p>

</div>

<div class="section">
    <h3>assign_to</h3>
    <p><tt class="docutils literal"><span class="pre">assign_to(target)</span></tt></p>
<p>Assigns our value <em>to</em> another array.</p>
<p><tt class="docutils literal"><span class="pre">target</span></tt> must be another <tt class="docutils literal"><span class="pre">Array</span></tt> instance.  (Not a <tt class="docutils literal"><span class="pre">StructArray</span></tt>,
but a <tt class="docutils literal"><span class="pre">StructArray</span></tt> attribute works fine.)</p>

</div>

<div class="section">
    <h3>copy</h3>
    <p><tt class="docutils literal"><span class="pre">copy()</span></tt></p>
<p>Returns a new <tt class="docutils literal"><span class="pre">Array</span></tt> with a copy of our data.  (The data is
copied immediately; there's nothing lazy here.)</p>

</div>

<div class="section">
    <h3>extend</h3>
    <p><tt class="docutils literal"><span class="pre">extend(items)</span></tt></p>
<p>Iterates over <tt class="docutils literal"><span class="pre">items</span></tt>, calling <tt class="docutils literal"><span class="pre">append()</span></tt> on each one.</p>

</div>

<div class="section">
    <h3>get_data_addr</h3>
    <p><tt class="docutils literal"><span class="pre">get_data_addr()</span></tt></p>
<p>Gets the memory address of the data.</p>
<p>This, together with <tt class="docutils literal"><span class="pre">get_data_stride()</span></tt>, can be used with PyOpenGL
or Pyglet for OpenGL vertex arrays.  For example:</p>
<pre class="doctest-block">
&gt;&gt;&gt; array = StructArray((&quot;x&quot;, &quot;y&quot;), size=100, defaults=(0,0))
&gt;&gt;&gt; glVertexPointer(2, GL_FLOAT,
...     array.get_data_stride(),
...     array.get_data_addr())
</pre>

</div>

<div class="section">
    <h3>get_data_stride</h3>
    <p><tt class="docutils literal"><span class="pre">get_data_stride()</span></tt></p>
<p>Gets the number of bytes between the begining of each array element.</p>

</div>

<div class="section">
    <h3>get_dimensions</h3>
    <p><tt class="docutils literal"><span class="pre">get_size()</span></tt></p>
<p>Returns a tuple of this array's dimensional size.</p>
<p>If it is a single dimension array, a tuple containing the length will
be returned.</p>

</div>

<div class="section">
    <h3>repeat</h3>
    <p><tt class="docutils literal"><span class="pre">repeat(times)</span></tt></p>
<p>Returns a repeated copy of this array.</p>
<p>For example, <tt class="docutils literal"><span class="pre">Array([1,2,3]).repeat(3)</span></tt> will return
<tt class="docutils literal"><span class="pre">Array([1,2,3,1,2,3,1,2,3])</span></tt>.</p>
<p>This operation is not lazy.</p>

</div>

<div class="section">
    <h3>sanitize_index</h3>
    <p><tt class="docutils literal"><span class="pre">sanitize_index(index)</span></tt> -&gt; sanitized index</p>
<p>This method takes an index, such as passed to __getitem__, and  returns
an index that is between 0 and len(self).  (So that it can be used with
the underlying C array.)  This includes handling negitive and/or
multidimensional indexes.</p>
<p>Slices are currently not supported.</p>

</div>

<div class="section">
    <h3>set_length</h3>
    <p><tt class="docutils literal"><span class="pre">set_length(length)</span></tt></p>
<p>Sets the length explicitly.</p>
<p>This is an alternative to using <tt class="docutils literal"><span class="pre">append</span></tt> and <tt class="docutils literal"><span class="pre">extend</span></tt>.  (It should
be a little faster.)</p>

</div>

<div class="section">
    <h3>stretch</h3>
    <p><tt class="docutils literal"><span class="pre">stretch(times)</span></tt></p>
<p>Returns a stretched copy this array.  Each item is
duplicated <tt class="docutils literal"><span class="pre">times</span></tt> times.</p>
<p>For example, <tt class="docutils literal"><span class="pre">Array([1,2,3]).stretch(3)</span></tt> will return
<tt class="docutils literal"><span class="pre">Array([1,1,1,2,2,2,3,3,3])</span></tt>.</p>
<p>This operation is not lazy.</p>

</div>

</div>





</body>
</html>