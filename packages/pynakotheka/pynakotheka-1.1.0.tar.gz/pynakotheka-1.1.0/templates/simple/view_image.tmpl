<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<% 
   from os.path import basename
   root = '../' * album.depth
%>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>${album.title}: ${image.filename}</title>
  <link type="text/css" rel="stylesheet" href="${root}style.css">
</head>
<body>
  <div align="center">
    <h2>Album: ${album.title}</h2>
    <table>
      <tbody>
        <tr>
          <td>
            <table width="$(width+30)">
              <tbody>
                <tr>
                  <td align="center" valign="top" width="1%" colspan="3">
                    %if copy_originals:
                    <a href="${txt2u(basename(image.orig_file))}">
                      <img src="${txt2u(basename(image.img_file))}" alt="${txt2u(image.img_file)}">
                    </a>
                    %else:
                    <img src="${txt2u(basename(image.img_file))}" alt="${txt2u(image.img_file)}">
                    %endif
                  </td>
                </tr>
                <tr>
                  <td align="center" width="33%">
                    %if prev_image:
                    <a href="${txt2u(basename(prev_image.html_file))}">
                      <img alt="Previous image" src="${txt2u(basename(prev_image.tn100_file))}"><br/>Previous
                    </a>
                    %else:
                    &nbsp;
                    %endif
                  </td>
                  <td align="center" valign="top" width="33%">
                    <span>${image.filename}</span><br/>
                    <span>${image_idx}/${album.num_images}</span>
                    <br/><br/><br/>
                    [&nbsp;<a href="view_thumbs.html">Thumbnail&nbsp;index</a>&nbsp;] 
                  </td>
                  <td align="center" width="33%">
                    %if next_image:
                    <a href="${txt2u(basename(next_image.html_file))}">
                      <img alt="Next image" src="${txt2u(basename(next_image.tn100_file))}"><br/>Next
                    </a>
                    %else:
                    &nbsp;
                    %endif
                  </td>
                </tr>
              </tbody>
            </table>
          </td>

          <td align="left" valign="top">
            <table border="1">
              <tbody>
                <tr>
                  <td nowrap="nowrap">
                    <b>Image data:</b><br/><hr>
		    Filename: ${info.filename}<br/>
		    Picture date: ${info.timestamp}<br/>
		    File size: ${info.filesize} Kb<br/>
		    Format: ${info.format}<br/>
		    Size: ${info.size[0]}x${info.size[1]} pixels<br/>
		    Orientation: ${info.orientation}<br/>
                    Aperture: ${info.aperture}<br/>
                    Exposure time: ${info.exposure_time} sec.<br/>
                    Exposure program: ${info.exposure_program}<br/>
                    Exposure bias: ${info.exposure_bias}<br/>
                    Focal length: ${info.focal_length} mm<br/>
                    Brightness: ${info.brightness}<br/>
                    Flash: ${info.flash}<br/>
                    ISOSpeedRatings: ${info.isospeedratings}<br/>
                    Camera: ${info.camera}
                  </td>
                </tr>
              </tbody>
            </table>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <br/><hr>Generated on ${timestamp}
  by <a href="http://inigo.katxi.org/devel/pynakotheka">pynakotheka</a> 
  v1.1, &copy;2005-7 I&ntilde;igo Serna

</body>
</html>
