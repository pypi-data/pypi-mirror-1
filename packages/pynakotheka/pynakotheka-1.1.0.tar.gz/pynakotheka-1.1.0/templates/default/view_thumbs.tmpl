<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<%
   from os.path import basename
   root = '../' * album.depth
%>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>${album.title}</title>
  <link type="text/css" rel="stylesheet" href="${root}style.css">
</head>
<body background="${root}background.jpeg">
  <% num = album.num_images %>
  <div align="center">
    <h2>Album: ${album.title}</h2> 
    <h3>
       ${num} images&nbsp;&nbsp;-&nbsp;&nbsp;
       <a href="${back_albums_path}">Back to the albums list</a>
    </h3>
    <br/>
    <table width="1%">
      <tbody>
      %for i in xrange(0, num, 3):
        <tr>
        %for j in xrange(3):
        %if (i+j) < num:
          <td class="transparent" align="center" valign="top">
            <%
               image = album.images[i+j]
               thumbname = image.basename + '-%d.jpeg' % tn_size
               imagename = image.basename + '-%d.jpeg' % img_size
            %>
	    <a href="${txt2u(basename(image.html_file))}">
              <img src="${txt2u(basename(thumbname))}" alt="image" border="1">
            </a>
            <div align="right">
              <span class="name">${txt2u(image.filename) | h}</span>
              ::
              <span class="numbers">${i+j+1}/${num}</span>
            </div>
          </td>
        %endif
        %endfor
        </tr>
      %endfor
      </tbody>
    </table>
  </div>

  <br/>
  <hr>Generated on ${timestamp}
  by <a href="http://inigo.katxi.org/devel/pynakotheka">pynakotheka</a> 
  v1.1, &copy;2005-7 I&ntilde;igo Serna

</body>
</html>
