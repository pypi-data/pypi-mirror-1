<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.4: http://docutils.sourceforge.net/" />
<title>- pynakotheka -</title>
<meta name="author" content="Iñigo Serna, inigoserna AT telefonica DOT net" />
<style type="text/css">

/*
:Author: David Goodger
:Contact: goodger@users.sourceforge.net
:date: $Date: 2003/06/28 22:18:49 $
:version: $Revision: 1.2 $
:copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.
*/

body {
  background-color: #eeeeee;
  font-family: Arial, sans-serif;
}

em {
  font-family: Times New Roman, Times, serif;
}

a {
  color: #003399;
  text-decoration: none }

a:hover {
  color: #339900;
  text-decoration: underline }

a.toc-backref {
  text-decoration: none ;
  color: black }

div.attention, div.caution, div.danger, div.error, div.hint,
div.important, div.note, div.tip, div.warning {
  // margin: 2em ;
  background-color: #cccccc;
  align: center;
  width: 40%;
  border: medium outset ;
  padding: 3px;
  float: right;
 }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif;
  text-align: center;
  display: block;
  background-color: #999999;
  margin: 0; }

div.hint p.admonition-title, div.important p.admonition-title,
div.note p.admonition-title, div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif;
  text-align: center;
  display: block;
  background-color: #999999;
  margin: 0; }

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em }

div.footer, div.header {
  font-size: smaller }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1, h2, h3, h4, h5, h6 {
  font-family: Helvetica, Arial, sans-serif;
  padding-top: 3px;
  padding-bottom: 3px;
  padding-left: 10px;
  padding-right: 10px;
  color: #000000;
 }

h1 {
  background-color: #6699dd;
  border: thin solid black;
}

h2 {
  background-color: #777777;
  border-top: 2px solid #444444;
  border-bottom: 2px solid #444444;
}

h3 {
  background-color: #aaaaaa;
  border-top: 2px solid #777777;
  border-bottom: 2px solid #777777;
}

h4, h5, h6 {
  background-color: #cccccc;
  border-top: 1px solid #999999;
  border-bottom: 1px solid #999999;
}

h1.title {
  text-align: center;
  background-color: #000000;
  color: #ffffff;
  padding: 10px;
 }

h2.subtitle {
  text-align: center }

hr {
  width: 75% }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.first {
  margin-top: 0 }

p.label {
  white-space: nowrap }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font-family: serif ;
  font-size: 100% }

pre.line-block {
  font-family: serif ;
  font-size: 100% }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;
  background-color: #ffffff;
  border: thin black solid;
  padding: 5px;
}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option-argument {
  font-style: italic }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

table {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.citation {
  border-left: solid thin gray ;
  padding-left: 0.5ex }

table.docinfo {
  margin: 2em 4em }

table.footnote {
  border-left: solid thin black ;
  padding-left: 0.5ex }

td, th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

td > p:first-child, th > p:first-child {
  margin-top: 0em }

th.docinfo-name, th.field-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap }

h1 tt, h2 tt, h3 tt, h4 tt, h5 tt, h6 tt {
  font-size: 100% }

tt {
  //background-color: #eeeeee;
  color: #000066 }

ul.auto-toc {
  list-style-type: none }

// Highlighting:

.function {color: #000077; font-weight: bold}
.keyword {color: #004444;}
.comment {color: #770000; font-style: italic}
.normal {color: #000000;}
.string {color: #006600;}
.symbol {color: #000000;}

.htmltag {color: #000077;}
.htmlsymbol {color: #000000;}
.htmlnormal {color: #000000;}
.htmlcomment {color: #770000; font-style: italic}
.htmlstring {color: #006600;}
.htmlattr {color: #000000;}

.stmlfunction {color: #000077; font-weight: bold}
.stmlattr {color: #000000;}
.stmlstring {color: #006600;}
.stmlexpr {color: #004444;}
</style>
</head>
<body>
<div class="document" id="pynakotheka">
<h1 class="title">- pynakotheka -</h1>
<table class="docinfo" frame="void" rules="none">
<col class="docinfo-name" />
<col class="docinfo-content" />
<tbody valign="top">
<tr><th class="docinfo-name">Author:</th>
<td>Iñigo Serna, inigoserna AT telefonica DOT net</td></tr>
<tr><th class="docinfo-name">Version:</th>
<td>1.0.3, July 25th., 2006</td></tr>
<tr class="field"><th class="docinfo-name">License:</th><td class="field-body"><p class="first">(C) 2005-6, Iñigo Serna</p>
<p class="last">This software has been released under the <a class="reference" href="http://www.gnu.org/licenses/licenses.html#GPL">GPL License</a>,
see the <a class="reference" href="COPYING">COPYING</a> file that comes with this package.
There is NO WARRANTY.</p>
</td>
</tr>
<tr class="field"><th class="docinfo-name">Last update:</th><td class="field-body">Tue Jul 25 22:22:17 2006</td>
</tr>
</tbody>
</table>
<div class="contents topic">
<p class="topic-title first"><a id="table-of-contents" name="table-of-contents">Table of Contents</a></p>
<ul class="simple">
<li><a class="reference" href="#introduction" id="id2" name="id2">Introduction</a></li>
<li><a class="reference" href="#templates" id="id3" name="id3">Templates</a></li>
<li><a class="reference" href="#album-folder-description-file" id="id4" name="id4">Album folder description file</a></li>
<li><a class="reference" href="#requirements-and-download" id="id5" name="id5">Requirements and Download</a></li>
<li><a class="reference" href="#faq" id="id6" name="id6">FAQ</a></li>
<li><a class="reference" href="#changes" id="id7" name="id7">CHANGES</a></li>
<li><a class="reference" href="#todo" id="id8" name="id8">TODO</a></li>
</ul>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id2" id="introduction" name="introduction">Introduction</a></h1>
<p>Not much to say, <strong>pynakotheka</strong> is a simple python script which generates
static HTML photo albums to be added to web sites or to be burnt in CDs.</p>
<p>The gallery can contain folders and/or pictures
and the folders can contain other folders and/or pictures, recursively.
There are 4 views: folder, tree, thumbnails and photo detail (with or
without exif info). You can even create your own templates easily.</p>
<p>Released under GNU Public License, read COPYING for more details.</p>
<p>Some inspiration from <a class="reference" href="http://curator.sourceforge.net">curator</a>, another python gallery builder.</p>
<p>Here you have a <a class="reference" href="http://gallery.katxi.org/katxi">demo site</a> with some photos of my friends.</p>
<p>You don't need to install the script, uncompress the package and
select the proper path of the templates when executing the program.
Anyway, since v1.0.1 you can use the usual python process to install
<em>pynakotheka</em> and let the program to find out where the templates are
located:</p>
<pre class="literal-block">
# python setup.py install
</pre>
<p>These are the options:</p>
<pre class="literal-block">
Usage:  pynakotheka.py &lt;options&gt; [source_dir [target_dir]]

Arguments:
    source_dir       Location of the source photos, defaults to current dir
    target_dir       Directory where to save the gallery, defaults to current dir

Options:
    -h, --help       Show this text
    -q, --quiet      Don't show progress information messages, default SHOW
    -c, --color      Show information messages with colors, default NO COLOR

    -o, --copy-originals
                     Copy original images to the gallery, default NO
    -s, --thumbsize  Thumbnail size, defaults to 250
    -i, --imagesize  Image size, defaults to 640
    -d, --templates-dir
                     Path to templates directory, defaults to
                     &quot;$PREFIX/share/pynakotheka/templates&quot;
    -t, --template   Template to use, defaults to &quot;default&quot;

    --clean=all|images|html
                     Remove all files / images / html and style files
                     generated by the program
</pre>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id3" id="templates" name="templates">Templates</a></h1>
<p>Each template has his own directory which <strong>must</strong> contain exactly these 7 files:</p>
<ul class="simple">
<li><em>view_albums.tmpl</em>: html template for the album view</li>
<li><em>view_tree.tmpl</em>: html template for the tree view</li>
<li><em>view_thumbs.tmpl</em>: html template for the thumbnails view</li>
<li><em>view_image.tmpl</em>: html template for the image detail view</li>
<li><em>style.css</em>: cascading style sheet</li>
<li><em>background.jpeg</em>: background image</li>
<li><em>transparent_black.gif</em>: image</li>
</ul>
<p>All of these files must exist in your template directory. If you don't need
any of them, create an empty file anyway (yes, this could be improved).</p>
<p>The name of the template is taken from the directory name.</p>
<p>There are only three templates by now:</p>
<ul class="simple">
<li><em>default</em>: nice and elegant look with exif information and previous and
next images preview</li>
<li><em>noexif</em>: similar to <em>default</em> but without exif information</li>
<li><em>simple</em>: you see, no colors, no css, no background</li>
</ul>
<p>Thanks to <a class="reference" href="http://wancam.precompiled.org/tdigs">http://wancam.precompiled.org/tdigs</a> and
<a class="reference" href="http://photolib.sourceforge.net">http://photolib.sourceforge.net</a> from which I've taken some ideas and html code
for these templates.</p>
<p>If you design a new template, please contribute back to the community. Thanks.</p>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id4" id="album-folder-description-file" name="album-folder-description-file">Album folder description file</a></h1>
<p>You can specify some information for each folder.</p>
<p>To do it, create a file called <em>album.xml</em> and place it in the base directory
for the folder. This is the example included with <em>pynakotheka</em> (if you have
installed the program you can find it in <em>/usr/share/doc/pynakotheka</em>):</p>
<pre class="literal-block">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;latin1&quot;?&gt;
&lt;album&gt;
  &lt;title&gt;
    This is the title
  &lt;/title&gt;
  &lt;description&gt;
    These photos were taken during our holidays in Mars last October
  &lt;/description&gt;
  &lt;sample_photo&gt;
    path/to/photo1.jpeg
  &lt;/sample_photo&gt;
  &lt;omit_album&gt;
    FALSE
  &lt;/omit_album&gt;
  &lt;omitted_files&gt;
    &lt;omitted_file&gt;
      photo12.jpeg
    &lt;/omitted_file&gt;
    &lt;omitted_file&gt;
      photo26.jpeg
    &lt;/omitted_file&gt;
  &lt;/omitted_files&gt;
&lt;/album&gt;
</pre>
<ul class="simple">
<li>the first line sets the <em>encoding</em> for the file</li>
<li><em>title</em>: the name for the folder, instead of directory name</li>
<li><em>description</em>: summary for the folder contents</li>
<li><em>sample_photo</em>: path to the image you want as sample for this folder</li>
<li><em>omit_album</em>: either TRUE or FALSE. If you want <em>pynakotheka</em> not to
include this directory in the gallery set it to TRUE</li>
<li><em>omitted_files</em>: list of photos to be omitted</li>
</ul>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id5" id="requirements-and-download" name="requirements-and-download">Requirements and Download</a></h1>
<ul class="simple">
<li><a class="reference" href="http://inigo.katxi.org/devel/pynakotheka">pynakotheka</a>, you can download it from <a class="reference" href="./pynakotheka-1.0.3.tar.gz">here</a></li>
<li><a class="reference" href="http://www.python.org">Python</a></li>
<li><a class="reference" href="http://www.pythonware.com/products/pil/">Python Imaging Library</a></li>
<li><a class="reference" href="http://home.cfl.rr.com/genecash/digital_camera.html">EXIF</a></li>
<li><a class="reference" href="http://cheetahtemplate.org">Cheetah Template</a></li>
</ul>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id6" id="faq" name="faq">FAQ</a></h1>
<p><strong>Q: It's a bit slow... what can I do?</strong></p>
<p>A: Templates could be compiled (consult <a class="reference" href="http://cheetahtemplate.org">Cheetah Template</a> documentation).
Or you can generate the gallery after going to sleep.</p>
<p><strong>Q: How can I disable exif information in my gallery?</strong></p>
<p>A: Use the <em>noexif</em> template.</p>
<p><strong>Q: pynakotheka crashes when using a template without &quot;background.jpeg&quot; file</strong></p>
<p>A: File must exist. See <a class="reference" href="#templates">Templates</a> section.</p>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id7" id="changes" name="changes">CHANGES</a></h1>
<p>Changes from v1.0.2 to v1.0.3:</p>
<blockquote>
<ul class="simple">
<li>support file names encoded in UTF8</li>
</ul>
</blockquote>
<p>Changes from v1.0.1 to v1.0.2:</p>
<blockquote>
<ul class="simple">
<li>now albums are sorted by creation time</li>
</ul>
</blockquote>
<p>Changes from v1.0 to v1.0.1:</p>
<blockquote>
<ul class="simple">
<li>distutils support. Now you can install <em>pynakotheka</em></li>
<li>added a man page</li>
<li>fixed some typos in templates</li>
</ul>
</blockquote>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id8" id="todo" name="todo">TODO</a></h1>
<p>Post v1.0 ideas:</p>
<blockquote>
<ul class="simple">
<li>more templates</li>
<li>define schema for templates: template.index</li>
<li>comments for photos</li>
</ul>
</blockquote>
<p>Rejected ideas:</p>
<blockquote>
<ul class="simple">
<li>add text/watermark to images, let specify font and size
Shane Hathaway and Terry Carroll &quot;Watermark with PIL&quot;
<a class="reference" href="http://aspn.activestate.com/ASPN/Cookbook/Python/Recipe/362879">http://aspn.activestate.com/ASPN/Cookbook/Python/Recipe/362879</a></li>
<li>add a shadow or other effects to the photos</li>
<li>option to disable exif: use template with no exif info</li>
</ul>
</blockquote>
<hr class="docutils" />
<p>[This documentation was generated with <a class="reference" href="http://docutils.sourceforge.net/rst.html">reStructuredText</a>]</p>
</div>
</div>
</body>
</html>
