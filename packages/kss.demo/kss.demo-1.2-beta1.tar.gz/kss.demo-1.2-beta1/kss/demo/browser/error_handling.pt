<html>
  <head>
    <link rel="kukit" type="text/css"
          tal:attributes="href string:${context/@@absolute_url}/++resource++error_handling.kss"/>
    <metal:header use-macro="context/@@header_macros/header_resources" />
    <style>
	#spinner-wrapper {
            border: 1px solid black;
            height: 30px;
        }
	#spinner-status {
            color: blue;
            display: none;
        }
	#update-status {
            border: 1px solid black;
        }
    </style>
</head>
  <body>
    <p><a href=".">All demos</a></p>
    <p><a href="javascript:void(createLoggingPane(true))">Start logging pane</a></p>
    <p><a href="./++resource++error_handling.kss">View KSS resource</a></p>

<h3>Error handling demo</h3>
    <div id="spinner-wrapper">
        <div id="spinner-status">Loading...</div>
    </div>
    <p id="update-status"></p>
    <form name="edit">
    <p>We try four cases here. "No error" and "Empty action" are both valid responses,
    except that the second one gives a response with no commands and so it issues a warning into
    the kss log. "Error" gives a failed responses due to an exception in the server method
    on the server.</p>
    <p>The buttons in the first row have no error handled.</p>
    <div>
      <input type="submit" id="button_1_1" class="clickable kukit-act-noerror"
	     value="No error"  />
      <input type="submit" id="button_1_2" class="clickable kukit-act-empty"
	     value="Empty response"  />
      <input type="submit" id="button_1_3" class="clickable kukit-act-error"
	     value="Error"  />
      <!--input type="submit" id="button_1_4" class="clickable kukit-act-timeout"
	     value="Timeout"  /-->
      <input type="submit" id="button_2_5" class="clickable kukit-act-explicit"
	     value="Explicit error"  />
    </div>
    <p>The buttons in the second row have individual error handlers.</p>
    </form>
    <div>
      <input type="submit" id="button_2_1" class="clickable handled kukit-act-noerror"
	     value="No error"  />
      <input type="submit" id="button_2_2" class="clickable handled kukit-act-empty"
	     value="Empty response"  />
      <input type="submit" id="button_2_3" class="clickable handled kukit-act-error"
	     value="Error"  />
      <!--input type="submit" id="button_2_4" class="clickable handled kukit-act-timeout"
	     value="Timeout"  /-->
      <input type="submit" id="button_2_5" class="clickable handled kukit-act-explicit"
	     value="Explicit error"  />
    </div>
    <p>
    You can also try suspending your server process and start generating timed out requests.
    Timed out responses are also handled like ones arriving with error.
    The timeout period is by default 8 s now.</p>
    <p>
    In addition, the request queue manager queues up the outgoing responses and maximizes
    their number (currently in 4): click like crazy on the buttons and you will see that
    your server will not get hogged. More will be told about this topic in the upcoming
    documentation.</p>

  </body>
</html>
