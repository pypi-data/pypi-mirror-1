<html metal:use-macro="here/prefs_main_template/macros/master" i18n:domain="collective.viewlet.banner"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n">




    <div metal:fill-slot="prefs_configlet_main"
      tal:define="errors options/state/getErrors">
      <h1 i18n:translate="heading_bannertool_setup">Banner Images configuration</h1>

      <a href=""
        class="link-parent"
        tal:attributes="href string: $portal_url/plone_control_panel"
        i18n:domain="plone" i18n:translate="label_up_to_plone_setup">
        Up to Plone Setup
      </a>

      <fieldset id="bannerprefs_global"
                style="display:block">
        <legend i18n:translate="legend_bannerprefs_global">
            Banner tool configuration
		</legend>

		<dl>
			<dt><b>path</b></dt>
			<dd>
				Specified as an absolute path. I.e. '/news'
                for an item in the site root with the id 'news'.
			</dd>
            <dt><b>viewlet</b></dt>
            <dd>
            	A way to sneak in css classes to banners in certain paths.
                (Requires support in your viewlet)
            </dd>
            <dt><b>extra classes</b></dt>
            <dd>
                A way to sneak in css classes to banners in certain paths.
                (Requires support in your viewlet)
            </dd>
            <dt><b>image</b></dt>
            <dd>
                Which image to use.
            </dd>
            <dt><b>target link for banner</b></dt>
            <dd>
                If it's clicked.
                (Requires support in your viewlet)
            </dd>
            <dt><b>text</b></dt>
            <dd>
                Text in the viewlet, could be used with html.
                (Requires support in your viewlet)
            </dd>
		</dl>
		
        <p>&nbsp;</p>
		
        <form action=""
              name="reconfig"
              method="post"
              class="enableUnloadProtection"
              tal:attributes="action string:$portal_url/prefs_bannertool_form"
              tal:define="settings python:here.banner_tool.getSettings;">
       

            <table>
               <tal:loop repeat="setting settings">
                  <tr>
                     <td><input type="checkbox" name="indices:int:list"
                     tal:attributes="value repeat/setting/index"/></td>
                     <th i18n:translate="heading_path">path</th>
                     <td><input type="text" name="settings.path:records" size="60"
                     tal:attributes="value setting/path|nothing" /></td>
                  </tr>
                  <tr>
                     <td></td>
                     <th i18n:translate="heading_viewlet">viewlet</th>
                     <td><input type="text" name="settings.viewlet_id:records" size="60"
                     tal:attributes="value setting/viewlet_id|nothing" /></td>
                  </tr>
                  <tr>
                     <td></td>
                     <th i18n:translate="heading_extra_classes">extra classes</th>
                     <td><input type="text" name="settings.extra_classes:records" size="60"
                     tal:attributes="value setting/extra_classes|nothing" /></td>
                  </tr>
                  <tr>
                     <td></td>
                     <th i18n:translate="heading_image">image</th>
                     <td><input type="text" name="settings.image:records" size="60"
                     tal:attributes="value setting/image|nothing" /></td>
                  </tr>
                  <tr>
                     <td></td>
                     <th i18n:translate="heading_link">target link for banner</th>
                     <td><input type="text" name="settings.link:records" size="60"
                     tal:attributes="value setting/link|nothing" /></td>
                  </tr>
                  <tr>
                     <td></td>
                     <th i18n:translate="heading_text">text</th>
                     <td><textarea name="settings.text:records" cols="35" rows="6"
                     tal:content="setting/text|nothing" /></td>
                  </tr>
                  <tr>
                     <td colspan="4">
                        <hr />
                     </td>
                  </tr>
               </tal:loop>
            </table>

            <p tal:condition="settings">
               <input class="context" type="submit"
                      value="Save"
                      i18n:attributes="value button_save;" />
               <input class="context" type="submit"
                      value="Delete" name="form.button.delete"
                      i18n:attributes="value button_delete;" />
            </p>
            <input type="hidden" name="form.submitted" value="1" />
         </form>

         <form action="" 
            tal:attributes="action string:$portal_url/prefs_bannertool_form" 
            class="enableUnloadProtection"
            method="post">
            <table>
               <tr>
                  <th i18n:translate="heading_path">path</th>
                  <td><input type="text" name="setting.path:record" size="60" /></td>
               </tr>
               <tr>
                  <th i18n:translate="heading_viewlet">viewlet</th>
                  <td><input type="text" name="setting.viewlet_id:record" size="60" /></td>
               </tr>
               <tr>
                  <th i18n:translate="heading_extra_classes">extra classes</th>
                  <td><input type="text" name="setting.extra_classes::record" size="60" /></td>
               </tr>
               <tr>
                  <th i18n:translate="heading_image">image</th>
                  <td><input type="text" name="setting.image:record" size="60" /></td>
               </tr>
               <tr>
                  <th i18n:translate="heading_text">text</th>
                  <td>
                    <textarea name="setting.text:record" cols="35" rows="6"></textarea>
                  </td>
               </tr>
            </table>

            <p>
               <input class="context" type="submit" value="Add"
                      i18n:attributes="value button_add;"/>
            </p>
            <input type="hidden" name="form.submitted" value="1" />
         </form>

      </fieldset>
            
      <div class="visualClear"><!-- --></div>

    </div>

</html>
