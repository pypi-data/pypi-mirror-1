  <ul metal:define-macro="navigation_menu">

      <li tal:repeat="section sections">

        <a tal:attributes="href section/item/getURL;

                class python:test (section['active'], 'selected', '');" 

           tal:content="section/item/Title">

          Top level section

        </a>

        <tal:recurse define="sections section/children"

                     condition="nocall:sections">

          <metal:call use-macro="here/navigation_macros/macros/navigation_menu" />

        </tal:recurse>

      </li>

  </ul>

