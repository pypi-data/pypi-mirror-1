<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>ewa.rules</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css"></link>
</head>
<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">

<!-- =========== START OF NAVBAR =========== -->
<table class="navbar" border="0" width="100%" cellpadding="0" bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="center">
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="ewa-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="trees.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="indices.html">Index</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar" align="right" width="100%">
      <table border="0" cellpadding="0" cellspacing="0">
      <tr><th class="navbar" align="center">
        <p class="nomargin">
          <a class="navbar" target="_top" href="http://code.wnyc.org/ewa/">ewa</a>
      </p></th></tr></table>
    </th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <font size="-1"><b class="breadcrumbs">
        <a href="ewa-module.html">Package&nbsp;ewa</a> ::
        Module&nbsp;rules
      </b></font></br>
    </td>
    <td><table cellpadding="0" cellspacing="0">
      <tr><td align="right"><font size="-2">[<a href="../private/ewa.rules-module.html">show&nbsp;private</a>&nbsp;|&nbsp;hide&nbsp;private]</font></td></tr>
      <tr><td align="right"><font size="-2">[<a href="frames.html"target="_top">frames</a>&nbsp;|&nbsp;<a href="ewa.rules-module.html" target="_top">no&nbsp;frames</a>]</font></td></tr>
    </table></td>
</tr></table>

<!-- =========== START OF MODULE DESCRIPTION =========== -->
<h2 class="module">Module ewa.rules</h2>

<p>a rule system for ewa, used to determine what files should appear 
before or after a main mp3 file in a composite mp3.</p>
<p>Rules are callables that take a single &quot;filename&quot; parameter 
and return None or a generator that yields mp3 filenames (or equivalent 
designations) in sequence.</p>
<p>A RuleList is a rule with a list of subrules, optionally with a 
condition (matched against the filename). When the RuleList is called, if 
the condition does not exist, or if it matches, each subrule is called on 
the filename until one returns something, which is the return value.</p>
Rules can be marshalled to and from JSON, and from (but currently not 
to) the ewa rule configuration format implemented in ewa.ruleparser.
<hr/>

<!-- =========== START OF CLASSES =========== -->
<table class="summary" border="1" cellpadding="3" cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="summary">
  <th colspan="2">Classes</th></tr>
<tr><td width="15%">
  <b><a href="ewa.rules.And-class.html"><code>And</code></a></b></td>
  <td>&nbsp;</td></tr>
<tr><td width="15%">
  <b><a href="ewa.rules.CurrentTimeMatch-class.html"><code>CurrentTimeMatch</code></a></b></td>
  <td>returns true if the current time falls within a datetime range</td></tr>
<tr><td width="15%">
  <b><a href="ewa.rules.DefaultRule-class.html"><code>DefaultRule</code></a></b></td>
  <td>this may be useful as the last rule in a rule-list; it yields the 
filename passed and nothing else</td></tr>
<tr><td width="15%">
  <b><a href="ewa.rules.FileRule-class.html"><code>FileRule</code></a></b></td>
  <td>&nbsp;</td></tr>
<tr><td width="15%">
  <b><a href="ewa.rules.FileTimeMatch-class.html"><code>FileTimeMatch</code></a></b></td>
  <td>returns true if a date encoded in a string falls within a date 
range</td></tr>
<tr><td width="15%">
  <b><a href="ewa.rules.GlobMatcher-class.html"><code>GlobMatcher</code></a></b></td>
  <td>&nbsp;</td></tr>
<tr><td width="15%">
  <b><a href="ewa.rules.MatchRule-class.html"><code>MatchRule</code></a></b></td>
  <td>&nbsp;</td></tr>
<tr><td width="15%">
  <b><a href="ewa.rules.Not-class.html"><code>Not</code></a></b></td>
  <td>&nbsp;</td></tr>
<tr><td width="15%">
  <b><a href="ewa.rules.Or-class.html"><code>Or</code></a></b></td>
  <td>&nbsp;</td></tr>
<tr><td width="15%">
  <b><a href="ewa.rules.RegexMatcher-class.html"><code>RegexMatcher</code></a></b></td>
  <td>&nbsp;</td></tr>
<tr><td width="15%">
  <b><a href="ewa.rules.RuleList-class.html"><code>RuleList</code></a></b></td>
  <td>&nbsp;</td></tr>
</table><br />


<!-- =========== START OF FUNCTION SUMMARY =========== -->
<table class="summary" border="1" cellpadding="3" cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="summary">
  <th colspan="2">Function Summary</th></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><a name="extract_datetime"></a><span class="summary-sig"><span class="summary-sig-name">extract_datetime</span>(<span class=summary-sig-arg>target</span>,
          <span class=summary-sig-arg>regex</span>,
          <span class=summary-sig-arg>format</span>)</span></code>
</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><a name="from_json"></a><span class="summary-sig"><span class="summary-sig-name">from_json</span>(<span class=summary-sig-arg>json</span>)</span></code>
</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><a name="GlobMatchRule"></a><span class="summary-sig"><span class="summary-sig-name">GlobMatchRule</span>(<span class=summary-sig-arg>pattern</span>,
          <span class=summary-sig-arg>pre</span>,
          <span class=summary-sig-arg>post</span>,
          <span class=summary-sig-arg>casesensitive</span>)</span></code>
</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><a name="RegexRule"></a><span class="summary-sig"><span class="summary-sig-name">RegexRule</span>(<span class=summary-sig-arg>pattern</span>,
          <span class=summary-sig-arg>pre</span>,
          <span class=summary-sig-arg>post</span>,
          <span class=summary-sig-arg>flags</span>)</span></code>
</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><a name="to_json"></a><span class="summary-sig"><span class="summary-sig-name">to_json</span>(<span class=summary-sig-arg>data</span>)</span></code>
</td></tr>
</table><br />


<!-- =========== START OF NAVBAR =========== -->
<table class="navbar" border="0" width="100%" cellpadding="0" bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="center">
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="ewa-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="trees.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="indices.html">Index</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar" align="right" width="100%">
      <table border="0" cellpadding="0" cellspacing="0">
      <tr><th class="navbar" align="center">
        <p class="nomargin">
          <a class="navbar" target="_top" href="http://code.wnyc.org/ewa/">ewa</a>
      </p></th></tr></table>
    </th>
  </tr>
</table>

<table border="0" cellpadding="0" cellspacing="0" width="100%">
  <tr>
    <td align="left"><font size="-2">Generated by Epydoc 2.1 on Tue Jan  2 22:38:34 2007</font></td>
    <td align="right"><a href="http://epydoc.sourceforge.net"
                      ><font size="-2">http://epydoc.sf.net</font></a></td>
  </tr>
</table>
</body>
</html>
