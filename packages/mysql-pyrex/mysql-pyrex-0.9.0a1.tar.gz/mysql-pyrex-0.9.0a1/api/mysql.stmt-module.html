<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>mysql.stmt</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="mysql-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="mysql-module.html">Package&nbsp;mysql</a> ::
        Package&nbsp;stmt
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript: void(0);" class="privatelink"
    onclick="toggle_private();">hide private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="mysql.stmt-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== PACKAGE DESCRIPTION ==================== -->
<h1 class="epydoc">Package stmt</h1><span class="codelink"><a href="mysql.stmt-pysrc.html">source&nbsp;code</a></span><br /><br />
<p>MySQL Statement API.</p>
<p>The Statement API is a way to pre-parse a SQL statement on the server-side, and
then reuse that SQL statement without requiring the server to reparse it.  It
also transfers the data as raw binary data, so there does not need to be an
intermediate conversion to and from a string (thus the statement API does not
use the <a href="mysql.conversion-module.html" class="link">mysql.conversion</a> code).</p>
<p>A SQL statement is represented by the <a href="mysql.stmt.stmt.Statement-class.html" class="link">mysql.stmt.Statement</a> object. Parameters
for the statement are stored in a <a href="mysql.stmt.bind_in.Input_Bind-class.html" class="link">mysql.stmt.bind_in.Input_Bind</a> object.  You
can simply update the value inside the <tt class="rst-docutils literal"><span class="pre">Input_Bind</span></tt> object and re-execute the
query.  The position in the SQL statement where you want your bound input value
to exist is denoted by a question mark.  The question marks are processed in
left-to-right order.</p>
<p>The results are placed into <a href="mysql.stmt.bind_out.Output_Bind-class.html" class="link">mysql.stmt.bind_out.Output_Bind</a> objects.  You
must prepare these objects before you execute the statement.</p>
<p>An example of selecting data would be:</p>
<pre class="rst-literal-block">
class bar:

    def __init__(self, connection):
        self.thing = None
        self.foo = None
        self.s = connection.new_statement('SELECT foo FROM bar WHERE thing=?')
        self.s.bind_input(mysql.stmt.bind_in.In_Int(self, 'thing'))
        self.s.bind_output(mysql.stmt.bind_out.Out_Varchar(self, 'foo'))

b = bar()
b.thing = 7
b.s.execute()
b.s.fetch()
print b.foo
b.thing = 8
b.s.execute()
b.s.fetch()
print b.foo
</pre>
<p>BLOB and TEXT columns can optionally use a streaming API for setting and
retrieving information.  For input parameters, it automatically sets the bound
input value to an object which has a <tt class="rst-docutils literal"><span class="pre">write</span></tt> method.  For output parameters,
it similarly sets the output value to an object with a <tt class="rst-docutils literal"><span class="pre">read</span></tt> method.</p>
<p>If you specified <tt class="rst-docutils literal"><span class="pre">store_result</span></tt> as False (the default) to the <tt class="rst-docutils literal"><span class="pre">execute</span></tt>
method, then the results are buffered on the server side.  You can have only 1
live unbuffered statement object per connection in this case.  If you attempt
to execute another statement, then the original statment object will be
forcefully closed.  This goes for <a href="mysql.result.Result-class.html" class="link">mysql.result.Result</a> objects as well, only
one live unbuffered Result or Statement object may exist at one time.  Result
objects are capable of automatically, forcefully closing Statement objects and
vice-versa.</p>
<p>See <a href="mysql.stmt.stmt-module.html" class="link">mysql.stmt.stmt</a> for more detail on the Statement object itself.</p>
<p>See <a href="mysql.stmt.bind_in-module.html" class="link">mysql.stmt.bind_in</a> for more detail on binding input values.</p>
<p>See <a href="mysql.stmt.bind_out-module.html" class="link">mysql.stmt.bind_out</a> for more detail on binding output values.</p><br /><br />

<!-- ==================== SUBMODULES ==================== -->
<a name="section-Submodules"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Submodules</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Submodules"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr><td class="summary">
  <ul class="nomargin">
    <li> <strong class="uidlink"><a href="mysql.stmt.bind_in-module.html">mysql.stmt.bind_in</a></strong>: <em class="summary">MySQL Statement Input Binding.</em></li>
    <li> <strong class="uidlink"><a href="mysql.stmt.bind_out-module.html">mysql.stmt.bind_out</a></strong>: <em class="summary">MySQL Statement Output Binding.</em></li>
    <li> <strong class="uidlink"><a href="mysql.stmt.stmt-module.html">mysql.stmt.stmt</a></strong>: <em class="summary">MySQL Statement object.</em></li>
  </ul></td></tr>
</table>

<br />
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Variables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
  <td width="15%" align="right" valign="top" class="summary">
    <code class="summary-type">&nbsp;</code>
  </td><td class="summary">
    <a href="mysql.stmt-module.html#__version__">__version__</a> = <code title="'$Revision: 1.3 $'">'$Revision: 1.3 $'</code>
  </td>
</tr>
</table>

<br />
<!-- ==================== VARIABLES DETAILS ==================== -->
<a name="section-VariablesDetails"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-VariablesDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="__version__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">__version__</h3>
  
  <dl><dt></dt><dd>
    <dl><dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
<span class="variable-quote">'</span>$Revision: 1.3 $<span class="variable-quote">'</span>                                                     
      </pre></td></tr></table></dd>
    </dl>
  </dd></dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="mysql-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">Generated by Epydoc
        3.0alpha3 on Sun Nov 12 20:01:27 2006</td>
    <td align="right" class="footer">
      <a href="http://epydoc.sourceforge.net">http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie()
  // -->
</script>
  
</body>
</html>
