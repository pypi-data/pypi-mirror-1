<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>mysql</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th bgcolor="#70b0f0" class="navbar-select"
          >&nbsp;&nbsp;&nbsp;Home&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        Package&nbsp;mysql
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript: void(0);" class="privatelink"
    onclick="toggle_private();">hide private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="mysql-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== PACKAGE DESCRIPTION ==================== -->
<h1 class="epydoc">Package mysql</h1><span class="codelink"><a href="mysql-pysrc.html">source&nbsp;code</a></span><br /><br />
<p>MySQL 5 interface.</p>
<center><p><table border="0" cellpadding="0" cellspacing="0" class="graph">
  <tr><td align="center">
  <map id="package_tree_for_mysql" name="package_tree_for_mysql">
<area shape="rect" href="mysql.connection&#45;module.html" title="mysql.connection" alt="" coords="25,76,115,119" />
<area shape="rect" href="mysql.constants.client_flags&#45;module.html" title="mysql.constants.client_flags" alt="" coords="132,88,213,109" />
<area shape="rect" href="mysql.constants.field_flags&#45;module.html" title="mysql.constants.field_flags" alt="" coords="221,88,296,109" />
<area shape="rect" href="mysql.constants.field_types&#45;module.html" title="mysql.constants.field_types" alt="" coords="304,88,381,109" />
<area shape="rect" href="mysql.constants&#45;module.html" title="mysql.constants" alt="" coords="123,55,391,119" />
<area shape="rect" href="mysql.conversion.input&#45;module.html" title="mysql.conversion.input" alt="" coords="408,88,453,109" />
<area shape="rect" href="mysql.conversion.output&#45;module.html" title="mysql.conversion.output" alt="" coords="461,88,515,109" />
<area shape="rect" href="mysql.conversion&#45;module.html" title="mysql.conversion" alt="" coords="399,55,524,119" />
<area shape="rect" href="mysql.exceptions.base&#45;module.html" title="mysql.exceptions.base" alt="" coords="35,173,72,195" />
<area shape="rect" href="mysql.exceptions.client&#45;module.html" title="mysql.exceptions.client" alt="" coords="80,173,120,195" />
<area shape="rect" href="mysql.exceptions.internal&#45;module.html" title="mysql.exceptions.internal" alt="" coords="128,173,180,195" />
<area shape="rect" href="mysql.exceptions.map&#45;module.html" title="mysql.exceptions.map" alt="" coords="188,173,223,195" />
<area shape="rect" href="mysql.exceptions.server&#45;module.html" title="mysql.exceptions.server" alt="" coords="231,173,276,195" />
<area shape="rect" href="mysql.exceptions&#45;module.html" title="mysql.exceptions" alt="" coords="25,140,285,204" />
<area shape="rect" href="mysql.result&#45;module.html" title="mysql.result" alt="" coords="293,161,335,204" />
<area shape="rect" href="mysql.stmt.bind_in&#45;module.html" title="mysql.stmt.bind_in" alt="" coords="352,173,404,195" />
<area shape="rect" href="mysql.stmt.bind_out&#45;module.html" title="mysql.stmt.bind_out" alt="" coords="412,173,472,195" />
<area shape="rect" href="mysql.stmt.stmt&#45;module.html" title="mysql.stmt.stmt" alt="" coords="480,173,515,195" />
<area shape="rect" href="mysql.stmt&#45;module.html" title="mysql.stmt" alt="" coords="343,140,524,204" />
<area shape="rect" href="mysql.util._c_only&#45;module.html" title="mysql.util._c_only" alt="" coords="35,259,201,280" />
<area shape="rect" href="mysql.util.misc&#45;module.html" title="mysql.util.misc" alt="" coords="209,259,356,280" />
<area shape="rect" href="mysql.util.string&#45;module.html" title="mysql.util.string" alt="" coords="364,259,515,280" />
<area shape="rect" href="mysql.util&#45;module.html" title="mysql.util" alt="" coords="25,225,524,289" />
<area shape="rect" href="mysql&#45;module.html" title="mysql" alt="" coords="16,21,533,299" />
<area shape="rect" href="mysql&#45;module.html" title="mysql" alt="" coords="5,5,544,304" />
</map>
  <img src="package_tree_for_mysql.gif" alt='Package Tree for mysql' usemap="#package_tree_for_mysql" ismap="ismap" class="graph-with-title">
  </td></tr>
  <tr><td align='center'>
<span class="graph-title">Package Tree for mysql</span>
  </th></tr>
</table></p></center><div class="rst-section">
<h1 class="heading"><a id="rst-introduction" name="rst-introduction">Introduction</a></h1>
<p>This is an interface to MySQL 5 written in Pyrex.  See
<a class="rst-reference" href="http://www.cosc.canterbury.ac.nz/greg.ewing/python/Pyrex/" target="_top">http://www.cosc.canterbury.ac.nz/greg.ewing/python/Pyrex/</a> for more detail on
Pyrex.  Note that this library uses a slightly modified version of Pyrex. A
copy is included in the distribution in case you want to extend any of the
code.</p>
<p>There are 3 fundamental different ways to use the library.  They are:</p>
<ol class="rst-arabic simple">
<li>&quot;Simple&quot; API.  This uses MySQL's normal query API.  It is a
straightforward API of issuing SQL statements and getting results back.</li>
<li>&quot;Container&quot; API.  This API piggybacks on the &quot;simple&quot; API, but provides a
slightly more convenient way to issue queries and retrieve results in an
object-oriented environment.</li>
<li>&quot;Statement&quot; API.  The Statement API was introduced in MySQL 5.  It provides
a method to pre-parse a SQL statement on the server-side.  You can then reuse
that statement object repeatedly.  This offers a greater performance benefit
if you are repeatedly issuing the same statements.</li>
</ol>
</div>
<div class="rst-section">
<h1 class="heading"><a id="rst-connections" name="rst-connections">Connections</a></h1>
<p>Everything in the API centers around the connection object.  A connection
object represents a connection to the MySQL server.  It has a <tt class="rst-docutils literal"><span class="pre">connect</span></tt>
method to establish the connection:</p>
<pre class="rst-literal-block">
connection = mysql.connection.Connection()
connection.connect(user=USER, password=PASSWORD)
</pre>
<p>Beware the MySQL typically only allows you to perform one operation at once
on the connection.  The interface will attempt to keep track of what you are
doing and abort any previous operations (such as reading results) if it would
conflict.  Details are sprinkled throughout the API with information on which
commands will abort other unfinished operations.</p>
<p>See the <a href="mysql.connection-module.html" class="link">mysql.connection</a> module for more details on the connection object.</p>
</div>
<div class="rst-section">
<h1 class="heading"><a id="rst-simple-api" name="rst-simple-api">Simple API</a></h1>
<p>Issuing SQL statements with the simple API is relatively, well, simple:</p>
<pre class="rst-literal-block">
connection.execute(
    'INSERT INTO sometable (foo, bar) VALUES ($foo, $bar)',
    foo=42, bar=24
)
</pre>
<p>As you can see in this example, it uses Python's string template
interpolation scheme. See documentation for <tt class="rst-docutils literal"><span class="pre">paramstyle</span></tt> in
<a href="mysql.connection.Connection-class.html" class="link">mysql.connection.Connection</a> for more detail and other schemes available.</p>
<p>For INSERT/UPDATE statements, the <tt class="rst-docutils literal"><span class="pre">execute</span></tt> method will return the number
of rows affected.  For SELECT statements, it returns a <a href="mysql.result.Result-class.html" class="link">mysql.result.Result</a>
object which can be used to fetch rows:</p>
<pre class="rst-literal-block">
result = connection.execute('SELECT foo, bar FROM sometable')
for foo, bar in result:
    ...
</pre>
<div class="rst-section">
<h2 class="heading"><a id="rst-data-conversion" name="rst-data-conversion">Data Conversion</a></h2>
<p>The simple API provides a mechanism to convert between Python and MySQL data
types. MySQL values are always strings.  However, the conversion API allows
you to convert any type of input to a string, and convert certain types of
outputs to their Python data type equivalents.</p>
<p>When you create a connection object, one of the optional parameters is a
converter object.  There are some default converter objects that are used if
you do not specify one.  They have support for many data types, such as Sets,
datetime, decimal, integers, floats, strings, and more.</p>
<p>If you do not want result objects to convert values to Python data types, use
the <a href="mysql.conversion.output.No_Conversion-class.html" class="link">mysql.conversion.output.No_Conversion</a> object when creating the
connection. All values will be returned as strings as formatted by MySQL.</p>
<p>See <a href="mysql.conversion-module.html" class="link">mysql.conversion</a> for more details on the conversion API.</p>
</div>
</div>
<div class="rst-section">
<h1 class="heading"><a id="rst-container-api" name="rst-container-api">Container API</a></h1>
<p>The container API is an extension of the simple API intended to simplify
object-oriented programming.  Essentially it provides an automatic method to
get and set values from/to an object.  It centers around the
<a href="mysql.connection.Connection-class.html#exec_container" class="link">mysql.connection.Connection.exec_container</a> and
<a href="mysql.connection.Connection-class.html#exec_fetch_container" class="link">mysql.connection.Connection.exec_fetch_container</a> for inserting and
retrieving data respectively.</p>
<p>An example of how this could be used is:</p>
<pre class="rst-literal-block">
class User:

    def __init__(self, connection):
        self.connection = connection

    def load(self, id):
        self.id = id
        self.connection.exec_fetch_container(self,
            'SELECT name FROM users WHERE id=$id')

    def update(self):
        self.connection.exec_container(self,
            'UPDATE users SET name=$name WHERE id=$id')

    def create(self, name):
        self.name = name
        self.connection.exec_container(self,
            'INSERT INTO users (name) VALUES ($name)')
        self.id = self.connection.last_insert_id()
</pre>
<p>You can think of this as a little more sophisticated than the simple API, but
not quite an Object-Relational Mapping library.</p>
</div>
<div class="rst-section">
<h1 class="heading"><a id="rst-statement-api" name="rst-statement-api">Statement API</a></h1>
<p>The statement API uses a new facility introduced in MySQL 5 that allows you
to pre-parse a SQL statement on the server-side, and then reuse that statement
object for higher performance.  It also provides a mechanism for streaming
BLOB objects.</p>
<p>See <a href="mysql.stmt-module.html" class="link">mysql.stmt</a> for details and examples on using the statement API.</p>
</div>
<div class="rst-section">
<h1 class="heading"><a id="rst-exceptions" name="rst-exceptions">Exceptions</a></h1>
<p>All MySQL errors are mapped to error-specific exceptions so that you can
naturally catch the errors you are interested in.  See <a href="mysql.exceptions-module.html" class="link">mysql.exceptions</a> for
details about the exception heirarchy.</p>
</div><br /><br />

<hr />
      <p><strong>Author:</strong>
        Eric Huss
      </p>
      <p><strong>Contact:</strong>
        <a class="rst-reference" href="http://ehuss.org/mysql/" target="_top">http://ehuss.org/mysql/</a>
      </p>
      <p><strong>License:</strong>
        BSD (See <tt class="rst-docutils literal"><span class="pre">LICENSE</span></tt> file that came with distribution.)
      </p>
      <p><strong>Copyright:</strong>
        &#169; 2006 Eric Huss
      </p>
      <p><strong>Version:</strong>
        0.9.0 Alpha 1
      </p>
<!-- ==================== SUBMODULES ==================== -->
<a name="section-Submodules"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Submodules</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Submodules"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr><td class="summary">
  <ul class="nomargin">
    <li> <strong class="uidlink"><a href="mysql.connection-module.html">mysql.connection</a></strong>: <em class="summary">Connection object used to communicate with the MySQL server.</em></li>
    <li> <strong class="uidlink"><a href="mysql.constants-module.html">mysql.constants</a></strong>: <em class="summary">Subpackage of constants used in the MySQL library.</em></li>
    <ul>
    <li> <strong class="uidlink"><a href="mysql.constants.client_flags-module.html">mysql.constants.client_flags</a></strong>: <em class="summary">Flags used for connecting to the server.</em></li>
    <li> <strong class="uidlink"><a href="mysql.constants.field_flags-module.html">mysql.constants.field_flags</a></strong>: <em class="summary">Flags used in the <tt class="rst-rst-docutils literal rst-docutils literal"><span class="pre">flags</span></tt> attribute of the <a href="mysql.result.Field-class.html" class="link">mysql.result.Field</a> object.</em></li>
    <li> <strong class="uidlink"><a href="mysql.constants.field_types-module.html">mysql.constants.field_types</a></strong>: <em class="summary">Identifiers of different field types.</em></li>
    </ul>
    </li>
    <li> <strong class="uidlink"><a href="mysql.conversion-module.html">mysql.conversion</a></strong>: <em class="summary">Data type conversion code for the <a href="mysql.connection.Connection-class.html#execute" class="link">mysql.connection.Connection.execute</a> API.</em></li>
    <ul>
    <li> <strong class="uidlink"><a href="mysql.conversion.input-module.html">mysql.conversion.input</a></strong>: <em class="summary">Input Conversion converts Python data types to be made appropriate for MySQL
parameters.</em></li>
    <li> <strong class="uidlink"><a href="mysql.conversion.output-module.html">mysql.conversion.output</a></strong>: <em class="summary">Output Conversion converts values from MySQL (which are always strings) to Python data types.</em></li>
    </ul>
    </li>
    <li> <strong class="uidlink"><a href="mysql.exceptions-module.html">mysql.exceptions</a></strong>: <em class="summary">All MySQL exceptions.</em></li>
    <ul>
    <li> <strong class="uidlink"><a href="mysql.exceptions.base-module.html">mysql.exceptions.base</a></strong>: <em class="summary">Base exception classes.</em></li>
    <li> <strong class="uidlink"><a href="mysql.exceptions.client-module.html">mysql.exceptions.client</a></strong>: <em class="summary">Exceptions from the MySQL client API.</em></li>
    <li> <strong class="uidlink"><a href="mysql.exceptions.internal-module.html">mysql.exceptions.internal</a></strong>: <em class="summary">Internal errors from the MySQL Python code.</em></li>
    <li> <strong class="uidlink"><a href="mysql.exceptions.map-module.html">mysql.exceptions.map</a></strong>: <em class="summary">Mapping of MySQL internal error codes to exception objects.</em></li>
    <li> <strong class="uidlink"><a href="mysql.exceptions.server-module.html">mysql.exceptions.server</a></strong>: <em class="summary">Exceptions from the MySQL server.</em></li>
    </ul>
    </li>
    <li> <strong class="uidlink"><a href="mysql.result-module.html">mysql.result</a></strong>: <em class="summary">Result object for SQL queries.</em></li>
    <li> <strong class="uidlink"><a href="mysql.stmt-module.html">mysql.stmt</a></strong>: <em class="summary">MySQL Statement API.</em></li>
    <ul>
    <li> <strong class="uidlink"><a href="mysql.stmt.bind_in-module.html">mysql.stmt.bind_in</a></strong>: <em class="summary">MySQL Statement Input Binding.</em></li>
    <li> <strong class="uidlink"><a href="mysql.stmt.bind_out-module.html">mysql.stmt.bind_out</a></strong>: <em class="summary">MySQL Statement Output Binding.</em></li>
    <li> <strong class="uidlink"><a href="mysql.stmt.stmt-module.html">mysql.stmt.stmt</a></strong>: <em class="summary">MySQL Statement object.</em></li>
    </ul>
    </li>
    <li> <strong class="uidlink"><a href="mysql.util-module.html">mysql.util</a></strong>: <em class="summary">Subpackage of internal utility modules.</em></li>
    <ul>
    <li class="private"> <strong class="uidlink"><a href="mysql.util._c_only-module.html">mysql.util._c_only</a></strong>: <em class="summary">Internal module of C helper functions.</em></li>
    <li> <strong class="uidlink"><a href="mysql.util.misc-module.html">mysql.util.misc</a></strong>: <em class="summary">Miscellaneous utility functions.</em></li>
    <li> <strong class="uidlink"><a href="mysql.util.string-module.html">mysql.util.string</a></strong>: <em class="summary">Internal string manipulation routines.</em></li>
    </ul>
    </li>
  </ul></td></tr>
</table>

<br />
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Variables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr class="private">
  <td width="15%" align="right" valign="top" class="summary">
    <code class="summary-type">&nbsp;</code>
  </td><td class="summary">
    <a href="mysql-module.html#__version__">__version__</a> = <code title="'0.9.0a1'">'0.9.0a1'</code>
  </td>
</tr>
</table>

<br />
<!-- ==================== VARIABLES DETAILS ==================== -->
<a name="section-VariablesDetails"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-VariablesDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="__version__"></a>
<div class="private">
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <h3 class="epydoc">__version__</h3>
  
  <dl><dt></dt><dd>
    <dl><dt>Value:</dt>
      <dd><table><tr><td><pre class="variable">
<span class="variable-quote">'</span>0.9.0a1<span class="variable-quote">'</span>                                                              
      </pre></td></tr></table></dd>
    </dl>
  </dd></dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th bgcolor="#70b0f0" class="navbar-select"
          >&nbsp;&nbsp;&nbsp;Home&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">Generated by Epydoc
        3.0alpha3 on Sun Nov 12 20:01:26 2006</td>
    <td align="right" class="footer">
      <a href="http://epydoc.sourceforge.net">http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie()
  // -->
</script>
  
</body>
</html>
