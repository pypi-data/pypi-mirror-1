<div id="slides-view"
     lang="en"
     xml:lang="en"
     xmlns="http://www.w3.org/1999/xhtml"
     xmlns:tal="http://xml.zope.org/namespaces/tal"
     xmlns:metal="http://xml.zope.org/namespaces/metal"
     xmlns:i18n="http://xml.zope.org/namespaces/i18n"
     i18n:domain="plone">
     
     <style tal:content="structure view/css" />
     
     <input 
        type="hidden" 
        id="slides-view-url" 
        tal:attributes="value string:${view/call_context/absolute_url}/slides"
    />
    <p class='discreet'><tal:empty tal:replace="python: len(view.settings.slides)" /> total slides</p>
        <tal:rep tal:repeat="slide view/settings/slides">
            <div class="slide">
                <li tal:content="structure slide" />
                <div class="slide-buttons">
                    <a class="edit" tal:attributes="href string:${view/call_context/absolute_url}/slides/${repeat/slide/index}">
                        edit
                    </a> | 
                    <a class="move-up" tal:attributes="href string:${view/call_context/absolute_url}/slides/${repeat/slide/index}/@@move_up">
                        up
                    </a> | 
                    <a class="move-down" tal:attributes="href string:${view/call_context/absolute_url}/slides/${repeat/slide/index}/@@move_down">
                        down
                    </a> | 
                    <a class="remove" tal:attributes="href string:${view/call_context/absolute_url}/slides/${repeat/slide/index}/@@remove">
                        remove
                    </a>
                </div>
            </div>
        </tal:rep>

        <a class='add-new' 
            tal:attributes="href string:${view/call_context/absolute_url}/slides/-1">
            add new slide
        </a>
</div>
