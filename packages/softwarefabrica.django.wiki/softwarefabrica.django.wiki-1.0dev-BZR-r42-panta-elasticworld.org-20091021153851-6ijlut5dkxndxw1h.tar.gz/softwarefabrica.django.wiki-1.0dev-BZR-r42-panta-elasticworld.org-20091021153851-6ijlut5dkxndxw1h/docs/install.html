<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.4.1: http://docutils.sourceforge.net/" />
<title>How to install Softwarefabrica Django Wiki</title>
<style type="text/css">

/*
:Author: David Goodger
:Contact: goodger@users.sourceforge.net
:Date: $Date: 2005-12-18 01:56:14 +0100 (Sun, 18 Dec 2005) $
:Revision: $Revision: 4224 $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin-left: 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left {
  clear: left }

img.align-right {
  clear: right }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font-family: serif ;
  font-size: 100% }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;
  background-color: #eeeeee }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

tt.docutils {
  background-color: #eeeeee }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="how-to-install-softwarefabrica-django-wiki">
<span id="topics-install"></span><h1 class="title">How to install Softwarefabrica Django Wiki</h1>
<div class="admonition-about-this-document admonition">
<p class="first admonition-title">About this document</p>
<p class="last">This document describes how to install Softwarefabrica Django Wiki and use it
in your Django applications.</p>
</div>
<div class="contents topic">
<p class="topic-title first"><a id="contents" name="contents">Contents</a></p>
<ul class="simple">
<li><a class="reference" href="#id1" id="id11" name="id11">Pre-requisites</a></li>
<li><a class="reference" href="#installing-an-official-release" id="id12" name="id12">Installing an official release</a><ul>
<li><a class="reference" href="#binary-distribution" id="id13" name="id13">Binary distribution</a></li>
<li><a class="reference" href="#source-distribution" id="id14" name="id14">Source distribution</a></li>
<li><a class="reference" href="#windows-installer" id="id15" name="id15">Windows installer</a></li>
</ul>
</li>
<li><a class="reference" href="#installing-the-development-version" id="id16" name="id16">Installing the development version</a></li>
<li><a class="reference" href="#using-the-wiki-in-your-projects" id="id17" name="id17">Using the wiki in your projects</a></li>
<li><a class="reference" href="#id7" id="id18" name="id18">Utilities</a></li>
<li><a class="reference" href="#id9" id="id19" name="id19">Demo project</a></li>
</ul>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id11" id="id1" name="id1"><span id="pre-requisites"></span>Pre-requisites</a></h1>
<p>This library depends on <a class="reference" href="http://pypi.python.org/pypi/softwarefabrica.django.utils">softwarefabrica.django.utils</a>,
<a class="reference" href="http://pypi.python.org/pypi/softwarefabrica.django.forms">softwarefabrica.django.forms</a>, <a class="reference" href="http://pypi.python.org/pypi/softwarefabrica.django.crud">softwarefabrica.django.crud</a> and <a class="reference" href="http://pypi.python.org/pypi/sflib">sflib</a>
from the same author.
If you use <a class="reference" href="http://peak.telecommunity.com/DevCenter/EasyInstall">EasyInstall</a>, as outlined below, dependencies will be satisfied
automatically (the <tt class="docutils literal"><span class="pre">easy_install</span></tt> command will take care of everything).</p>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id12" id="installing-an-official-release" name="installing-an-official-release"><span id="installing-official-release"></span>Installing an official release</a></h1>
<p>Official releases are made available from <a class="reference" href="http://pypi.python.org/pypi">PyPI</a></p>
<p><a class="reference" href="http://pypi.python.org/pypi/softwarefabrica.django.wiki">http://pypi.python.org/pypi/softwarefabrica.django.wiki</a></p>
<div class="section">
<h2><a class="toc-backref" href="#id13" id="binary-distribution" name="binary-distribution">Binary distribution</a></h2>
<p>If you have <a class="reference" href="http://peak.telecommunity.com/DevCenter/EasyInstall">EasyInstall</a> available, you can download and install the most
up-to-date version in one step. For example, on a unix-like system:</p>
<pre class="literal-block">
$ su
# easy_install softwarefabrica.django.wiki
</pre>
<p>If you are using Ubuntu, to install system-wide:</p>
<pre class="literal-block">
$ sudo easy_install softwarefabrica.django.wiki
</pre>
<p>Otherwise, if <a class="reference" href="http://peak.telecommunity.com/DevCenter/EasyInstall">EasyInstall</a> is not available, you can just download (eg. from
<a class="reference" href="http://pypi.python.org/pypi">PyPI</a>) the right <a class="reference" href="http://pypi.python.org/pypi/softwarefabrica.django.wiki">distribution</a> for your platform and Python version, extract
it and run the usual <tt class="docutils literal"><span class="pre">setup.py</span></tt> commands:</p>
<pre class="literal-block">
$ su
# python setup.py install
</pre>
<p>These commands will install the software in your Python installation's
<tt class="docutils literal"><span class="pre">site-packages</span></tt> directory.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id14" id="source-distribution" name="source-distribution"><span id="source-distribution-installation"></span>Source distribution</a></h2>
<p>If you have <a class="reference" href="http://peak.telecommunity.com/DevCenter/EasyInstall">EasyInstall</a> available, you can download and extract the most
up-to-date source distribution in one step. For example, on a unix-like system:</p>
<pre class="literal-block">
easy_install --editable --build-directory ~/projects softwarefabrica.django.wiki
</pre>
<p>Then from the <tt class="docutils literal"><span class="pre">softwarefabrica.django.wiki</span></tt> directory you can run the
<tt class="docutils literal"><span class="pre">setup.py</span> <span class="pre">develop</span></tt> command to install the library in your Python
<cite>site-packages</cite> directory using a link, which allows to continue developing
inside the working tree without the need to re-install after every change. See
the <a class="reference" href="http://peak.telecommunity.com/DevCenter/setuptools#development-mode">setuptools development mode</a> documention for more information:</p>
<pre class="literal-block">
$ python setup.py build
$ sudo
# python setup.py develop
</pre>
<p>Otherwise, if <a class="reference" href="http://peak.telecommunity.com/DevCenter/EasyInstall">EasyInstall</a> is not available, you can just download the <a class="reference" href="http://pypi.python.org/pypi/softwarefabrica.django.wiki">source
distribution</a> (eg. from <a class="reference" href="http://pypi.python.org/pypi">PyPI</a>), extract it and run the usual <tt class="docutils literal"><span class="pre">setup.py</span></tt> commands:</p>
<pre class="literal-block">
$ su
# python setup.py install
</pre>
<p>This command will install the software in your Python installation's
<tt class="docutils literal"><span class="pre">site-packages</span></tt> directory.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="#id15" id="windows-installer" name="windows-installer">Windows installer</a></h2>
<p>A Windows installer will be made available in a next release.</p>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id16" id="installing-the-development-version" name="installing-the-development-version"><span id="installing-development-version"></span>Installing the development version</a></h1>
<p>Alternatively, if you'd like to update the software occasionally to pick
up the latest bug fixes and enhancements before they make it into an
offical release, branch from the <a class="reference" href="http://bazaar-vcs.org/">Bazaar</a> repository hosted on <a class="reference" href="http://launchpad.net">LaunchPad</a>
instead.
Just follow the procedure outlined below:</p>
<ol class="arabic">
<li><p class="first">Make sure that you have <a class="reference" href="http://bazaar-vcs.org/">Bazaar</a> installed, and that you can run its
commands from a shell. (Enter <tt class="docutils literal"><span class="pre">bzr</span> <span class="pre">help</span></tt> at a shell prompt to test
this.)</p>
</li>
<li><p class="first">Create a local branch and working tree from the official one:</p>
<pre class="literal-block">
bzr branch lp:sf-django-wiki sf-wiki
</pre>
</li>
<li><p class="first">Then from the <tt class="docutils literal"><span class="pre">sf-wiki</span></tt> directory you can run the <tt class="docutils literal"><span class="pre">setup.py</span> <span class="pre">develop</span></tt>
command to install the library in your Python <cite>site-packages</cite> directory
using a link, which allows to continue developing inside the working tree
without the need to re-install after every change. See the
<a class="reference" href="http://peak.telecommunity.com/DevCenter/setuptools#development-mode">setuptools development mode</a> documention for more information:</p>
<pre class="literal-block">
$ python setup.py build
$ sudo
# python setup.py develop
</pre>
</li>
<li><p class="first">You can verify that the application is available on your <a class="reference" href="http://docs.python.org/tut/node8.html#SECTION008110000000000000000">PYTHONPATH</a> by
opening a Python interpreter and entering the following commands:</p>
<pre class="literal-block">
&gt;&gt;&gt; from softwarefabrica.django.wiki import version
&gt;&gt;&gt; version.VERSION
(1, 0, 'dev')
&gt;&gt;&gt; version.get_version()
u'1.0-dev-BZR-rXX-panta&#64;elasticworld.org-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX'
</pre>
</li>
</ol>
<p>When you want to update your copy of the library source code, run the command
<tt class="docutils literal"><span class="pre">bzr</span> <span class="pre">pull</span></tt> from within the <tt class="docutils literal"><span class="pre">sf-wiki</span></tt> directory:</p>
<pre class="literal-block">
bzr pull
python setup.py build
sudo python setup.py develop
</pre>
<p>(you need to re-run the <tt class="docutils literal"><span class="pre">setup.py</span> <span class="pre">develop</span></tt> command after every working tree
update, to update version numbers in script wrappers).</p>
<div class="caution">
<p class="first admonition-title">Caution!</p>
<p>The development version may contain bugs which are not present in the
release version and introduce backwards-incompatible changes.</p>
<p class="last">If you're tracking trunk, keep an eye on the <a class="reference" href="http://bazaar.launchpad.net/~softwarefabrica/sf-django-wiki/trunk/changes">changes</a> before you update
your copy of the source code.</p>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id17" id="using-the-wiki-in-your-projects" name="using-the-wiki-in-your-projects">Using the wiki in your projects</a></h1>
<p>Once you've installed the library and want to use it in your Django
projects:</p>
<ol class="arabic">
<li><p class="first">put <tt class="docutils literal"><span class="pre">'softwarefabrica.django.forms'</span></tt> in your <tt class="docutils literal"><span class="pre">INSTALLED_APPS</span></tt> setting,
after its dependencies (<tt class="docutils literal"><span class="pre">'softwarefabrica.django.utils'</span></tt>,
<tt class="docutils literal"><span class="pre">'softwarefabrica.django.forms'</span></tt>, <tt class="docutils literal"><span class="pre">'softwarefabrica.django.crud'</span></tt> and
<tt class="docutils literal"><span class="pre">'django.contrib.markup'</span></tt>):</p>
<pre class="literal-block">
INSTALLED_APPS = (
    ...
     'django.contrib.markup',
    'softwarefabrica.django.utils',
    'softwarefabrica.django.forms',
    'softwarefabrica.django.crud',
    'softwarefabrica.django.wiki',
)
</pre>
</li>
<li><p class="first">make sure that you have
<tt class="docutils literal"><span class="pre">'django.template.loaders.app_directories.load_template_source'</span></tt> in your
<tt class="docutils literal"><span class="pre">TEMPLATE_LOADERS</span></tt> setting.</p>
</li>
<li><p class="first">add <tt class="docutils literal"><span class="pre">'softwarefabrica.django.utils.viewshelpers.context_vars'</span></tt> to your
<tt class="docutils literal"><span class="pre">TEMPLATE_CONTEXT_PROCESSORS</span></tt> setting. Typically it should be:</p>
<pre class="literal-block">
TEMPLATE_CONTEXT_PROCESSORS = (
    'django.core.context_processors.auth',
    'django.core.context_processors.debug',
    'django.core.context_processors.i18n',
    'django.core.context_processors.media',
    'django.core.context_processors.request',
    'softwarefabrica.django.utils.viewshelpers.context_vars',
)
</pre>
</li>
<li><p class="first">Extract the <tt class="docutils literal"><span class="pre">jscalendar-1.0.zip</span></tt> Javascript calendar provided with
<a class="reference" href="http://pypi.python.org/pypi/softwarefabrica.django.forms">softwarefabrica.django.forms</a> inside your static media javascript
directory:</p>
<pre class="literal-block">
cd MY_PROJECT/static_media
mkdir js
cd js
unzip ~/sf-django-forms/jscalendar-1.0.zip
ln -s jscalendar-1.0 jscalendar
</pre>
</li>
<li><p class="first">include the necessary Javascript bits in your base template
<tt class="docutils literal"><span class="pre">&lt;head&gt;...&lt;/head&gt;</span></tt> portion, as described in the
<a class="reference" href="http://pypi.python.org/pypi/softwarefabrica.django.forms">softwarefabrica.django.forms</a> modules documentation. Typically:</p>
<pre class="literal-block">
&lt;head&gt;
...
  &lt;!-- calendar --&gt;
  &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;{{ js }}/jscalendar/calendar-win2k-cold-2.css&quot; /&gt;
  &lt;script type=&quot;text/javascript&quot; src=&quot;{{ js }}/jscalendar/calendar.js&quot;&gt;&lt;/script&gt;
  &lt;!-- this is translation file - choose your language here --&gt;
  &lt;script type=&quot;text/javascript&quot; src=&quot;{{ js }}/jscalendar/lang/calendar-{% if request.LANGUAGE_CODE %}{{ request.LANGUAGE_CODE }}{% else %}en{% endif %}.js&quot;&gt;&lt;/script&gt;
  &lt;script type=&quot;text/javascript&quot; src=&quot;{{ js }}/jscalendar/calendar-setup.js&quot;&gt;&lt;/script&gt;
  &lt;!-- /calendar --&gt;
  &lt;!-- softwarefabrica.django.forms --&gt;
  &lt;script language=&quot;javascript&quot; type=&quot;text/javascript&quot;&gt;
  &lt;!--
  {% include &quot;forms/js/Related.js&quot; %}
  // --&gt;
  &lt;/script&gt;
  &lt;!-- /softwarefabrica.django.forms --&gt;
&lt;/head&gt;
</pre>
</li>
<li><p class="first">Add a proper line in your root URLconf to point to the wiki URLs, such
as:</p>
<pre class="literal-block">
(r'wiki/', include('softwarefabrica.django.wiki.urls')),
</pre>
</li>
<li><p class="first">Run the <tt class="docutils literal"><span class="pre">manage.py</span> <span class="pre">syncdb</span></tt> command:</p>
<pre class="literal-block">
python manage.py syncdb
</pre>
</li>
</ol>
<p>That's it!</p>
<p>See the <a class="reference" href="#demo-project">demo project</a> for a complete example.</p>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id18" id="id7" name="id7"><span id="utilities"></span>Utilities</a></h1>
<p>See the <a class="reference" href="utilities.html">utilities guide document</a>.</p>
</div>
<div class="section">
<h1><a class="toc-backref" href="#id19" id="id9" name="id9"><span id="id8"></span><span id="demo-project"></span>Demo project</a></h1>
<p>There is a demo project included, which should give an example on how to use the
wiki application. It's available in the <tt class="docutils literal"><span class="pre">demoproj</span></tt> subdirectory.</p>
<p>To run the development server on the demo project, enter the directory, set
<tt class="docutils literal"><span class="pre">DJANGO_SETTINGS_MODULE</span></tt>, then run <tt class="docutils literal"><span class="pre">manage.py</span> <span class="pre">syncdb</span></tt> and <tt class="docutils literal"><span class="pre">manage.py</span>
<span class="pre">runserver</span></tt>:</p>
<pre class="literal-block">
$ cd demoproj
$ export DJANGO_SETTINGS_MODULE=demoproj.settings
$ python manage.py syncdb
$ python manage.py runserver
</pre>
<p>or just use the included <tt class="docutils literal"><span class="pre">setup</span></tt> shell script to set environment variables (it
must be <cite>sourced</cite>):</p>
<pre class="literal-block">
$ cd demoproj
$ . setup
$ python manage.py syncdb
$ python manage.py runserver
</pre>
<p>At this point you can already use the wiki, by visiting <tt class="docutils literal"><span class="pre">http://localhost:8000</span></tt>.
But if you want to benefit from the extended calendar date and datetime fields,
you have to perform one additional step. You need to go into the Javascript
directory of <tt class="docutils literal"><span class="pre">demoproj</span></tt> and unzip the <a class="reference" href="http://prdownloads.sourceforge.net/jscalendar/jscalendar-1.0.zip?download">jscalendar</a> DHTML calendar. You can
find a copy in <a class="reference" href="http://pypi.python.org/pypi/softwarefabrica.django.forms">softwarefabrica.django.forms</a>:</p>
<pre class="literal-block">
$ cd demoproj
$ cd static_media/js
$ unzip ~/sf-django-forms/jscalendar-1.0.zip
$ mv jscalendar-1.0 jscalendar
$ cd ../..
$ python manage.py syncdb
$ python manage.py runserver
</pre>
<p>Then point your browser at <tt class="docutils literal"><span class="pre">http://localhost:8000</span></tt>.</p>
<p>The administration is at at <tt class="docutils literal"><span class="pre">http://localhost:8000/admin</span></tt>. The default administrator
user is <tt class="docutils literal"><span class="pre">wiki</span></tt>, with password <tt class="docutils literal"><span class="pre">wiki</span></tt>. Don't use it on production :-)</p>
<div class="caution">
<p class="first admonition-title">Caution!</p>
<p class="last">If you are using the demo project from an installed distribution, keep in
mind that you won't be able to write to the database unless you are the user
that has installed the package (usually the system administrator -
<tt class="docutils literal"><span class="pre">root</span></tt>). To avoid the related run-time errors, it's recommended to run the
demo project from a source distribution (see <a class="reference" href="#source-distribution-installation">source distribution installation</a>).</p>
</div>
</div>
</div>
</body>
</html>
