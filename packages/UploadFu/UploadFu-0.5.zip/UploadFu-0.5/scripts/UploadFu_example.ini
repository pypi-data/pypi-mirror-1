name = "itune.ro upload"
# name of this profile - this name will show in the context menu

watch_upload_console = False
# or set to False if you don't want a console attached to the upload process 
# when started from a watch process. 

watcher_sleep = 5
# a delay in seconds till the upload starts - some times moves are done in 
#multiple steps and we need to wait a bit till it completes

torrent_comment = 'uploadfu powa !'
# some comment to add in the torrent

html_filter = '<h3>.*?(?=[\s\n]*</td>)'
# this is for debugging purposes - will trim the crap from the logs

base = "http://www.itune.ro"

base_url = "${base}/"
# in this page we'll check for login_check_string

login_check_string = '<a href="logout.php'
# a string to check if we are logged in

# should not be used - as there is a captcha inplace
login_url = "${base}/login.php"
login_action = "login.php"

# must use browser cookies
login_cookies_type = 'mozilla'
login_cookies_path = r".cookies"

# or you could use these if tracker as a captcha login or other 
#unusual login mechanisms

#login_cookies_type = 'ie'

#login_cookies_type = 'mozilla'
#login_cookies_path = r"path to mozilla profile\cookies.txt"


announce_url = '${base}/announce.php?passkey=[snip]'
# replace [snip] with your passkey

upload_url = '${base}/upload.php'
# upload page

upload_action = 'takeupload.php'
# upload form submit page

piece_size = 17
# piece size is in power of 2 
#   17 = 128kb
#   18 = 256kb

download_url_regex = "download\.php/\d+/.*" 
# regex to find a download link after the upload is done

torrent_handler = r'"C:\Program Files\uTorrent\uTorrent.exe" /directory "%(dl_dir)s" "%(torrent_file)s"'
# no tested with other client atm, sorry

username_field = 'username'
username_value = '[snip]'
password_field = 'password'
password_value = '[snip]'
# replace [snip] with you credentials



# comment these out if you don't want anything to happen after successfull upload
upload_success_browse = '${base}/edit.php?id=%(id)s'
upload_success_run = ''


[upload]
# these are the upload form values
# %(name)s in the strings will be replaced with the result of nfo_regexes
# also, there are 2 special ones: 
#   _nfo_ (nfo content)
#   _basename_ (torrent name)
#   _fullname_ (torennt name including path)


#description = "Genre: Soundtrack"
# or with nfo_regex:
description = "Genre: %(desc_match)s"

req = ["no"]
# req = ["yes"]

# banned = ['1']
#  - for staff only

banned = []
strip = ['strip']
type = ['%(categ_match)s'] 

[upload_map]
description = 'descr'
torrentname = 'name'
nfofile = 'nfo'
torrentfile = 'file'

#use page regexes to put some values in upload_success actions
[page_regex]
id = ['href="download\.php/(\d+)/.*"']

[page_regex_defaults]
id = ''

#use nfo regexes to put some variables in the upload fields
[nfo_regex]

desc_match = [ ".*?\W(?:genre|effect)\W\W*([-'\w]+)\W+.*", ".*?\W(?:style)\W\W*([-'\w]+)\W+.*", ".*?\W(?:type)\W\W*([-'\w]+)\W+.*", ".*?(?:genre|effect).*?:.*?([-'\w]+)\W+.*", ".*?(?:style).*?:.*?([-'\w]+)\W+.*", ".*?(?:type).*?:.*?([-'\w]+)\W+.*" ]

    [[categ_match]]
    data = "%(desc_match)s"
    # you can also use _nfo_, _basename_, _fullname_
                    
    result = [("Alternative", "43"), ("Ambiental", "69"), ("Arabic", "72"), ("Blues", "73"), ("Break'Beat", "75"), ("Country", "44"), ("Dance", "45"), ("(Drum.*|dnb)", "46"), ("Electronic", "47"), ("Hardcore", "70"), ("Hip-Hop", "48"), ("House", "49"), ("Jazz", "74"), ("Latino", "71"), ("Lautareasca", "68"), ("Manele", "37"), ("Metal", "50"), ("OST", "53"), ("Old Music", "51"), ("Other", "54"), ("Pop", "55"), ("Psy.*", "56"), ("Punk", "57"), ("R'n'B", "65"), ("Rap", "59"), ("Reggae", "58"), ("Rock", "60"), ("Romaneasca", "66"), ("Techno", "63"), ("Trance", "62"), ('.*', '54')]
    

[nfo_regex_defaults]

desc_match = 'n/a'

