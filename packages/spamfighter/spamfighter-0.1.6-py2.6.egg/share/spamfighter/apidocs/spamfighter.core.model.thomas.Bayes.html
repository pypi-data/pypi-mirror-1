<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>API docs for &ldquo;spamfighter.core.model.thomas.Bayes&rdquo;</title>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type" />
    <link href="apidocs.css" type="text/css" rel="stylesheet" />
    
    
  </head>
  <body>
    <h1 class="class">Class s.c.m.t.Bayes(<span title="object">object</span>):</h1>
    <p>
      <span id="part">Part of <a href="spamfighter.html">spamfighter</a>.<a href="spamfighter.core.html">core</a>.<a href="spamfighter.core.model.html">model</a>.<a href="spamfighter.core.model.thomas.html">thomas</a></span>
      <a href="http://spam-fighter.ru/browser/thomas.py#L27">View Source</a>
      <a href="classIndex.html#spamfighter.core.model.thomas.Bayes">View In Hierarchy</a>
    </p>
    <div>
      
    </div>
    <div class="undocumented">No class docstring</div>

    
    
    <div id="splitTables">
      <table class="children sortable" id="id134">
  
  
<tr class="method">
    
    
    <td>Method</td>
    <td><a href="spamfighter.core.model.thomas.Bayes.html#__init__">__init__</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="spamfighter.core.model.thomas.Bayes.html#commit">commit</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="spamfighter.core.model.thomas.Bayes.html#newPool">newPool</a></td>
    <td><span>Create a new pool, without actually doing any</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="spamfighter.core.model.thomas.Bayes.html#removePool">removePool</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="spamfighter.core.model.thomas.Bayes.html#renamePool">renamePool</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="spamfighter.core.model.thomas.Bayes.html#mergePools">mergePools</a></td>
    <td><span>Merge an existing pool into another.</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="spamfighter.core.model.thomas.Bayes.html#poolData">poolData</a></td>
    <td><span>Return a list of the (token, count) tuples.</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="spamfighter.core.model.thomas.Bayes.html#poolTokens">poolTokens</a></td>
    <td><span>Return a list of the tokens in this pool.</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="spamfighter.core.model.thomas.Bayes.html#save">save</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="spamfighter.core.model.thomas.Bayes.html#load">load</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="spamfighter.core.model.thomas.Bayes.html#poolNames">poolNames</a></td>
    <td><span>Return a sorted list of Pool names.</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="spamfighter.core.model.thomas.Bayes.html#buildCache">buildCache</a></td>
    <td><span>merges corpora and computes probabilities</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="spamfighter.core.model.thomas.Bayes.html#poolProbs">poolProbs</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="spamfighter.core.model.thomas.Bayes.html#getTokens">getTokens</a></td>
    <td><span>By default, we expect obj to be a screen and split</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="spamfighter.core.model.thomas.Bayes.html#getProbs">getProbs</a></td>
    <td><span>extracts the probabilities of tokens in a message</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="spamfighter.core.model.thomas.Bayes.html#train">train</a></td>
    <td><span>Train Bayes by telling him that item belongs</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="spamfighter.core.model.thomas.Bayes.html#untrain">untrain</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="spamfighter.core.model.thomas.Bayes.html#trainedOn">trainedOn</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="spamfighter.core.model.thomas.Bayes.html#guess">guess</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="spamfighter.core.model.thomas.Bayes.html#robinson">robinson</a></td>
    <td><span>computes the probability of a message being spam (Robinson's method)</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="spamfighter.core.model.thomas.Bayes.html#robinsonFisher">robinsonFisher</a></td>
    <td><span>computes the probability of a message being spam (Robinson-Fisher 
method)</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="spamfighter.core.model.thomas.Bayes.html#__repr__">__repr__</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method">
    
    
    <td>Method</td>
    <td><a href="spamfighter.core.model.thomas.Bayes.html#__len__">__len__</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    
    <td>Method</td>
    <td><a href="spamfighter.core.model.thomas.Bayes.html#_train">_train</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="method private">
    
    
    <td>Method</td>
    <td><a href="spamfighter.core.model.thomas.Bayes.html#_untrain">_untrain</a></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
  
</table>
      
      
    </div>
    
    
    

    <div class="function">
  <a name="spamfighter.core.model.thomas.Bayes.__init__">
    
  </a>
  <a name="__init__">
    
  </a>
  <div class="functionHeader">
    
    def
    __init__(self, tokenizer=None, combiner=None, dataClass=None):
    <a href="http://spam-fighter.ru/browser/thomas.py#L29" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="function">
  <a name="spamfighter.core.model.thomas.Bayes.commit">
    
  </a>
  <a name="commit">
    
  </a>
  <div class="functionHeader">
    
    def
    commit(self):
    <a href="http://spam-fighter.ru/browser/thomas.py#L51" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="function">
  <a name="spamfighter.core.model.thomas.Bayes.newPool">
    
  </a>
  <a name="newPool">
    
  </a>
  <div class="functionHeader">
    
    def
    newPool(self, poolName):
    <a href="http://spam-fighter.ru/browser/thomas.py#L54" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Create a new pool, without actually doing any training.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="spamfighter.core.model.thomas.Bayes.removePool">
    
  </a>
  <a name="removePool">
    
  </a>
  <div class="functionHeader">
    
    def
    removePool(self, poolName):
    <a href="http://spam-fighter.ru/browser/thomas.py#L61" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="function">
  <a name="spamfighter.core.model.thomas.Bayes.renamePool">
    
  </a>
  <a name="renamePool">
    
  </a>
  <div class="functionHeader">
    
    def
    renamePool(self, poolName, newName):
    <a href="http://spam-fighter.ru/browser/thomas.py#L65" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="function">
  <a name="spamfighter.core.model.thomas.Bayes.mergePools">
    
  </a>
  <a name="mergePools">
    
  </a>
  <div class="functionHeader">
    
    def
    mergePools(self, destPool, sourcePool):
    <a href="http://spam-fighter.ru/browser/thomas.py#L71" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Merge an existing pool into another. The data from sourcePool is merged 
into destPool. The arguments are the names of the pools to be merged. The 
pool named sourcePool is left in tact and you may want to call removePool()
to get rid of it.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="spamfighter.core.model.thomas.Bayes.poolData">
    
  </a>
  <a name="poolData">
    
  </a>
  <div class="functionHeader">
    
    def
    poolData(self, poolName):
    <a href="http://spam-fighter.ru/browser/thomas.py#L88" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Return a list of the (token, count) tuples.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="spamfighter.core.model.thomas.Bayes.poolTokens">
    
  </a>
  <a name="poolTokens">
    
  </a>
  <div class="functionHeader">
    
    def
    poolTokens(self, poolName):
    <a href="http://spam-fighter.ru/browser/thomas.py#L93" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Return a list of the tokens in this pool.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="spamfighter.core.model.thomas.Bayes.save">
    
  </a>
  <a name="save">
    
  </a>
  <div class="functionHeader">
    
    def
    save(self, fname='bayesdata.dat'):
    <a href="http://spam-fighter.ru/browser/thomas.py#L98" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="function">
  <a name="spamfighter.core.model.thomas.Bayes.load">
    
  </a>
  <a name="load">
    
  </a>
  <div class="functionHeader">
    
    def
    load(self, fname='bayesdata.dat'):
    <a href="http://spam-fighter.ru/browser/thomas.py#L104" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="function">
  <a name="spamfighter.core.model.thomas.Bayes.poolNames">
    
  </a>
  <a name="poolNames">
    
  </a>
  <div class="functionHeader">
    
    def
    poolNames(self):
    <a href="http://spam-fighter.ru/browser/thomas.py#L112" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Return a sorted list of Pool names. Does not include the system pool 
'__Corpus__'.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="spamfighter.core.model.thomas.Bayes.buildCache">
    
  </a>
  <a name="buildCache">
    
  </a>
  <div class="functionHeader">
    
    def
    buildCache(self):
    <a href="http://spam-fighter.ru/browser/thomas.py#L122" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>merges corpora and computes probabilities<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="spamfighter.core.model.thomas.Bayes.poolProbs">
    
  </a>
  <a name="poolProbs">
    
  </a>
  <div class="functionHeader">
    
    def
    poolProbs(self):
    <a href="http://spam-fighter.ru/browser/thomas.py#L155" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="function">
  <a name="spamfighter.core.model.thomas.Bayes.getTokens">
    
  </a>
  <a name="getTokens">
    
  </a>
  <div class="functionHeader">
    
    def
    getTokens(self, obj):
    <a href="http://spam-fighter.ru/browser/thomas.py#L161" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>By default, we expect obj to be a screen and split it on whitespace.</p>
<p>Note that this does not change the case. In some applications you may 
want to lowecase everthing so that &quot;king&quot; and &quot;King&quot; 
generate the same token.</p>
<p>Override this in your subclass for objects other than text.</p>
<p>Alternatively, you can pass in a tokenizer as part of instance 
creation.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="spamfighter.core.model.thomas.Bayes.getProbs">
    
  </a>
  <a name="getProbs">
    
  </a>
  <div class="functionHeader">
    
    def
    getProbs(self, pool, words):
    <a href="http://spam-fighter.ru/browser/thomas.py#L177" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>extracts the probabilities of tokens in a message<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="spamfighter.core.model.thomas.Bayes.train">
    
  </a>
  <a name="train">
    
  </a>
  <div class="functionHeader">
    
    def
    train(self, pool, item, uid=None):
    <a href="http://spam-fighter.ru/browser/thomas.py#L184" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>Train Bayes by telling him that item belongs in pool. uid is optional 
and may be used to uniquely identify the item that is being trained on.<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="spamfighter.core.model.thomas.Bayes.untrain">
    
  </a>
  <a name="untrain">
    
  </a>
  <div class="functionHeader">
    
    def
    untrain(self, pool, item, uid=None):
    <a href="http://spam-fighter.ru/browser/thomas.py#L198" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="function">
  <a name="spamfighter.core.model.thomas.Bayes._train">
    
  </a>
  <a name="_train">
    
  </a>
  <div class="functionHeader">
    
    def
    _train(self, pool, tokens):
    <a href="http://spam-fighter.ru/browser/thomas.py#L211" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="function">
  <a name="spamfighter.core.model.thomas.Bayes._untrain">
    
  </a>
  <a name="_untrain">
    
  </a>
  <div class="functionHeader">
    
    def
    _untrain(self, pool, tokens):
    <a href="http://spam-fighter.ru/browser/thomas.py#L222" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="function">
  <a name="spamfighter.core.model.thomas.Bayes.trainedOn">
    
  </a>
  <a name="trainedOn">
    
  </a>
  <div class="functionHeader">
    
    def
    trainedOn(self, msg):
    <a href="http://spam-fighter.ru/browser/thomas.py#L240" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="function">
  <a name="spamfighter.core.model.thomas.Bayes.guess">
    
  </a>
  <a name="guess">
    
  </a>
  <div class="functionHeader">
    
    def
    guess(self, msg):
    <a href="http://spam-fighter.ru/browser/thomas.py#L246" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="function">
  <a name="spamfighter.core.model.thomas.Bayes.robinson">
    
  </a>
  <a name="robinson">
    
  </a>
  <div class="functionHeader">
    
    def
    robinson(self, probs, ignore):
    <a href="http://spam-fighter.ru/browser/thomas.py#L259" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>computes the probability of a message being spam (Robinson's method) P =
1 - prod(1-p)^(1/n) Q = 1 - prod(p)^(1/n) S = (1 + (P-Q)/(P+Q)) / 2 
Courtesy of http://christophe.delord.free.fr/en/index.html<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="spamfighter.core.model.thomas.Bayes.robinsonFisher">
    
  </a>
  <a name="robinsonFisher">
    
  </a>
  <div class="functionHeader">
    
    def
    robinsonFisher(self, probs, ignore):
    <a href="http://spam-fighter.ru/browser/thomas.py#L274" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div>computes the probability of a message being spam (Robinson-Fisher 
method) H = C-1( -2.ln(prod(p)), 2*n ) S = C-1( -2.ln(prod(1-p)), 2*n ) I =
(1 + H - S) / 2 Courtesy of 
http://christophe.delord.free.fr/en/index.html<table class="fieldTable"></table></div>
  </div>
</div><div class="function">
  <a name="spamfighter.core.model.thomas.Bayes.__repr__">
    
  </a>
  <a name="__repr__">
    
  </a>
  <div class="functionHeader">
    
    def
    __repr__(self):
    <a href="http://spam-fighter.ru/browser/thomas.py#L288" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div><div class="function">
  <a name="spamfighter.core.model.thomas.Bayes.__len__">
    
  </a>
  <a name="__len__">
    
  </a>
  <div class="functionHeader">
    
    def
    __len__(self):
    <a href="http://spam-fighter.ru/browser/thomas.py#L291" class="functionSourceLink">
      
      (source)
    </a>
  </div>
  <div class="functionBody">
    
    <div class="undocumented">Undocumented</div>
  </div>
</div>
    <address>
      <a href="index.html">API Documentation</a> for SpamFighter, generated by <a href="http://codespeak.net/~mwh/pydoctor/">pydoctor</a> at 2009-02-22 18:23:24.
    </address>
  </body>
</html>