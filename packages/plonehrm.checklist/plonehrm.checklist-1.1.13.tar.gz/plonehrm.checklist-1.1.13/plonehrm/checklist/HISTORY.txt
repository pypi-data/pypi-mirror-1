History of plonehrm.checklist
=============================

1.1.13 (2010-01-07)
-------------------

- The viewlet is now guarded by 'plonehrm: view tasks viewlet' + some
  corrections about items that can be edited. [vincent]

1.1.12 (2009-12-30)
-------------------

- Allow adding a checklist item in the next year; especially handy at
  the end of the year, like today. :-)
  [maurits]


1.1.11 (2009-09-11)
-------------------

- Bug fix in migration. If there is no checklist items, max(ids)
  raises an error. [vincent]


1.1.10 (2009-08-17)
-------------------

- Fixed error on self.context in content/checklist.py.  At least seen
  in the tests.  [maurits]


1.1.9 (2009-08-17)
------------------

- Do not offer the user to edit or check a manager item if he does not
  have the proper permission.  [maurits]


1.1.8 (2009-08-17)
------------------

- Added migration step to fix default items that have the same ids.
  Apparently something is wrong in a previous migration so the
  checklist tool can end up with a few items that all have id 0.  That
  wreaks havoc on the kss that is used for editing and adding items.
  [maurits]


1.1.7 (2009-08-13)
------------------

- Updated translations [jladage]

- Updated portal_checklist view to handle end contract items. It is
  now possible again to edit items. [vincent]

- Portal checklist items now have the 'end_contract' property. Items
  for which this property is set to True are copied in the employee
  checklist when this one leaves the company. An upgrade step is
  necessary to make this work. [vincent]


1.1.6 (2009-07-29)
------------------

- Updated KSS actions in the viewlet to update status message when
  performing actions. Also corrected a bug in the viewlet, error
  messages were not hidden when the fault was corrected (for example,
  you tried to add a task with no title and a past date, two errors were
  displayed. If you corrected the date, the title error was still
  shown) [vincent]
  
- Updated translations [jladage]


1.1.5 (2009-07-24)
------------------

- Added headers in checklist notelist, including translations. [laurens]


1.1.4 (2009-07-22)
------------------

- Removed link to portal_checklist/edit, as this page does not work
  anymore with new checklist system. [mark+vincent]

- Now when adding items, html characters are escaped. This makes
  the execution of javascript in the pages impossible. [mark+vincent] 


1.1.3 (2009-07-07)
------------------

- The editItem method of ChecklistTool now also edit employee
  checklist items. [vincent]

- Updated the editItem method of ChecklistTool to avoid conflict in
  names. Also changed order of parameters (id then text) for
  coherence. [vincent]

- Updated the editItem method of CheckList so it does not update the
  link if no value are provided. This solves the bug appearing when
  editing a item with a link (after edition, the link
  disappeared). [vincent] 

- Added the possibility to edit and delete items in checklist
  tool. Also changed the way id are set to items in order to avoid a
  possible bug with items deleting. [vincent]


1.1.2 (2009-06-15)
------------------

- Totally ignore the item_due_date parameter passed by the viewlet, as
  it is unreliable.  Just look at year/month/day.
  [maurits]


1.1.1 (2009-06-15)
------------------

- When removing an item, take care to remove it by id, not by text.
  [maurits]

- When adding an item, allow doubles.
  [maurits]

- Refactored checklist to simply delete checked items instead of
  keeping them around.
  [maurits]

- Fix: editing the due date of a checklist item was not working.
  [maurits]

- Fixed error in handling add item request in kss when item_link and
  item_url are not passed.  [maurits]

- Catch AttributeErrors and KeyErrors thrown by brain.getObject().
  [maurits]


1.1.0 (2009-06-12)
------------------

- Removed item_link and item_url from the add viewlet.
  [laurens]

- In the hrm module event notification, add a (manager) item with
  link_url, link_title and date, if they are set in the event.
  [maurits]

- Now the 'Checklist' viewlet allows to add or edit tasks and is
  powered by KSS. [vincent]

- Refactored Checklist and ChecklistTool. They do not use Archetype
  fields anymore, but PersistentList representing items. Each item is
  an instance of the CheckListItem class.
  An upgrade is needed to keep the old items (the upgrade is in
  plonehrm.checklist:default). [vincent]


1.0.8 (2009-06-04)
------------------

- Use the portal factory for CheckList.  [maurits]


1.0.7 (2009-06-03)
------------------

- When adding checklist items to all current lists, only search in the
  parent of the tool, which might not be the root of the site.
  [maurits]


1.0.6 (2009-06-03)
------------------

- Use the normal main_template instead of the prefs_main_template for
  the checklist tool view.  [maurits]


1.0.5 (2009-06-03)
------------------

- The ChecklistTool is no longer a unique object, which means you can
  add this tool for example inside a WorkLocation (from the ZMI or
  with some custom python code) so you can have checklists specific
  for this WorkLocation.  [maurits]


1.0.4 (2009-06-02)
------------------

- Removed the setting of the viewlets in the plonehrm_properties to
  the setuphandlers in Products.plonehrm, where we only set the order
  once.  [maurits+markvl]


1.0.3 (2009-05-29)
------------------

- Added id "checklist", to be able to change the layout for this
  viewlet in sites.  [mirella]


1.0.2 (2009-05-26)
------------------

- When deleting an item, we delete from the allItems and the
  checkItems fields.  [maurits+vincent]

- Added two methods to the checklist class. The first one, findItems,
  searches items in the check list. The second one, deleteItem,
  deletes a specific item from the list. Those two methods are needed
  by plonehrm.absence, in order to manage call to sick
  employees. [vincent]

- Removed .mo files from locales.  This means those translations will
  not be visible in the old Plone 3.0.  [maurits]


1.0.1 (2009-04-16)
------------------

- Use collective.autopermission to register permissions.
  [maurits]

- Set end-of-line style as native and set svn:ignores.  [maurits]


1.0 (2008-10-02)
----------------

- Using group icon for control panel.  [maurits]


1.0 beta 2 (2 September 2008)
-----------------------------

- Added README.txt.  [maurits]


1.0 beta 1 (13 December 2007)
-----------------------------

- Made new checklist tool view to allow easy adding of new checklist
  items. To enable this, the browser view was extended and configured
  to also work in the checklisttool context.  [joris]

- Corrected an error in addManagerItem. The item argument was missing.
  [joris]

- Attached the contenttype to the EmployeeModuleWorkflow.  [reinout]

- Added new methods and fields for manager checklists.  Also show
  these in the templates and rewrite the browser view to get rid of
  POST popup windows when using the browsers back button.  [joris]

- Added bare-bones worklocation viewlet.  [reinout

- Extended the tests to check the tool's behaviour. Also added methods
  for adding items to both the checklist CT and the tool. The tool's
  addItem() method can also add items to all existing items.
  [reinout]

- Added a tool for storing the default checklist items.  [reinout]

- Joris improved the UI on friday (for the "homepage"). Today I added
  a better widget to the normal edit form (though that ought only to
  be used when fixing mistakes made by clicking checkboxes on the
  homepage).  [reinout]

- Added an empty propertysheet through genericsetup (for later
  customisation in a customisation product). Aaaaaand... added this
  changelog.  [reinout]
