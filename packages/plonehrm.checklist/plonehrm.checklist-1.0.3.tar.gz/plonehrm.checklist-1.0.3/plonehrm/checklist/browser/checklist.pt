<div i18n:domain="checklist"
  tal:omit-tag="">

  <dl class="module" id="checklist">
    <dt class="moduleHeader">
      <a class="moduleButton"
         tal:attributes="href string:${here/absolute_url}/checklist/edit"
         ><img src="edit.gif"
               alt="Edit checklist"
               title="Edit checklist"
               i18n:attributes="title edit_checklist;
                                alt edit_checklist;" /></a>
      <span tal:omit-tag=""
            i18n:translate="head_checklist">Checklist</span>
    </dt>
    <dd class="moduleItem">
      <form name="remaining_items_form"
            method="post"
            id="remainingitemsform"
            action=""
            tal:attributes="action string:${context/absolute_url}/@@update_checklist"
            tal:condition="view/any_items_left">
        <tal:block tal:repeat="item view/checklist/remainingItems">
          <input type="checkbox"
                 tal:condition="view/canEditItems"
                 name="item"
                 id="item"
                 value="item"
                 tal:attributes="name python:'hrm'+item;
                                 id python:'hrm'+item;
                                 value python:'hrm'+item;"/>
          <input type="checkbox"
                 tal:condition="not:view/canEditItems"
                 name="item"
                 id="item"
                 value="item"
                 disabled="1"
                 tal:attributes="name python:'hrm'+item;
                                 id python:'hrm'+item;
                                 value python:'hrm'+item;"/>
          <span tal:replace="structure item"/><br/>
        </tal:block>
        <tal:block tal:repeat="item view/checklist/remainingManagerItems">
          <input type="checkbox"
                 tal:condition="view/canEditManagerItems"
                 name="item"
                 id="item"
                 value="item"
                 tal:attributes="name python:'hrmmgr'+item;
                                 id python:'hrmmgr'+item;
                                 value python:'hrmmgr'+item;"/>
          <input type="checkbox"
                 tal:condition="not:view/canEditManagerItems"
                 name="item"
                 id="item"
                 value="item"
                 disabled="1"
                 tal:attributes="name python:'hrmmgr'+item;
                                 id python:'hrmmgr'+item;
                                 value python:'hrmmgr'+item;"/>
          <tal:dummy i18n:translate="manager">manager</tal:dummy>:
          <span tal:replace="structure item"/><br/>
        </tal:block>
        <input type="submit"
               value="Update"
               class="button context"
               i18n:attributes="value" />
      </form>

      <div tal:condition="python:not view.any_items_left()"
           i18n:translate="everything-done">Everything is done!</div>
    </dd>
  </dl>
</div>