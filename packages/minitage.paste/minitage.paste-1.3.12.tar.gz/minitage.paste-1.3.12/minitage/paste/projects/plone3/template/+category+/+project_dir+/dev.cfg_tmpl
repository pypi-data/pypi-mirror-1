# Plone 3 development buildout
# It will install your plone in debug mode and a bunch of debug tools.
# Launch it:
# bin/buildout -c dev.cfg

# We want the production buildout + the debug bits.
[buildout]
extends=buildout.cfg
parts+= omelette
        ipzope
        debugproducts
[versions]
ctypes=1.0.2

[instance]
verbose-security = on
debug-mode=ON
event-log-level=INFO
z2-log-level=INFO
products+=\${buildout:directory}/parts/debugproducts
#if $linux:
#zcml+=collective.autorestart
#end if

# Aggregate all python packages on one directory to have all in one directory
# its really great after to have it for  your tags generator or your IDE
# see parts/omelette after running this part to understand :)
[omelette]
recipe = collective.recipe.omelette
eggs = \${instance:eggs}
products = \${productdistros:location}
           \${debugproducts:location}
packages =\${instance:extra-paths}

# a IPython Shell for interactive use with zope running.
# you also need to put
# https://svn.plone.org/svn/collective/dotipython/trunk/ipy_profile_zope.py
# to your \$HOME/.ipython directory for the following to work.
[ipzope]
recipe = minitage.recipe:scripts
eggs = ipython
        \${instance:eggs}
initialization =
        import sys, os
        os.environ["SOFTWARE_HOME"] = "\${zope2:location}/lib/python"
        os.environ["INSTANCE_HOME"] = "\${instance:location}"
        sys.argv[1:1] = "-p zope".split()
extra-paths = \${zope2:location}/lib/python
scripts = ipython=ipzope

[productdistros]
urls += http://plone.org/products/clouseau/releases/0.8.1/clouseau-0-8-1.zip
        http://www.zope.org/Members/shh/DocFinderTab/1.0.2/DocFinderTab-1.0.2.tar.gz
        http://www.dieter.handshake.de/pyprojects/zope/ZopeProfiler.tgz

[zopepy]

eggs+=
    plone.reload
    collective.releaser
#if $linux:
# plone auto reloading facility relying on inotify.
# Desactivated by default because it can lead to bugs when you
# launch your instance in foreground, there are cases where
# you can't stop it with a  KeyboardInterrupt,
# you must kill -SIGKILL :)
# If you reactivate it, think to add also the zcml slug in the
# [instance] part
#    ctypes
#    collective.autorestart
#end if


[debugproducts]
recipe=minitage.recipe:fetch
urls = https://svn.infrae.com/PTProfiler/trunk|svn||PTProfiler
     svn://svn.zope.org/repos/main/Products.enablesettrace/trunk|svn||enablesettrace
     http://svn.plone.org/svn/collective/ZPTDebugger/trunk|svn||ZPTDebugger
     http://svn.nuxeo.org/pub/Zope2/DeadlockDebugger/trunk|svn||DeadlockDebugger


# not compatible with latest sphinx !
# be aware not to have it on your site packages before enabling it !
# To generate sphinx documentation, just run:
# bin/buildout -vvvvvv -C dev.cfg sphinxbuilder
# Please have a look on http://pypi.python.org/pypi/collective.recipe.sphinxbuilder/
# To see how to use it.
#[sphinxbuilder]
#recipe = collective.recipe.sphinxbuilder
#project = $project
#suffix = .rst
#author = You
#dot = _

