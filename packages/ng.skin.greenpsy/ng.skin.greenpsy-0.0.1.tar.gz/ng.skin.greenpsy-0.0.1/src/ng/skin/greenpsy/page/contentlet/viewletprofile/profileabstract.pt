<div class="profile">
    <h1 class="profileheader"> Профиль </h1>

    <div class="profileinfo">

        <dl>

        <tal:block tal:condition="context/title">
          <dt> Имя: </dt>
          <dd tal:content="context/title | profile/nickname | nothing">Иван Иванов</dd>
        </tal:block>

        <tal:block tal:condition="python: context.created">
          <dt>Дата регистрации:</dt>
          <dd tal:on-error="structure python:'&nbsp;'"
              tal:define="datetimeformat context/++registry++datetimeformat:%Y-%m-%d"
              tal:content="python:context.created.strftime(str(datetimeformat))">Иван Иванов
          </dd>
        </tal:block>
        
        <tal:block tal:condition="context/profile/nickname">
        <dt>Ник:</dt>
        <dd  tal:content="context/profile/nickname">ng.app.fifo</dd>
        </tal:block>

        <tal:block tal:condition="context/profile/city">
        <dt>Город:</dt>
        <dd tal:content="context/profile/city"/>
        </tal:block>

        <tal:block tal:condition="context/profile/birthday">
        <!--
        <dt>Дата рождения:</dt>
        <dd tal:content="python:context.profile.birthday.strftime(path('context/++registry++dateformat:%Y-%m-%d'))"/> 
	-->
        <dt>Возраст:</dt>
        <dd colspan="1" tal:content="context/profile/age"></dd>
        </tal:block>

        <tal:block tal:condition="context/profile/sex">
        <dt>Пол:</dt>
        <dd tal:content="context/profile/sex"/>
        </tal:block>
  
        <tal:block tal:condition="context/profile/interests">
        <dt>Области интересов:</dt>
        <dd tal:content="python:', '.join(sorted(context.profile.interests))+'.'"/>
        </tal:block>

      </dl>
    </div>    

    <div class="profilephoto">
      <tal:block 
          tal:on-error="structure python:'<img height=\'100\' width=\'80\' src=\'/++resource++images/nophoto-big.gif\'>'">
        <tal:block
            condition="python:path('context/++attribute++logo').getSize() > 0"
            content="structure python:path('context/++attribute++logo/@@smartimagecontainer/big').tag()">
        </tal:block>
        <tal:block
            condition="python:path('context/++attribute++logo').getSize() == 0">
          <img height="100" width="80" src="/++resource++images/nophoto-big.gif" alt="NO PHOTO" />
        </tal:block>
      </tal:block>
    </div>
    <tal:block condition="context/abstract">
      <h1 class="profileheader">Обо мне</h1>
      <div class="profileabout" tal:content="structure context/abstract | nothing ">

        <p>Для тех кто спрашивает, чем похожи и чем отличаются zope2, zope3, plone я
        пишу этот мемуар :). Тут нет точных дат и вообще - это скорее мои ощущения
        от реальности, чем сама реальность. Поэтому за точными датами и данными
        отправляйтесь-ка в гугол, а я рассказываю как помню.</p>
      </div>
    </tal:block>
</div>
