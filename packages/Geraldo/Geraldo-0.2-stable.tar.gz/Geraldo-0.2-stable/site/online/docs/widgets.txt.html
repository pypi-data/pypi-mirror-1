<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.4.1: http://docutils.sourceforge.net/" />
<title>Widgets Reference</title>
<style type="text/css">

/*
:Author: David Goodger
:Contact: goodger@users.sourceforge.net
:Date: $Date: 2005-12-18 01:56:14 +0100 (Sun, 18 Dec 2005) $
:Revision: $Revision: 4224 $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin-left: 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left {
  clear: left }

img.align-right {
  clear: right }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font-family: serif ;
  font-size: 100% }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;
  background-color: #eeeeee }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

tt.docutils {
  background-color: #eeeeee }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="widgets-reference">
<h1 class="title">Widgets Reference</h1>
<p>Widgets are report elements to show text values on report canvas.</p>
<p>All widget classes can be initialized with their attributes as class arguments.</p>
<div class="section">
<h2><a id="widget" name="widget">Widget</a></h2>
<p>Path: <strong>geraldo.widgets.Widget</strong></p>
<p>Base class for reports widgets, you should use it only to inherit and make your
own widgets, otherwise you shouldn't use it directly.</p>
<p><strong>Attributes</strong></p>
<ul>
<li><p class="first"><strong>height</strong> - Default: 0.5*cm</p>
</li>
<li><p class="first"><strong>width</strong> - Default: 5*cm</p>
</li>
<li><p class="first"><strong>left</strong> - Default: 0</p>
</li>
<li><p class="first"><strong>top</strong> - Default: 0</p>
</li>
<li><p class="first"><strong>visible</strong> - Default: True</p>
</li>
<li><p class="first"><strong>style</strong> - Default: {}</p>
<blockquote>
<p>This is a dictionary that uses the powerful of ReportLab <strong>ParagraphStyle</strong>
class to set style settings for this widget.</p>
<p>Default keys are:</p>
<ul class="simple">
<li><strong>fontName</strong> - Default: 'Times-Roman',</li>
<li><strong>fontSize</strong> - Default: 10,</li>
<li><strong>leading</strong> - Default: 12,</li>
<li><strong>leftIndent</strong> - Default: 0,</li>
<li><strong>rightIndent</strong> - Default: 0,</li>
<li><strong>firstLineIndent</strong> - Default: 0,</li>
<li><strong>alignment</strong> - Default: TA_LEFT,</li>
<li><strong>spaceBefore</strong> - Default: 0,</li>
<li><strong>spaceAfter</strong> - Default: 0,</li>
<li><strong>bulletFontName</strong> - Default: 'Times-Roman',</li>
<li><strong>bulletFontSize</strong> - Default: 10,</li>
<li><strong>bulletIndent</strong> - Default: 0,</li>
<li><strong>textColor</strong> - Default:  black,</li>
<li><strong>backColor</strong> - Default: None,</li>
<li><strong>wordWrap</strong> - Default: None,</li>
<li><strong>borderWidth</strong> - Default: 0,</li>
<li><strong>borderPadding</strong> - Default: 0,</li>
<li><strong>borderColor</strong> - Default: None,</li>
<li><strong>borderRadius</strong> - Default: None,</li>
<li><strong>allowWidows</strong> - Default: 1,</li>
<li><strong>allowOrphans</strong> - Default: 0,</li>
</ul>
</blockquote>
</li>
<li><p class="first"><strong>get_value</strong> - Default: None.</p>
<blockquote>
<p>This is the way you have to customize easily the widget output. Be careful
with this attribute, because each one widget has its own set of arguments.</p>
</blockquote>
</li>
</ul>
<p><strong>Rendering attributes</strong></p>
<p>They are read-only attributes you can use in render time.</p>
<ul class="simple">
<li><strong>instance</strong> - current object being rendered</li>
<li><strong>generator</strong> - generator instance</li>
<li><strong>report</strong> - report instance this element is in</li>
<li><strong>band</strong> - band this element is in</li>
<li><strong>page</strong> - current page</li>
</ul>
</div>
<div class="section">
<h2><a id="label" name="label">Label</a></h2>
<p>Path: <strong>geraldo.Label</strong></p>
<p>A label is just a simple text.</p>
<p><strong>Example of use</strong></p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; Label(text='Taxes we have paid', left=1*cm, top=0.5*cm, width=10*cm, height=0.5*cm)
</pre>
</blockquote>
<p><strong>Attributes</strong></p>
<ul class="simple">
<li><strong>height</strong> - Default: 0.5*cm</li>
<li><strong>width</strong> - Default: 5*cm</li>
<li><strong>left</strong> - Default: 0</li>
<li><strong>top</strong> - Default: 0</li>
<li><strong>visible</strong> - Default: True</li>
<li><strong>style</strong> - Default: {}</li>
</ul>
<p><strong>get_value</strong> must have 'text' argument.</p>
</div>
<div class="section">
<h2><a id="objectvalue" name="objectvalue">ObjectValue</a></h2>
<p>Path: <strong>geraldo.ObjectValue</strong></p>
<p>This shows the value from a method, field or property from objects got from the
queryset.</p>
<p>You can inform an action to show the object value or an aggregation function on
it.</p>
<p>You can also use 'display_format' attribute to set a friendly string formating,
with a mask or additional text.</p>
<p>'get_value' lambda must have 'instance' argument.</p>
<p><strong>Example of use</strong></p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; ObjectValue(attribute_name='name', left=1*cm, top=0.5*cm, width=10*cm, height=0.5*cm)
</pre>
</blockquote>
<p><strong>Attributes</strong></p>
<ul>
<li><p class="first"><strong>height</strong> - Default: 0.5*cm</p>
</li>
<li><p class="first"><strong>width</strong> - Default: 5*cm</p>
</li>
<li><p class="first"><strong>left</strong> - Default: 0</p>
</li>
<li><p class="first"><strong>top</strong> - Default: 0</p>
</li>
<li><p class="first"><strong>visible</strong> - Default: True</p>
</li>
<li><p class="first"><strong>style</strong> - Default: {}</p>
</li>
<li><p class="first"><strong>attribute_name</strong> - Required</p>
<blockquote>
<p>You can inform here the object attribute name you want to show in this
widget. You can inform a field, common attribute, propert or just a method,
since it has no required argument to inform.</p>
</blockquote>
</li>
<li><p class="first"><strong>action</strong> - Default: geraldo.FIELD_ACTION_VALUE</p>
<blockquote>
<p>The action is where you say what Geraldo will do with the value of this
field. The default action is just show its value and nothing more.</p>
<p>But if you are using an ObjectValue in a summary or footer band of report,
group or subreport, you will probably needs for aggregation functions. This
is why this attribute exists.</p>
<p>Fields actions are all available in <strong>geraldo</strong> package to import from.
The choices you can use in <strong>action</strong> attributes are:</p>
<ul class="simple">
<li>geraldo.FIELD_ACTION_VALUE</li>
<li>geraldo.FIELD_ACTION_COUNT</li>
<li>geraldo.FIELD_ACTION_AVG</li>
<li>geraldo.FIELD_ACTION_MIN</li>
<li>geraldo.FIELD_ACTION_MAX</li>
<li>geraldo.FIELD_ACTION_SUM</li>
<li>geraldo.FIELD_ACTION_DISTINCT_COUNT</li>
</ul>
</blockquote>
</li>
<li><p class="first"><strong>display_format</strong> - Default: '%s'</p>
<blockquote>
<p>Use string formatting to do simple format the field value. You could else
use <strong>get_value</strong> if you want something more powerful.</p>
</blockquote>
</li>
</ul>
</div>
<div class="section">
<h2><a id="systemfield" name="systemfield">SystemField</a></h2>
<p>This shows system informations, like the report title, current date/time, page
number, pages count, etc.</p>
<p>'get_value' must have 'expression' and 'fields' argument.</p>
<p><strong>Example of use</strong></p>
<blockquote>
<pre class="doctest-block">
&gt;&gt;&gt; ObjectValue(expression='%(report_title)s', left=1*cm, top=0.5*cm, width=10*cm, height=0.5*cm)
</pre>
</blockquote>
<p><strong>Attributes</strong></p>
<ul>
<li><p class="first"><strong>height</strong> - Default: 0.5*cm</p>
</li>
<li><p class="first"><strong>width</strong> - Default: 5*cm</p>
</li>
<li><p class="first"><strong>left</strong> - Default: 0</p>
</li>
<li><p class="first"><strong>top</strong> - Default: 0</p>
</li>
<li><p class="first"><strong>visible</strong> - Default: True</p>
</li>
<li><p class="first"><strong>style</strong> - Default: {}</p>
</li>
<li><p class="first"><strong>expression</strong> - Default: '%(report_title)s'</p>
<blockquote>
<p>This is a simple string you can write with basic macros to show system field
values.</p>
<p>The available macros are:</p>
<ul>
<li><p class="first">%(report_title)s</p>
</li>
<li><p class="first">%(page_number)s</p>
</li>
<li><p class="first">%(page_count)s</p>
</li>
<li><p class="first">%(report_author)s</p>
</li>
<li><p class="first">%(now:FORMAT)s - in replace of 'FORMAT' you can use date formatting
standard template filter date formatting. But if you are using your
own <strong>Report.format_date</strong> method, this will use it.</p>
<blockquote>
<p>Examples:</p>
<ul class="simple">
<li>'%(now:%Y)' - shows the 4-based current year</li>
<li>'%(now:%m/%d/%Y)' - shows something like '01/23/2009'</li>
</ul>
<p><strong>Note:</strong> this is changed now. Before this function used Django
template filter 'date' to format datetime, but once we were
going to use two standards, this wouldn't be nice. If you want
to use Django's template filter, you can override method
<strong>Report.format_date(date, expression)</strong> and use it.</p>
</blockquote>
</li>
</ul>
</blockquote>
</li>
</ul>
</div>
</div>
</body>
</html>
