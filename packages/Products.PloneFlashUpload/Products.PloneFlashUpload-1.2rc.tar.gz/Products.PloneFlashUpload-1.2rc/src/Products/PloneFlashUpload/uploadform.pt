<html metal:use-macro="context/@@standard_macros/page"
      i18n:domain="z3c.widget.flashupload">

  <metal:block fill-slot="style_slot">
    <link rel="stylesheet" href="audio.css"
          tal:attributes="href string:$portal_url/++resource++ploneflashupload.css"
          />
  </metal:block>

  <metal:block fill-slot="body">
    <metal:block define-macro="swf">


      <div id="fsUploadProgress">
        <span class="legend">Upload Queue</span>
      </div>
      <p id="divStatus">0 Files Uploaded</p>

      <p>
        <span id="flashuploadtarget">
          <!-- inside this div, the flash upload swf will be injected -->
        </span>
        <input id="btnUpload" class="context" type="button" value="Select Files"/>
        <input id="btnCancel" class="standalone" type="button" disabled="disabled" value="Cancel All Uploads"/>
      </p>

      <script type="text/javascript"
              src=""
              tal:attributes="src string:${portal_url}/++resource++swfupload/swfupload.js">
      </script>

      <script type="text/javascript"
              src=""
              tal:attributes="src string:${portal_url}/++resource++swfupload/queue.js">
      </script>

      <script type="text/javascript"
              src=""
              tal:attributes="src string:${portal_url}/++resource++swfupload/fileprogress.js">
      </script>

      <script type="text/javascript"
              src=""
              tal:attributes="src string:${portal_url}/++resource++swfupload/handlers.js">
      </script>

      <script type="text/javascript"
              tal:content="structure context/@@upload_init">
      </script>

    </metal:block>

    <div class="upload-folder-listing">
      <metal:block use-macro="context/folder_listing/macros/listing">
      </metal:block>
    </div>

  </metal:block>
</html>
