<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>biblio.webquery.querythrottle.BaseQueryThrottle</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="biblio.webquery-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://www.agapow.net/software/biblio.webquery">biblio.webquery api</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        Package&nbsp;biblio ::
        <a href="biblio.webquery-module.html">Package&nbsp;webquery</a> ::
        <a href="biblio.webquery.querythrottle-module.html">Module&nbsp;querythrottle</a> ::
        Class&nbsp;BaseQueryThrottle
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="biblio.webquery.querythrottle.BaseQueryThrottle-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class BaseQueryThrottle</h1><p class="nomargin-top"><span class="codelink"><a href="biblio.webquery.querythrottle-pysrc.html#BaseQueryThrottle">source&nbsp;code</a></span></p>
<pre class="base-tree">
  object --+    
           |    
<a href="biblio.webquery.impl.ReprObj-class.html">impl.ReprObj</a> --+
               |
              <strong class="uidshort">BaseQueryThrottle</strong>
</pre>

<dl><dt>Known Subclasses:</dt>
<dd>
      <ul class="subclass-list">
<li><a href="biblio.webquery.querythrottle.AbsoluteNumberThrottle-class.html">AbsoluteNumberThrottle</a></li><li>, <a href="biblio.webquery.querythrottle.WaitNSecondsThrottle-class.html">WaitNSecondsThrottle</a></li>  </ul>
</dd></dl>

<hr />
<p>A limit upon query usage.</p>
<p>Often webservices will request that users restrict themselves to a request
every second, or no more than 1000 a day, etc. This is a base class for
implementing those limits. Different restrictions can be implemented in
derived classes.</p>
<p>Limits are constructed with set behaviour</p>

<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="biblio.webquery.querythrottle.BaseQueryThrottle-class.html#__init__" class="summary-sig-name">__init__</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">fail_action</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">wait_duration</span>=<span class="summary-sig-default">1.0</span>)</span><br />
      Ctor, allowing the polling period and failure behaviour to be set.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="biblio.webquery.querythrottle-pysrc.html#BaseQueryThrottle.__init__">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="biblio.webquery.querythrottle.BaseQueryThrottle-class.html#check_limit" class="summary-sig-name">check_limit</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">wquery</span>)</span><br />
      Has the query exceeded its limit?</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="biblio.webquery.querythrottle-pysrc.html#BaseQueryThrottle.check_limit">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="biblio.webquery.querythrottle.BaseQueryThrottle-class.html#within_limit" class="summary-sig-name">within_limit</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">wquery</span>)</span><br />
      Has the query exceeded its limit?</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="biblio.webquery.querythrottle-pysrc.html#BaseQueryThrottle.within_limit">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="log_success"></a><span class="summary-sig-name">log_success</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">wquery</span>)</span><br />
      Sucessful queries will probably effect the success of future ones, so
here is a place to log them.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="biblio.webquery.querythrottle-pysrc.html#BaseQueryThrottle.log_success">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="biblio.webquery.impl.ReprObj-class.html">impl.ReprObj</a></code></b>:
      <code><a href="biblio.webquery.impl.ReprObj-class.html#__repr__">__repr__</a></code>,
      <code><a href="biblio.webquery.impl.ReprObj-class.html#__str__">__str__</a></code>,
      <code><a href="biblio.webquery.impl.ReprObj-class.html#__unicode__">__unicode__</a></code>
      </p>
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__delattr__</code>,
      <code>__getattribute__</code>,
      <code>__hash__</code>,
      <code>__new__</code>,
      <code>__reduce__</code>,
      <code>__reduce_ex__</code>,
      <code>__setattr__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== CLASS VARIABLES ==================== -->
<a name="section-ClassVariables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Class Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-ClassVariables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr class="private">
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="_repr_fields"></a><span class="summary-name">_repr_fields</span> = <code title="['fail_action', 'wait_duration']"><code class="variable-group">[</code><code class="variable-quote">'</code><code class="variable-string">fail_action</code><code class="variable-quote">'</code><code class="variable-op">, </code><code class="variable-quote">'</code><code class="variable-string">wait_duration</code><code class="variable-quote">'</code><code class="variable-group">]</code></code>
    </td>
  </tr>
</table>
<!-- ==================== PROPERTIES ==================== -->
<a name="section-Properties"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Properties</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Properties"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code>object</code></b>:
      <code>__class__</code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Method Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-MethodDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="__init__"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">__init__</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">fail_action</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">wait_duration</span>=<span class="sig-default">1.0</span>)</span>
    <br /><em class="fname">(Constructor)</em>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="biblio.webquery.querythrottle-pysrc.html#BaseQueryThrottle.__init__">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  Ctor, allowing the polling period and failure behaviour to be set.
  <dl class="fields">
    <dt>Overrides:
        object.__init__
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="check_limit"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">check_limit</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">wquery</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="biblio.webquery.querythrottle-pysrc.html#BaseQueryThrottle.check_limit">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Has the query exceeded its limit?</p>
<p>This is a primarily internal method for testing whether a limit has been
reached. Handling that circumstance is left to the calling method
<a href="biblio.webquery.querythrottle.BaseQueryThrottle-class.html#check_limit" class="link">check_limit</a>. This should be overridden in derived class to implement
different throttling methods.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>wquery</code></strong> - The object or service to be throttled. This allows the same limit
to service several objects in different ways (e.g. by having them
share the same limit, or be handled independently).</li>
    </ul></dd>
    <dt>Returns:</dt>
        <dd>A boolean, giving whether the query is within limit or not.</dd>
  </dl>
</td></tr></table>
</div>
<a name="within_limit"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">within_limit</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">wquery</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="biblio.webquery.querythrottle-pysrc.html#BaseQueryThrottle.within_limit">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Has the query exceeded its limit?</p>
<p>This should be called by services to test whether a limit has been
reached. Handling that circumstance is left to the calling method
<a href="biblio.webquery.querythrottle.BaseQueryThrottle-class.html#check_limit" class="link">check_limit</a>. This should be overridden in derived class to implement
different throttling methods.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>wquery</code></strong> - See <a href="biblio.webquery.querythrottle.BaseQueryThrottle-class.html#check_limit" class="link">check_limit</a></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">
  <!-- Home link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="biblio.webquery-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://www.agapow.net/software/biblio.webquery">biblio.webquery api</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Wed May  6 19:43:46 2009
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
