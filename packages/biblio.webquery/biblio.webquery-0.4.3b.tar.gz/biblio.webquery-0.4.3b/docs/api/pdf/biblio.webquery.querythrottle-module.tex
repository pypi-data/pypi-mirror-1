%
% API Documentation for biblio.webquery api
% Module biblio.webquery.querythrottle
%
% Generated by epydoc 3.0.1
% [Wed May  6 19:44:01 2009]
%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                          Module Description                           %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    \index{biblio \textit{(package)}!biblio.webquery \textit{(package)}!biblio.webquery.querythrottle \textit{(module)}|(}
\section{Module biblio.webquery.querythrottle}

    \label{biblio:webquery:querythrottle}

Classes for throttling web-queries, so as to stay within limits.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                               Variables                               %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \subsection{Variables}

    \vspace{-1cm}
\hspace{\varindent}\begin{longtable}{|p{\varnamewidth}|p{\vardescrwidth}|l}
\cline{1-2}
\cline{1-2} \centering \textbf{Name} & \centering \textbf{Description}& \\
\cline{1-2}
\endhead\cline{1-2}\multicolumn{3}{r}{\small\textit{continued on next page}}\\\endfoot\cline{1-2}
\endlastfoot\raggedright F\-A\-I\-L\-\_\-A\-N\-D\-\_\-R\-A\-I\-S\-E\- & \raggedright \textbf{Value:} 
{\tt \texttt{'}\texttt{RAISE}\texttt{'}}&\\
\cline{1-2}
\raggedright F\-A\-I\-L\-\_\-A\-N\-D\-\_\-W\-A\-I\-T\- & \raggedright \textbf{Value:} 
{\tt \texttt{'}\texttt{WAIT}\texttt{'}}&\\
\cline{1-2}
\end{longtable}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                           Class Description                           %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    \index{biblio \textit{(package)}!biblio.webquery \textit{(package)}!biblio.webquery.querythrottle \textit{(module)}!biblio.webquery.querythrottle.BaseQueryThrottle \textit{(class)}|(}
\subsection{Class BaseQueryThrottle}

    \label{biblio:webquery:querythrottle:BaseQueryThrottle}
\begin{tabular}{cccccccc}
% Line for object, linespec=[False, False]
\multicolumn{2}{r}{\settowidth{\BCL}{object}\multirow{2}{\BCL}{object}}
&&
&&
  \\\cline{3-3}
  &&\multicolumn{1}{c|}{}
&&
&&
  \\
% Line for biblio.webquery.impl.ReprObj, linespec=[False]
\multicolumn{4}{r}{\settowidth{\BCL}{biblio.webquery.impl.ReprObj}\multirow{2}{\BCL}{biblio.webquery.impl.ReprObj}}
&&
  \\\cline{5-5}
  &&&&\multicolumn{1}{c|}{}
&&
  \\
&&&&\multicolumn{2}{l}{\textbf{biblio.webquery.querythrottle.BaseQueryThrottle}}
\end{tabular}

\textbf{Known Subclasses:}
biblio.webquery.querythrottle.AbsoluteNumberThrottle,
    biblio.webquery.querythrottle.WaitNSecondsThrottle


A limit upon query usage.

Often webservices will request that users restrict themselves to a request
every second, or no more than 1000 a day, etc. This is a base class for
implementing those limits. Different restrictions can be implemented in
derived classes.

Limits are constructed with set behaviour

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                Methods                                %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \subsubsection{Methods}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{\_\_init\_\_}(\textit{self}, \textit{fail\_action}={\tt None}, \textit{wait\_duration}={\tt 1.0})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}

Ctor, allowing the polling period and failure behaviour to be set.
\setlength{\parskip}{1ex}
      Overrides: object.\_\_init\_\_

    \end{boxedminipage}

    \label{biblio:webquery:querythrottle:BaseQueryThrottle:check_limit}
    \index{biblio \textit{(package)}!biblio.webquery \textit{(package)}!biblio.webquery.querythrottle \textit{(module)}!biblio.webquery.querythrottle.BaseQueryThrottle \textit{(class)}!biblio.webquery.querythrottle.BaseQueryThrottle.check\_limit \textit{(method)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{check\_limit}(\textit{self}, \textit{wquery})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}

Has the query exceeded its limit?

This is a primarily internal method for testing whether a limit has been
reached. Handling that circumstance is left to the calling method
\texttt{check{\_}limit}. This should be overridden in derived class to implement
different throttling methods.
\setlength{\parskip}{1ex}
      \textbf{Parameters}
      \vspace{-1ex}

      \begin{quote}
        \begin{Ventry}{xxxxxx}

          \item[wquery]


The object or service to be throttled. This allows the same limit
to service several objects in different ways (e.g. by having them
share the same limit, or be handled independently).
        \end{Ventry}

      \end{quote}

      \textbf{Return Value}
    \vspace{-1ex}

      \begin{quote}

A boolean, giving whether the query is within limit or not.
      \end{quote}

    \end{boxedminipage}

    \label{biblio:webquery:querythrottle:BaseQueryThrottle:within_limit}
    \index{biblio \textit{(package)}!biblio.webquery \textit{(package)}!biblio.webquery.querythrottle \textit{(module)}!biblio.webquery.querythrottle.BaseQueryThrottle \textit{(class)}!biblio.webquery.querythrottle.BaseQueryThrottle.within\_limit \textit{(method)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{within\_limit}(\textit{self}, \textit{wquery})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}

Has the query exceeded its limit?

This should be called by services to test whether a limit has been
reached. Handling that circumstance is left to the calling method
\texttt{check{\_}limit}. This should be overridden in derived class to implement
different throttling methods.
\setlength{\parskip}{1ex}
      \textbf{Parameters}
      \vspace{-1ex}

      \begin{quote}
        \begin{Ventry}{xxxxxx}

          \item[wquery]


See \texttt{check{\_}limit}
        \end{Ventry}

      \end{quote}

    \end{boxedminipage}

    \label{biblio:webquery:querythrottle:BaseQueryThrottle:log_success}
    \index{biblio \textit{(package)}!biblio.webquery \textit{(package)}!biblio.webquery.querythrottle \textit{(module)}!biblio.webquery.querythrottle.BaseQueryThrottle \textit{(class)}!biblio.webquery.querythrottle.BaseQueryThrottle.log\_success \textit{(method)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{log\_success}(\textit{self}, \textit{wquery})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}

Sucessful queries will probably effect the success of future ones, so
here is a place to log them.
\setlength{\parskip}{1ex}
    \end{boxedminipage}


\large{\textbf{\textit{Inherited from biblio.webquery.impl.ReprObj\textit{(Section \ref{biblio:webquery:impl:ReprObj})}}}}

\begin{quote}
\_\_repr\_\_(), \_\_str\_\_(), \_\_unicode\_\_()
\end{quote}

\large{\textbf{\textit{Inherited from object}}}

\begin{quote}
\_\_delattr\_\_(), \_\_getattribute\_\_(), \_\_hash\_\_(), \_\_new\_\_(), \_\_reduce\_\_(), \_\_reduce\_ex\_\_(), \_\_setattr\_\_()
\end{quote}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                              Properties                               %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \subsubsection{Properties}

    \vspace{-1cm}
\hspace{\varindent}\begin{longtable}{|p{\varnamewidth}|p{\vardescrwidth}|l}
\cline{1-2}
\cline{1-2} \centering \textbf{Name} & \centering \textbf{Description}& \\
\cline{1-2}
\endhead\cline{1-2}\multicolumn{3}{r}{\small\textit{continued on next page}}\\\endfoot\cline{1-2}
\endlastfoot\multicolumn{2}{|l|}{\textit{Inherited from object}}\\
\multicolumn{2}{|p{\varwidth}|}{\raggedright \_\_class\_\_}\\
\cline{1-2}
\end{longtable}

    \index{biblio \textit{(package)}!biblio.webquery \textit{(package)}!biblio.webquery.querythrottle \textit{(module)}!biblio.webquery.querythrottle.BaseQueryThrottle \textit{(class)}|)}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                           Class Description                           %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    \index{biblio \textit{(package)}!biblio.webquery \textit{(package)}!biblio.webquery.querythrottle \textit{(module)}!biblio.webquery.querythrottle.WaitNSecondsThrottle \textit{(class)}|(}
\subsection{Class WaitNSecondsThrottle}

    \label{biblio:webquery:querythrottle:WaitNSecondsThrottle}
\begin{tabular}{cccccccccc}
% Line for object, linespec=[False, False, False]
\multicolumn{2}{r}{\settowidth{\BCL}{object}\multirow{2}{\BCL}{object}}
&&
&&
&&
  \\\cline{3-3}
  &&\multicolumn{1}{c|}{}
&&
&&
&&
  \\
% Line for biblio.webquery.impl.ReprObj, linespec=[False, False]
\multicolumn{4}{r}{\settowidth{\BCL}{biblio.webquery.impl.ReprObj}\multirow{2}{\BCL}{biblio.webquery.impl.ReprObj}}
&&
&&
  \\\cline{5-5}
  &&&&\multicolumn{1}{c|}{}
&&
&&
  \\
% Line for biblio.webquery.querythrottle.BaseQueryThrottle, linespec=[False]
\multicolumn{6}{r}{\settowidth{\BCL}{biblio.webquery.querythrottle.BaseQueryThrottle}\multirow{2}{\BCL}{biblio.webquery.querythrottle.BaseQueryThrottle}}
&&
  \\\cline{7-7}
  &&&&&&\multicolumn{1}{c|}{}
&&
  \\
&&&&&&\multicolumn{2}{l}{\textbf{biblio.webquery.querythrottle.WaitNSecondsThrottle}}
\end{tabular}

\textbf{Known Subclasses:} biblio.webquery.querythrottle.WaitOneSecondThrottle


Limit a query to every N seconds at most.

By default this throttle holds the query until the wait period is over.
Note that this throttle can be used across a set of queries, so that the
limit applies for the set. In this case the waiting behaviour could be
undesirable, with a large population of queries on hold.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                Methods                                %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \subsubsection{Methods}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{\_\_init\_\_}(\textit{self}, \textit{wait}, \textit{fail\_action}={\tt \texttt{'}\texttt{WAIT}\texttt{'}})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}

C'tor, allowing the wait period and failure behaviour to be set.
\setlength{\parskip}{1ex}
      \textbf{Parameters}
      \vspace{-1ex}

      \begin{quote}
        \begin{Ventry}{xxxxxxxxxxx}

          \item[wait]


The period to enforce between queries.
            {\it (type=int or float)}

          \item[fail\_action]


See \texttt{BaseQueryThrottle}.
        \end{Ventry}

      \end{quote}

      Overrides: object.\_\_init\_\_

    \end{boxedminipage}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{within\_limit}(\textit{self}, \textit{wquery})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}

Has it been longer than the wait period since the last query?
\setlength{\parskip}{1ex}
      \textbf{Parameters}
      \vspace{-1ex}

      \begin{quote}
        \begin{Ventry}{xxxxxx}

          \item[wquery]


See \texttt{check{\_}limit}
        \end{Ventry}

      \end{quote}

      Overrides: biblio.webquery.querythrottle.BaseQueryThrottle.within\_limit

    \end{boxedminipage}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{log\_success}(\textit{self}, \textit{wquery})

\setlength{\parskip}{2ex}

Sucessful queries will probably effect the success of future ones, so
here is a place to log them.
\setlength{\parskip}{1ex}
      Overrides: biblio.webquery.querythrottle.BaseQueryThrottle.log\_success 	extit{(inherited documentation)}

    \end{boxedminipage}


\large{\textbf{\textit{Inherited from biblio.webquery.querythrottle.BaseQueryThrottle\textit{(Section \ref{biblio:webquery:querythrottle:BaseQueryThrottle})}}}}

\begin{quote}
check\_limit()
\end{quote}

\large{\textbf{\textit{Inherited from biblio.webquery.impl.ReprObj\textit{(Section \ref{biblio:webquery:impl:ReprObj})}}}}

\begin{quote}
\_\_repr\_\_(), \_\_str\_\_(), \_\_unicode\_\_()
\end{quote}

\large{\textbf{\textit{Inherited from object}}}

\begin{quote}
\_\_delattr\_\_(), \_\_getattribute\_\_(), \_\_hash\_\_(), \_\_new\_\_(), \_\_reduce\_\_(), \_\_reduce\_ex\_\_(), \_\_setattr\_\_()
\end{quote}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                              Properties                               %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \subsubsection{Properties}

    \vspace{-1cm}
\hspace{\varindent}\begin{longtable}{|p{\varnamewidth}|p{\vardescrwidth}|l}
\cline{1-2}
\cline{1-2} \centering \textbf{Name} & \centering \textbf{Description}& \\
\cline{1-2}
\endhead\cline{1-2}\multicolumn{3}{r}{\small\textit{continued on next page}}\\\endfoot\cline{1-2}
\endlastfoot\multicolumn{2}{|l|}{\textit{Inherited from object}}\\
\multicolumn{2}{|p{\varwidth}|}{\raggedright \_\_class\_\_}\\
\cline{1-2}
\end{longtable}

    \index{biblio \textit{(package)}!biblio.webquery \textit{(package)}!biblio.webquery.querythrottle \textit{(module)}!biblio.webquery.querythrottle.WaitNSecondsThrottle \textit{(class)}|)}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                           Class Description                           %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    \index{biblio \textit{(package)}!biblio.webquery \textit{(package)}!biblio.webquery.querythrottle \textit{(module)}!biblio.webquery.querythrottle.WaitOneSecondThrottle \textit{(class)}|(}
\subsection{Class WaitOneSecondThrottle}

    \label{biblio:webquery:querythrottle:WaitOneSecondThrottle}
\begin{tabular}{cccccccccccc}
% Line for object, linespec=[False, False, False, False]
\multicolumn{2}{r}{\settowidth{\BCL}{object}\multirow{2}{\BCL}{object}}
&&
&&
&&
&&
  \\\cline{3-3}
  &&\multicolumn{1}{c|}{}
&&
&&
&&
&&
  \\
% Line for biblio.webquery.impl.ReprObj, linespec=[False, False, False]
\multicolumn{4}{r}{\settowidth{\BCL}{biblio.webquery.impl.ReprObj}\multirow{2}{\BCL}{biblio.webquery.impl.ReprObj}}
&&
&&
&&
  \\\cline{5-5}
  &&&&\multicolumn{1}{c|}{}
&&
&&
&&
  \\
% Line for biblio.webquery.querythrottle.BaseQueryThrottle, linespec=[False, False]
\multicolumn{6}{r}{\settowidth{\BCL}{biblio.webquery.querythrottle.BaseQueryThrottle}\multirow{2}{\BCL}{biblio.webquery.querythrottle.BaseQueryThrottle}}
&&
&&
  \\\cline{7-7}
  &&&&&&\multicolumn{1}{c|}{}
&&
&&
  \\
% Line for biblio.webquery.querythrottle.WaitNSecondsThrottle, linespec=[False]
\multicolumn{8}{r}{\settowidth{\BCL}{biblio.webquery.querythrottle.WaitNSecondsThrottle}\multirow{2}{\BCL}{biblio.webquery.querythrottle.WaitNSecondsThrottle}}
&&
  \\\cline{9-9}
  &&&&&&&&\multicolumn{1}{c|}{}
&&
  \\
&&&&&&&&\multicolumn{2}{l}{\textbf{biblio.webquery.querythrottle.WaitOneSecondThrottle}}
\end{tabular}


Limit a query to once every second at most.

This is a common limit, and so is provided as a convenience.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                Methods                                %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \subsubsection{Methods}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{\_\_init\_\_}(\textit{self}, \textit{fail\_action}={\tt \texttt{'}\texttt{WAIT}\texttt{'}})

\setlength{\parskip}{2ex}

C'tor, allowing the wait period and failure behaviour to be set.
\setlength{\parskip}{1ex}
      \textbf{Parameters}
      \vspace{-1ex}

      \begin{quote}
        \begin{Ventry}{xxxxxxxxxxx}

          \item[wait]


The period to enforce between queries.
          \item[fail\_action]


See \texttt{BaseQueryThrottle}.
        \end{Ventry}

      \end{quote}

      Overrides: object.\_\_init\_\_ 	extit{(inherited documentation)}

    \end{boxedminipage}


\large{\textbf{\textit{Inherited from biblio.webquery.querythrottle.WaitNSecondsThrottle\textit{(Section \ref{biblio:webquery:querythrottle:WaitNSecondsThrottle})}}}}

\begin{quote}
log\_success(), within\_limit()
\end{quote}

\large{\textbf{\textit{Inherited from biblio.webquery.querythrottle.BaseQueryThrottle\textit{(Section \ref{biblio:webquery:querythrottle:BaseQueryThrottle})}}}}

\begin{quote}
check\_limit()
\end{quote}

\large{\textbf{\textit{Inherited from biblio.webquery.impl.ReprObj\textit{(Section \ref{biblio:webquery:impl:ReprObj})}}}}

\begin{quote}
\_\_repr\_\_(), \_\_str\_\_(), \_\_unicode\_\_()
\end{quote}

\large{\textbf{\textit{Inherited from object}}}

\begin{quote}
\_\_delattr\_\_(), \_\_getattribute\_\_(), \_\_hash\_\_(), \_\_new\_\_(), \_\_reduce\_\_(), \_\_reduce\_ex\_\_(), \_\_setattr\_\_()
\end{quote}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                              Properties                               %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \subsubsection{Properties}

    \vspace{-1cm}
\hspace{\varindent}\begin{longtable}{|p{\varnamewidth}|p{\vardescrwidth}|l}
\cline{1-2}
\cline{1-2} \centering \textbf{Name} & \centering \textbf{Description}& \\
\cline{1-2}
\endhead\cline{1-2}\multicolumn{3}{r}{\small\textit{continued on next page}}\\\endfoot\cline{1-2}
\endlastfoot\multicolumn{2}{|l|}{\textit{Inherited from object}}\\
\multicolumn{2}{|p{\varwidth}|}{\raggedright \_\_class\_\_}\\
\cline{1-2}
\end{longtable}

    \index{biblio \textit{(package)}!biblio.webquery \textit{(package)}!biblio.webquery.querythrottle \textit{(module)}!biblio.webquery.querythrottle.WaitOneSecondThrottle \textit{(class)}|)}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                           Class Description                           %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    \index{biblio \textit{(package)}!biblio.webquery \textit{(package)}!biblio.webquery.querythrottle \textit{(module)}!biblio.webquery.querythrottle.AbsoluteNumberThrottle \textit{(class)}|(}
\subsection{Class AbsoluteNumberThrottle}

    \label{biblio:webquery:querythrottle:AbsoluteNumberThrottle}
\begin{tabular}{cccccccccc}
% Line for object, linespec=[False, False, False]
\multicolumn{2}{r}{\settowidth{\BCL}{object}\multirow{2}{\BCL}{object}}
&&
&&
&&
  \\\cline{3-3}
  &&\multicolumn{1}{c|}{}
&&
&&
&&
  \\
% Line for biblio.webquery.impl.ReprObj, linespec=[False, False]
\multicolumn{4}{r}{\settowidth{\BCL}{biblio.webquery.impl.ReprObj}\multirow{2}{\BCL}{biblio.webquery.impl.ReprObj}}
&&
&&
  \\\cline{5-5}
  &&&&\multicolumn{1}{c|}{}
&&
&&
  \\
% Line for biblio.webquery.querythrottle.BaseQueryThrottle, linespec=[False]
\multicolumn{6}{r}{\settowidth{\BCL}{biblio.webquery.querythrottle.BaseQueryThrottle}\multirow{2}{\BCL}{biblio.webquery.querythrottle.BaseQueryThrottle}}
&&
  \\\cline{7-7}
  &&&&&&\multicolumn{1}{c|}{}
&&
  \\
&&&&&&\multicolumn{2}{l}{\textbf{biblio.webquery.querythrottle.AbsoluteNumberThrottle}}
\end{tabular}


Limit a query to a maximum number.

Many web-services have a per-day query limit (e.g. 500 per day for ISBNdb).
It is difficult to implement this across multiple invocations of the
query objects and Python interpreter, but this can serve as a crude
implementation. By default, it raises an exception if the limit is
reached.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                Methods                                %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \subsubsection{Methods}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{\_\_init\_\_}(\textit{self}, \textit{max}, \textit{fail\_action}={\tt \texttt{'}\texttt{RAISE}\texttt{'}})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}

C'tor, allowing the maximum queries and failure behaviour to be set.
\setlength{\parskip}{1ex}
      \textbf{Parameters}
      \vspace{-1ex}

      \begin{quote}
        \begin{Ventry}{xxxxxxxxxxx}

          \item[max]


The total number of queries allowed.
            {\it (type=int)}

          \item[fail\_action]


See \texttt{BaseQueryThrottle}.
        \end{Ventry}

      \end{quote}

      Overrides: object.\_\_init\_\_

    \end{boxedminipage}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{within\_limit}(\textit{self}, \textit{wquery})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}

Have fewer queries been posted than the limit?

Note that if multiple queries simulatanoeusly test via this function,
exceeding the limit is possible.
\setlength{\parskip}{1ex}
      \textbf{Parameters}
      \vspace{-1ex}

      \begin{quote}
        \begin{Ventry}{xxxxxx}

          \item[wquery]


See \texttt{check{\_}limit}
        \end{Ventry}

      \end{quote}

      Overrides: biblio.webquery.querythrottle.BaseQueryThrottle.within\_limit

    \end{boxedminipage}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{log\_success}(\textit{self}, \textit{wquery})

\setlength{\parskip}{2ex}

Sucessful queries will probably effect the success of future ones, so
here is a place to log them.
\setlength{\parskip}{1ex}
      Overrides: biblio.webquery.querythrottle.BaseQueryThrottle.log\_success 	extit{(inherited documentation)}

    \end{boxedminipage}


\large{\textbf{\textit{Inherited from biblio.webquery.querythrottle.BaseQueryThrottle\textit{(Section \ref{biblio:webquery:querythrottle:BaseQueryThrottle})}}}}

\begin{quote}
check\_limit()
\end{quote}

\large{\textbf{\textit{Inherited from biblio.webquery.impl.ReprObj\textit{(Section \ref{biblio:webquery:impl:ReprObj})}}}}

\begin{quote}
\_\_repr\_\_(), \_\_str\_\_(), \_\_unicode\_\_()
\end{quote}

\large{\textbf{\textit{Inherited from object}}}

\begin{quote}
\_\_delattr\_\_(), \_\_getattribute\_\_(), \_\_hash\_\_(), \_\_new\_\_(), \_\_reduce\_\_(), \_\_reduce\_ex\_\_(), \_\_setattr\_\_()
\end{quote}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                              Properties                               %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \subsubsection{Properties}

    \vspace{-1cm}
\hspace{\varindent}\begin{longtable}{|p{\varnamewidth}|p{\vardescrwidth}|l}
\cline{1-2}
\cline{1-2} \centering \textbf{Name} & \centering \textbf{Description}& \\
\cline{1-2}
\endhead\cline{1-2}\multicolumn{3}{r}{\small\textit{continued on next page}}\\\endfoot\cline{1-2}
\endlastfoot\multicolumn{2}{|l|}{\textit{Inherited from object}}\\
\multicolumn{2}{|p{\varwidth}|}{\raggedright \_\_class\_\_}\\
\cline{1-2}
\end{longtable}

    \index{biblio \textit{(package)}!biblio.webquery \textit{(package)}!biblio.webquery.querythrottle \textit{(module)}!biblio.webquery.querythrottle.AbsoluteNumberThrottle \textit{(class)}|)}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                           Class Description                           %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    \index{biblio \textit{(package)}!biblio.webquery \textit{(package)}!biblio.webquery.querythrottle \textit{(module)}!biblio.webquery.querythrottle.Max500Throttle \textit{(class)}|(}
\subsection{Class Max500Throttle}

    \label{biblio:webquery:querythrottle:Max500Throttle}
\begin{tabular}{cccccc}
% Line for object, linespec=[False]
\multicolumn{2}{r}{\settowidth{\BCL}{object}\multirow{2}{\BCL}{object}}
&&
  \\\cline{3-3}
  &&\multicolumn{1}{c|}{}
&&
  \\
&&\multicolumn{2}{l}{\textbf{biblio.webquery.querythrottle.Max500Throttle}}
\end{tabular}


Limit a query to 500 attempts at most.

This is a common limit, and so is provided as a convenience.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                Methods                                %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \subsubsection{Methods}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{\_\_init\_\_}(\textit{self})

\setlength{\parskip}{2ex}
    x.\_\_init\_\_(...) initializes x; see x.\_\_class\_\_.\_\_doc\_\_ for 
    signature

\setlength{\parskip}{1ex}
      Overrides: object.\_\_init\_\_ 	extit{(inherited documentation)}

    \end{boxedminipage}


\large{\textbf{\textit{Inherited from object}}}

\begin{quote}
\_\_delattr\_\_(), \_\_getattribute\_\_(), \_\_hash\_\_(), \_\_new\_\_(), \_\_reduce\_\_(), \_\_reduce\_ex\_\_(), \_\_repr\_\_(), \_\_setattr\_\_(), \_\_str\_\_()
\end{quote}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                              Properties                               %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \subsubsection{Properties}

    \vspace{-1cm}
\hspace{\varindent}\begin{longtable}{|p{\varnamewidth}|p{\vardescrwidth}|l}
\cline{1-2}
\cline{1-2} \centering \textbf{Name} & \centering \textbf{Description}& \\
\cline{1-2}
\endhead\cline{1-2}\multicolumn{3}{r}{\small\textit{continued on next page}}\\\endfoot\cline{1-2}
\endlastfoot\multicolumn{2}{|l|}{\textit{Inherited from object}}\\
\multicolumn{2}{|p{\varwidth}|}{\raggedright \_\_class\_\_}\\
\cline{1-2}
\end{longtable}

    \index{biblio \textit{(package)}!biblio.webquery \textit{(package)}!biblio.webquery.querythrottle \textit{(module)}!biblio.webquery.querythrottle.Max500Throttle \textit{(class)}|)}
    \index{biblio \textit{(package)}!biblio.webquery \textit{(package)}!biblio.webquery.querythrottle \textit{(module)}|)}
