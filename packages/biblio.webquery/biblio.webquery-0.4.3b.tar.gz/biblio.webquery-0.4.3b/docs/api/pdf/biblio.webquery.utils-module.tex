%
% API Documentation for biblio.webquery api
% Module biblio.webquery.utils
%
% Generated by epydoc 3.0.1
% [Wed May  6 19:44:01 2009]
%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                          Module Description                           %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    \index{biblio \textit{(package)}!biblio.webquery \textit{(package)}!biblio.webquery.utils \textit{(module)}|(}
\section{Module biblio.webquery.utils}

    \label{biblio:webquery:utils}

Various utilities.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                               Functions                               %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \subsection{Functions}

    \label{biblio:webquery:utils:normalize_isbn}
    \index{biblio \textit{(package)}!biblio.webquery \textit{(package)}!biblio.webquery.utils \textit{(module)}!biblio.webquery.utils.normalize\_isbn \textit{(function)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{normalize\_isbn}(\textit{isbn})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}

Remove formatting from an ISBN, making it suitable for web-queries.
\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \label{biblio:webquery:utils:parse_single_name}
    \index{biblio \textit{(package)}!biblio.webquery \textit{(package)}!biblio.webquery.utils \textit{(module)}!biblio.webquery.utils.parse\_single\_name \textit{(function)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{parse\_single\_name}(\textit{name\_str})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}

Clean up an indivdual name into a more consistent format.
\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \label{biblio:webquery:utils:parse_names}
    \index{biblio \textit{(package)}!biblio.webquery \textit{(package)}!biblio.webquery.utils \textit{(module)}!biblio.webquery.utils.parse\_names \textit{(function)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{parse\_names}(\textit{name\_str})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}

Clean up a list of names into a more consistent format.

Xisbn data can be irregularly formatted, unpredictably including
ancillary information. This function attempts to cleans up the author field
into a list of consistent author names.

For example:
\begin{quote}{\ttfamily \raggedright \noindent
>{}>{}>~n~=~parse{\_}names~("Leonard~Richardson~and~Sam~Ruby.")~\\
>{}>{}>~print~(n{[}0{]}.family~==~'Richardson')~\\
True~\\
>{}>{}>~print~(n{[}0{]}.given~==~'Leonard')~\\
True~\\
>{}>{}>~print~(not~n{[}0{]}.other)~\\
True~\\
>{}>{}>~n~=~parse{\_}names~("Stephen~P.~Schoenberger,~Bali~Pulendran")~\\
>{}>{}>~print~(n{[}0{]}.family~==~'Schoenberger')~\\
True~\\
>{}>{}>~print~(n{[}0{]}.given~==~'Stephen')~\\
True~\\
>{}>{}>~print~(n{[}0{]}.other~==~'P.')~\\
True~\\
>{}>{}>~n~=~parse{\_}names~("Madonna")~\\
>{}>{}>~print~(not~n{[}0{]}.family)~\\
True~\\
>{}>{}>~print~(n{[}0{]}.given~==~'Madonna')~\\
True~\\
>{}>{}>~print~(not~n{[}0{]}.other)~\\
True
}\end{quote}
\setlength{\parskip}{1ex}
      \textbf{Parameters}
      \vspace{-1ex}

      \begin{quote}
        \begin{Ventry}{xxxxxxxx}

          \item[name\_str]


The ``author'' attribute from a Xisbn record in XML.
            {\it (type=string)}

        \end{Ventry}

      \end{quote}

      \textbf{Return Value}
    \vspace{-1ex}

      \begin{quote}

A list of the authors in ``reverse'' format, e.g. ``{[}'Smith, A. B.',
'Jones, X. Y.'{]}''
      \end{quote}

    \end{boxedminipage}

    \label{biblio:webquery:utils:parse_editing_info}
    \index{biblio \textit{(package)}!biblio.webquery \textit{(package)}!biblio.webquery.utils \textit{(module)}!biblio.webquery.utils.parse\_editing\_info \textit{(function)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{parse\_editing\_info}(\textit{name\_str})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}

Detect whethers names are editors and returns
\begin{description}
\item[{Returns:}] \leavevmode 
Whether editing information was recognised and the name with that
editing information removed.

\end{description}

For example:
\begin{quote}{\ttfamily \raggedright \noindent
>{}>{}>~parse{\_}editing{\_}info~("Leonard~Richardson~and~Sam~Ruby.")~\\
(False,~'Leonard~Richardson~and~Sam~Ruby.')~\\
>{}>{}>~parse{\_}editing{\_}info~("Ann~Thomson.")~\\
(False,~'Ann~Thomson.')~\\
>{}>{}>~parse{\_}editing{\_}info~("Stephen~P.~Schoenberger,~Bali~Pulendran,~editors.")~\\
(True,~'Stephen~P.~Schoenberger,~Bali~Pulendran')~\\
>{}>{}>~print~parse{\_}editing{\_}info~("Madonna")~\\
(False,~'Madonna')
}\end{quote}
\setlength{\parskip}{1ex}
    \end{boxedminipage}

    \label{biblio:webquery:utils:parse_publisher}
    \index{biblio \textit{(package)}!biblio.webquery \textit{(package)}!biblio.webquery.utils \textit{(module)}!biblio.webquery.utils.parse\_publisher \textit{(function)}}

    \vspace{0.5ex}

\hspace{.8\funcindent}\begin{boxedminipage}{\funcwidth}

    \raggedright \textbf{parse\_publisher}(\textit{pub\_str})

    \vspace{-1.5ex}

    \rule{\textwidth}{0.5\fboxrule}
\setlength{\parskip}{2ex}

Parse a string of publisher information.

As with author names, publication details are often inconsistently set out,
even in bibliographic data. This function attempts to parse out and
normalise the details.

For example:
\begin{quote}{\ttfamily \raggedright \noindent
>{}>{}>~parse{\_}publisher~('New~York:~Asia~Pub.~House,~c1979.')~\\
('Asia~Pub.~House',~'New~York',~'1979')~\\
>{}>{}>~parse{\_}publisher~('New~York~:~LearningExpress,~1999.')~\\
('LearningExpress',~'New~York',~'1999')~\\
>{}>{}>~parse{\_}publisher~('HarperTorch')~\\
('HarperTorch',~'{}',~'{}')~\\
>{}>{}>~parse{\_}publisher~('Berkeley~Heights,~NJ:~Enslow~Publishers,~c2000.')~\\
('Enslow~Publishers',~'Berkeley~Heights,~NJ',~'2000')
}\end{quote}
\setlength{\parskip}{1ex}
      \textbf{Parameters}
      \vspace{-1ex}

      \begin{quote}
        \begin{Ventry}{xxxxxxx}

          \item[pub\_str]


text giving publisher details.
            {\it (type=string)}

        \end{Ventry}

      \end{quote}

      \textbf{Return Value}
    \vspace{-1ex}

      \begin{quote}

A tuple of strings, being ({\textless}publisher{\textgreater}, {\textless}city of publication{\textgreater},
{\textless}year of publication{\textgreater}). If no value is available, an empty string
returned.
      \end{quote}

    \end{boxedminipage}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                               Variables                               %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

  \subsection{Variables}

    \vspace{-1cm}
\hspace{\varindent}\begin{longtable}{|p{\varnamewidth}|p{\vardescrwidth}|l}
\cline{1-2}
\cline{1-2} \centering \textbf{Name} & \centering \textbf{Description}& \\
\cline{1-2}
\endhead\cline{1-2}\multicolumn{3}{r}{\small\textit{continued on next page}}\\\endfoot\cline{1-2}
\endlastfoot\raggedright E\-D\-I\-T\-O\-R\-\_\-P\-A\-T\-S\- & \raggedright \textbf{Value:} 
{\tt \texttt{[}re.compile(r'\texttt{(?iu)}{\textasciicircum}edited by{\textbackslash}s\texttt{+}')\texttt{, }re.compile(r'\texttt{(?iu)}{\textbackslash}s\texttt{*}\texttt{...}}&\\
\cline{1-2}
\raggedright S\-T\-R\-I\-P\-\_\-P\-A\-T\-S\- & \raggedright \textbf{Value:} 
{\tt \texttt{[}re.compile(r'\texttt{(?iu)}{\textasciicircum}by{\textbackslash}s\texttt{+}')\texttt{, }re.compile(r'\texttt{(?iu)}{\textbackslash}s\texttt{*};{\textbackslash}s\texttt{+}wit\texttt{...}}&\\
\cline{1-2}
\raggedright A\-N\-D\-\_\-P\-A\-T\- & \raggedright \textbf{Value:} 
{\tt re.compile(r'{\textbackslash}s\texttt{+}and{\textbackslash}s\texttt{+}')}&\\
\cline{1-2}
\raggedright C\-O\-L\-L\-A\-P\-S\-E\-\_\-S\-P\-A\-C\-E\-\_\-R\-E\- & \raggedright \textbf{Value:} 
{\tt re.compile(r'{\textbackslash}s\texttt{+}')}&\\
\cline{1-2}
\raggedright P\-U\-B\-L\-I\-S\-H\-E\-R\-\_\-R\-E\-S\- & \raggedright \textbf{Value:} 
{\tt \texttt{[}re.compile(r'\texttt{(?iu)}{\textasciicircum}\texttt{(?P{\textless}}\texttt{city}\texttt{{\textgreater}}.\texttt{*}\texttt{)}{\textbackslash}s\texttt{*}:{\textbackslash}s\texttt{*}\texttt{(?P{\textless}}\texttt{pub}\texttt{{\textgreater}}.\texttt{*}\texttt{)}{\textbackslash}s\texttt{*},{\textbackslash}s\texttt{*}\texttt{...}}&\\
\cline{1-2}
\raggedright p\- & \raggedright \textbf{Value:} 
{\tt \texttt{'}\texttt{{\textasciicircum}(?P{\textless}pub{\textgreater}.*){\textbackslash}{\textbackslash}.?\$}\texttt{'}}&\\
\cline{1-2}
\raggedright x\- & \raggedright \textbf{Value:} 
{\tt \texttt{'}\texttt{{\textbackslash}{\textbackslash}s*;.*\$}\texttt{'}}&\\
\cline{1-2}
\end{longtable}

    \index{biblio \textit{(package)}!biblio.webquery \textit{(package)}!biblio.webquery.utils \textit{(module)}|)}
