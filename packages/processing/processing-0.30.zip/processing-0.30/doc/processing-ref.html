<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.4: http://docutils.sourceforge.net/" />
<title>processing package reference</title>
<link rel="stylesheet" href="html4css1.css" type="text/css" />
</head>
<body>
<div class="header">
<a class="reference" href="intro.html">Prev</a> &nbsp; &nbsp; &nbsp; &nbsp; <a class="reference" href="index.html">Up</a> &nbsp; &nbsp; &nbsp; &nbsp; <a class="reference" href="process-objects.html">Next</a>
<hr class="header"/>
</div>
<div class="document" id="processing-package-reference">
<h1 class="title">processing package reference</h1>
<p>The <tt class="docutils literal"><span class="pre">processing</span></tt> package mostly replicates the API of the <tt class="docutils literal"><span class="pre">threading</span></tt>
module.</p>
<p>The following functions and classes which correspond to analogous
to objects from <tt class="docutils literal"><span class="pre">threading</span></tt> or <tt class="docutils literal"><span class="pre">Queue</span></tt>:</p>
<blockquote>
<dl class="docutils">
<dt><strong>class</strong> <tt class="docutils literal"><span class="pre">Process(group=None,</span> <span class="pre">target=None,</span> <span class="pre">name=None,</span> <span class="pre">args=(),</span> <span class="pre">kwargs={})</span></tt></dt>
<dd><p class="first">An analogue of <tt class="docutils literal"><span class="pre">threading.Thread</span></tt>.</p>
<p class="last">See <a class="reference" href="process-objects.html">Process objects</a>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">currentProcess()</span></tt></dt>
<dd><p class="first">An analogue of <tt class="docutils literal"><span class="pre">threading.currentThread</span></tt></p>
<p class="last">Returns the object corresponding to the current process.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">BoundedSemaphore(value=1)</span></tt></dt>
<dd>Returns a bounded semaphore object: a clone of
<tt class="docutils literal"><span class="pre">threading.BoundedSemaphore</span></tt>. <a class="footnote-reference" href="#id11" id="id1" name="id1">[1]</a></dd>
<dt><tt class="docutils literal"><span class="pre">Condition(lock=None)</span></tt></dt>
<dd><p class="first">Returns a condition variable: a clone of <tt class="docutils literal"><span class="pre">threading.Condition</span></tt>.</p>
<p class="last">If <tt class="docutils literal"><span class="pre">lock</span></tt> is specified then it should be a <tt class="docutils literal"><span class="pre">Lock</span></tt> or <tt class="docutils literal"><span class="pre">RLock</span></tt>
object from <tt class="docutils literal"><span class="pre">processing</span></tt>. <a class="footnote-reference" href="#id11" id="id2" name="id2">[1]</a></p>
</dd>
<dt><tt class="docutils literal"><span class="pre">Event()</span></tt></dt>
<dd>Returns an event object: a clone of <tt class="docutils literal"><span class="pre">threading.Event</span></tt>. <a class="footnote-reference" href="#id11" id="id3" name="id3">[1]</a></dd>
<dt><tt class="docutils literal"><span class="pre">Lock()</span></tt></dt>
<dd>Returns a lock object: a clone of <tt class="docutils literal"><span class="pre">threading.Lock</span></tt> except
that acquiring a lock already owned by the calling thread
raises an exception instead of causing a deadlock). <a class="footnote-reference" href="#id11" id="id4" name="id4">[1]</a></dd>
<dt><tt class="docutils literal"><span class="pre">Queue(maxsize=0)</span></tt></dt>
<dd><p class="first">Returns a queue object: a clone of <tt class="docutils literal"><span class="pre">Queue.Queue</span></tt>.</p>
<p>This is an alias for either <tt class="docutils literal"><span class="pre">processing.PosixQueue</span></tt> (if it is
available) or <tt class="docutils literal"><span class="pre">processing.PipeQueue</span></tt>.</p>
<p class="last">Note that often it is more convenient to use <tt class="docutils literal"><span class="pre">Pipe()</span></tt>
instead. <a class="footnote-reference" href="#id11" id="id5" name="id5">[1]</a></p>
</dd>
<dt><tt class="docutils literal"><span class="pre">RLock()</span></tt></dt>
<dd>Returns a recursive lock object: a clone of <tt class="docutils literal"><span class="pre">threading.RLock</span></tt> <a class="footnote-reference" href="#id11" id="id6" name="id6">[1]</a></dd>
<dt><tt class="docutils literal"><span class="pre">Semaphore(value=1)</span></tt></dt>
<dd>Returns a bounded semaphore object: a clone of
<tt class="docutils literal"><span class="pre">threading.Semaphore</span></tt>. <a class="footnote-reference" href="#id11" id="id7" name="id7">[1]</a></dd>
</dl>
</blockquote>
<p>Objects with no equivalents in the <tt class="docutils literal"><span class="pre">threading</span></tt> module are:</p>
<blockquote>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">activeChildren()</span></tt></dt>
<dd><p class="first">Return list of all live children of the current process.</p>
<p class="last">Calling this has the side affect of &quot;joining&quot; any processes
which have already finished.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">Pipe()</span></tt></dt>
<dd><p class="first">Returns a pair of connection objects representing the ends of
a duplex connection.  (See <a class="reference" href="connection-ref.html#connection-objects">Connection objects</a>.)  These connection
objects can be inherited by child processes.</p>
<p class="last">Note that (unlike a queue object) connection objects are not
thread/process safe. <a class="footnote-reference" href="#id11" id="id8" name="id8">[1]</a></p>
</dd>
<dt><tt class="docutils literal"><span class="pre">Manager()</span></tt></dt>
<dd><p class="first">Returns a <tt class="docutils literal"><span class="pre">SyncManager</span></tt> object which can be used for sharing
objects between processes.  The returned manager object
corresponds to a spawned child process and has methods which
will create shared objects and return corresponding proxies.</p>
<p>The methods for creating shared objects are</p>
<blockquote>
<tt class="docutils literal"><span class="pre">list</span></tt>, <tt class="docutils literal"><span class="pre">dict</span></tt>, <tt class="docutils literal"><span class="pre">Namespace</span></tt>, <tt class="docutils literal"><span class="pre">SharedValue</span></tt>,
<tt class="docutils literal"><span class="pre">SharedStruct</span></tt>, <tt class="docutils literal"><span class="pre">SharedArray</span></tt>, <tt class="docutils literal"><span class="pre">Lock</span></tt>, <tt class="docutils literal"><span class="pre">RLock</span></tt>,
<tt class="docutils literal"><span class="pre">Semaphore</span></tt>, <tt class="docutils literal"><span class="pre">BoundedSemaphore</span></tt>, <tt class="docutils literal"><span class="pre">Condition</span></tt>, <tt class="docutils literal"><span class="pre">Event</span></tt>,
<tt class="docutils literal"><span class="pre">Queue</span></tt></blockquote>
<p class="last">See <a class="reference" href="manager-objects.html#syncmanager">SyncManager</a> and
<a class="reference" href="proxy-objects.html">Proxy objects</a>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">LocalManager()</span></tt></dt>
<dd><p class="first">Returns a manager object with instance methods</p>
<blockquote>
<tt class="docutils literal"><span class="pre">SharedValue</span></tt>, <tt class="docutils literal"><span class="pre">SharedStruct</span></tt>, <tt class="docutils literal"><span class="pre">SharedArray</span></tt></blockquote>
<p>for creating objects stored in shared memory map for storing
data.  Also has static methods</p>
<blockquote>
<tt class="docutils literal"><span class="pre">Lock</span></tt>, <tt class="docutils literal"><span class="pre">RLock</span></tt>, <tt class="docutils literal"><span class="pre">Semaphore</span></tt>, <tt class="docutils literal"><span class="pre">BoundedSemaphore</span></tt>,
<tt class="docutils literal"><span class="pre">Condition</span></tt>, <tt class="docutils literal"><span class="pre">Event</span></tt>, <tt class="docutils literal"><span class="pre">Queue</span></tt></blockquote>
<p class="last">which are just aliases for the types in the <tt class="docutils literal"><span class="pre">processing</span></tt>
namespace.  See <a class="reference" href="manager-objects.html#shared-memory-managers">LocalManager</a>. <a class="footnote-reference" href="#id11" id="id9" name="id9">[1]</a></p>
</dd>
<dt><tt class="docutils literal"><span class="pre">PipeQueue(maxsize=0)</span></tt></dt>
<dd><p class="first">Returns a near clone of <tt class="docutils literal"><span class="pre">Queue.Queue</span></tt> except that the
<tt class="docutils literal"><span class="pre">qsize()</span></tt> method is not implemented.  It is implemented using
a pipe and some locks/semaphores.</p>
<p>On unix if a client terminates while it is reading or writing
from the queue, other clients reading from the queue may lose
track of where messages boundaries are or may retrieve
incomplete messages.  At least on Windows a keyboard interrupt
(SIGINT) or the use of a process's <tt class="docutils literal"><span class="pre">stop()</span></tt> method should not
cause such a problem.</p>
<p class="last">Placing an object on a <tt class="docutils literal"><span class="pre">PipeQueue</span></tt> can block because of lack
of buffer space even if a zero timeout is used. <a class="footnote-reference" href="#id11" id="id10" name="id10">[1]</a></p>
</dd>
<dt><tt class="docutils literal"><span class="pre">PosixQueue(maxsize=0,</span> <span class="pre">msgsize=0)</span></tt></dt>
<dd><p class="first">Returns a near clone of <tt class="docutils literal"><span class="pre">Queue.Queue</span></tt> implemented using a (Unix
only) posix message queue.</p>
<p>If <tt class="docutils literal"><span class="pre">maxsize</span></tt> is non-zero it determines the maximum number of
messages that can be in the queue and if <tt class="docutils literal"><span class="pre">msgsize</span></tt> is non-zero
it determines the maximum size in bytes of a message.  If
either is zero then the system default (which is finite) is
used.  These defaults can be obtained as a pair of integers by
calling the <tt class="docutils literal"><span class="pre">getdefaults()</span></tt> method.</p>
<p>Note that if <tt class="docutils literal"><span class="pre">maxsize</span></tt> or <tt class="docutils literal"><span class="pre">msgsize</span></tt> is larger than the system
maximum then an exception will be thrown.  On Linux the system
maximums can viewed and modified through the <tt class="docutils literal"><span class="pre">/proc</span></tt>
filesystem --- see <tt class="docutils literal"><span class="pre">man</span> <span class="pre">7</span> <span class="pre">mq_overview</span></tt>.</p>
<p class="last">Requires the <tt class="docutils literal"><span class="pre">_processing</span></tt> extension to have posix message
queue support.</p>
</dd>
<dt><strong>exception</strong> <tt class="docutils literal"><span class="pre">ProcessExit</span></tt></dt>
<dd>Exception raised in another process when the <tt class="docutils literal"><span class="pre">Process.stop()</span></tt>
method is used.  This is a subclass of <tt class="docutils literal"><span class="pre">SystemExit</span></tt>.</dd>
</dl>
</blockquote>
<table class="docutils footnote" frame="void" id="id11" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a name="id11">[1]</a></td><td><em>(<a class="fn-backref" href="#id1">1</a>, <a class="fn-backref" href="#id2">2</a>, <a class="fn-backref" href="#id3">3</a>, <a class="fn-backref" href="#id4">4</a>, <a class="fn-backref" href="#id5">5</a>, <a class="fn-backref" href="#id6">6</a>, <a class="fn-backref" href="#id7">7</a>, <a class="fn-backref" href="#id8">8</a>, <a class="fn-backref" href="#id9">9</a>, <a class="fn-backref" href="#id10">10</a>)</em> These functions require that the <tt class="docutils literal"><span class="pre">_processing</span></tt> extension to be
compiled (with support for semaphores).  Note that <tt class="docutils literal"><span class="pre">Manager</span></tt> does
<em>not</em> require <tt class="docutils literal"><span class="pre">_processing</span></tt> but supports almost all the same
functionality.</td></tr>
</tbody>
</table>
<div class="note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>The <tt class="docutils literal"><span class="pre">processing.dummy</span></tt> package replicates the API of <tt class="docutils literal"><span class="pre">processing</span></tt>
but is no more than a wrapper around the <tt class="docutils literal"><span class="pre">threading</span></tt> module.</li>
<li><tt class="docutils literal"><span class="pre">processing</span></tt> contains no analogues of <tt class="docutils literal"><span class="pre">activeCount</span></tt>,
<tt class="docutils literal"><span class="pre">enumerate</span></tt>, <tt class="docutils literal"><span class="pre">settrace</span></tt>, <tt class="docutils literal"><span class="pre">setprofile</span></tt>, <tt class="docutils literal"><span class="pre">Timer</span></tt>, or
<tt class="docutils literal"><span class="pre">local</span></tt> from the <tt class="docutils literal"><span class="pre">threading</span></tt> module.</li>
</ul>
</div>
<div class="section">
<h1><a id="subsections" name="subsections">Subsections</a></h1>
<ul class="simple">
<li><a class="reference" href="process-objects.html">Process objects</a></li>
<li><a class="reference" href="manager-objects.html">Manager objects</a></li>
<li><a class="reference" href="proxy-objects.html">Proxy objects</a></li>
<li><a class="reference" href="connection-ref.html">connection sub-package</a></li>
</ul>
</div>
</div>
<div class="footer">
<hr class="footer" />
<a class="reference" href="intro.html">Prev</a> &nbsp; &nbsp; &nbsp; &nbsp; <a class="reference" href="index.html">Up</a> &nbsp; &nbsp; &nbsp; &nbsp; <a class="reference" href="process-objects.html">Next</a>
</div>
</body>
</html>
