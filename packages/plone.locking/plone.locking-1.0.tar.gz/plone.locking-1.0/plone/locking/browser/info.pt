<div id="plone-lock-status" 
    tal:define="locked view/info/is_locked_for_current_user;
                stealable view/lock_is_stealable;
                lock_details view/lock_info;">
                
  <tal:block condition="locked">
                
      <dl class="portalMessage info"
         tal:condition="not:stealable"
         i18n:translate="description_webdav_locked_not_stealable">
        <dt>Locked</dt>
        <dd>This item was locked by 
            <a i18n:name="author"
               tal:content="lock_details/fullname"
               tal:attributes="href lock_details/author_page" />
            <span i18n:name="time"
               tal:content="lock_details/time_difference" /> ago.
        </dd>
      </dl>
  
      <form tal:condition="stealable"
            tal:attributes="action string:${context/absolute_url}/@@plone_lock_operations/force_unlock">
          <dl class="portalMessage info"
             i18n:translate="description_webdav_locked_stealable">
            <dt>Locked</dt>
            <dd>This item was locked by
                <a i18n:name="author"
                   tal:content="lock_details/fullname"
                   tal:attributes="href lock_details/author_page" />
                <span i18n:name="time"
                   tal:content="lock_details/time_difference" /> ago.
            If you are certain this user has abandoned the object, you
            may
                <input type="submit" 
                       value="Unlock" 
                       i18n:name="unlock_button"
                       i18n:attributes="value" /> 
            the object. You will then be able to edit it.
            </dd>
          </dl>
      </form>    
  </tal:block>
</div>