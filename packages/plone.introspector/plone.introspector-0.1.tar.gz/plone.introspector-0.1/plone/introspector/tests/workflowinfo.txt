Browser tests for plone.introspector
=============================

Some setup code

    >>> from Products.Five.testbrowser import Browser
    >>> browser = Browser()
    >>> portal_url = self.portal.absolute_url()
    >>> base_url = 'http://nohost'
    >>> object_inspect = '++inspect++/info.html'


The following is useful when writing and debugging testbrowser tests. It lets
us see error messages properly.

    >>> browser.handleErrors = False
    >>> self.portal.error_log._ignored_exceptions = ()


Before we log in and do some testing lets do some non-browser tests. 
Test that the interface is correct:

	>>> from zope.interface.verify import verifyClass
	>>> from plone.introspector.interfaces import IWorkflowInfo
	>>> from plone.introspector.workflowinfo import WorkflowInfo
	>>> verifyClass(IWorkflowInfo, WorkflowInfo)
	True

Finally, we need to log in as the portal owner, i.e. an administrator user. We
want to go to the manage screens but the easiest way is to go via the 
Plone portal login screens.

    >>> from Products.PloneTestCase.setup import portal_owner, default_password

    >>> browser.open(portal_url + '/login_form?came_from=' + portal_url)
    >>> browser.getControl(name='__ac_name').value = portal_owner
    >>> browser.getControl(name='__ac_password').value = default_password
    >>> browser.getControl(name='submit').click()
    
Now the Workflowinfo should be available from the object introspector:

	>>> browser.open(portal_url + '/Members/' + object_inspect)
	>>> 'Workflow' in browser.contents
	True
