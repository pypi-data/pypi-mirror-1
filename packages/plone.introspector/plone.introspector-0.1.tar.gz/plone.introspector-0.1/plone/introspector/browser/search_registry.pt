<html metal:use-macro="context/@@standard_macros/page">
<body>

<metal:slot metal:fill-slot="body">
<metal:macro metal:define-macro="heading">
<h1 i18n:translate="heading_edit_marker">Search Registry</h1>
</metal:macro>
<metal:macro metal:define-macro="main">

<p class="form-help">Enter * to list all entries in the selected category or enter a search query.</p>

  <form action="request/URL"
     tal:attributes="action request/URL"
     method="post"
     >
     
     <table class="action">
     	<tbody>
     		<tr>
     			<td class="top left">
     				<div class="form-label" >
     					Search for:
     				</div>
     			</td>
     			<td class="top left">
     				<div class="form-element" >
     					<input type="text" 
        	   				   name="searchQuery" 
        	   				   size="50"
        	   				   tal:attributes="value request/searchQuery | nothing"
        	   				   />
     				</div>
     			</td>
     		</tr>
     		<tr>
     			<td class="top left">
     				<div class="form-label">
     					in:
     				</div>
     			</td>
     			<td class="top left">
     				<div class="form-element" >
     					<div>
     						<input type="checkbox"
     							   name="adapters"
	      		   				   tal:attributes="checked request/adapters | nothing"
	      		   				   />
	      		   			Adapters
     					</div>
     					<div>
     						<input type="checkbox" 
	      		   				   name="utilities"
	      		   				   tal:attributes="checked request/utilities | nothing"
	      		   				   />
	      		   			Utilities
     					</div>
     					<div>
     						<input type="checkbox"
     						       name="handlers"
     						       tal:attributes="checked request/handlers | nothing"
     						       />
     						Handlers
     					</div>
     					<div>
     						<input type="checkbox"
     							   name="subscriptionAdapters"
     							   tal:attributes="checked request/subscriptionAdapters | nothing"
     							   />
     						Subscription Adapters
     					</div>
     				</div>
     			</td>
     		</tr>
     		<tr>
     			<td class="top left" />
     			<td class="top left">
     				<div class="form-element">
     					<input type="submit" name="search" value="Search"/>
     				</div>
     			</td>
     		</tr>
     	</tbody>
  </form>

<table tal:define="results view/searchRegistry"
	   tal:condition="results">
	   <thead>
		   <tr class="list-header">
		   		<td>
		   		
		   		</td>
		   </tr>
	   </thead>
	   <tbody>
			<tal:items repeat="item results"> 
	   		<tr tal:define="oddrow repeat/item/odd"
	   		    tal:attributes="class python:oddrow and 'row-hilite' or 'row-normal'" >
	   			<td>
	   				<div class="list-item" 
                         tal:content="structure item/@@registration.html"/>
	   			</td>
	   		</tr>
	   		</tal:items>
	   </tbody>
</table>

</metal:macro>
</metal:slot>

</body>
</html>
