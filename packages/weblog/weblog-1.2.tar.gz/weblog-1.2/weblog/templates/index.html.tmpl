{% extends 'base.html.tmpl' %}

{% block content %}
<h1 id='title'><a href='index.html'>{{ title|escape|decode }}</a></h1>
{% if description %}
<p id='description'>{{ description|escape|decode }}</p>
{% endif %}

{% for post in post_list %}
<h2 class='post-title'>
    <a href='{{ post.url() }}'>{{ post.title|escape|decode }}</a>
</h2>
<p class='post-header'>
<span class='date'>{{ post.formatted_date() }}</span>
{%- if post.author %}
, <span class='author'>by {{ post.author.name()|decode }}
&lt;{{ post.author.email()|urlize }}&gt;</span>
{% endif %}
</p>
<div class='post-content'>
{{ post.get_html()|decode }}</div>
{% endfor %}

<hr class='footer-ruler'>
{% if pages|length > 1 %}
<div class='paginator'>
{% if pages.index(page) > 0 %}
<a href='{{ pages[pages.index(page) - 1].url() }}'>&laquo; prev</a>
{% endif %}
{% for p in pages %}
    {% if p == page %}
        <span class='paginator-link'>{{ p.title }}</span>
    {% else %}
        <a class='paginator-link' href='{{ p.url() }}'>{{ p.title }}</a>
    {% endif %}
{% endfor %}
{% if pages.index(page) + 1 < pages|length %}
<a href='{{ pages[pages.index(page) + 1].url() }}'>next &raquo;</a>
{% endif %}
</div>
{% endif %}
{% endblock %}
{# vim:set ft=htmljinja: #}
