/* Generated by Pyrex 0.9.3 on Tue Aug 23 09:33:55 2005 */

#include "Python.h"
#include "structmember.h"
#ifndef PY_LONG_LONG
  #define PY_LONG_LONG LONG_LONG
#endif
#include "stdio.h"
#include "genx.h"


typedef struct {PyObject **p; char *s;} __Pyx_InternTabEntry; /*proto*/
typedef struct {PyObject **p; char *s; long n;} __Pyx_StringTabEntry; /*proto*/
static PyObject *__Pyx_UnpackItem(PyObject *, int); /*proto*/
static int __Pyx_EndUnpack(PyObject *, int); /*proto*/
static int __Pyx_PrintItem(PyObject *); /*proto*/
static int __Pyx_PrintNewline(void); /*proto*/
static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb); /*proto*/
static void __Pyx_ReRaise(void); /*proto*/
static PyObject *__Pyx_Import(PyObject *name, PyObject *from_list); /*proto*/
static PyObject *__Pyx_GetExcValue(void); /*proto*/
static int __Pyx_ArgTypeTest(PyObject *obj, PyTypeObject *type, int none_allowed, char *name); /*proto*/
static int __Pyx_TypeTest(PyObject *obj, PyTypeObject *type); /*proto*/
static int __Pyx_GetStarArgs(PyObject **args, PyObject **kwds, char *kwd_list[], int nargs, PyObject **args2, PyObject **kwds2); /*proto*/
static void __Pyx_WriteUnraisable(char *name); /*proto*/
static void __Pyx_AddTraceback(char *funcname); /*proto*/
static PyTypeObject *__Pyx_ImportType(char *module_name, char *class_name, long size);  /*proto*/
static int __Pyx_SetVtable(PyObject *dict, void *vtable); /*proto*/
static int __Pyx_GetVtable(PyObject *dict, void *vtabptr); /*proto*/
static PyObject *__Pyx_CreateClass(PyObject *bases, PyObject *dict, PyObject *name, char *modname); /*proto*/
static int __Pyx_InternStrings(__Pyx_InternTabEntry *t); /*proto*/
static int __Pyx_InitStrings(__Pyx_StringTabEntry *t); /*proto*/
static PyObject *__Pyx_GetName(PyObject *dict, PyObject *name); /*proto*/

static PyObject *__pyx_m;
static PyObject *__pyx_b;
static int __pyx_lineno;
static char *__pyx_filename;
staticforward char **__pyx_f;

/* Declarations from _genx */

staticforward PyTypeObject __pyx_type_5_genx_Namespace;

struct __pyx_obj_5_genx_Namespace {
  PyObject_HEAD
  genxNamespace ns;
  utf8 uri;
  utf8 xmlns;
};

staticforward PyTypeObject __pyx_type_5_genx_Element;

struct __pyx_obj_5_genx_Element {
  PyObject_HEAD
  genxElement elem;
  utf8 name;
  struct __pyx_obj_5_genx_Namespace *namespace;
};

staticforward PyTypeObject __pyx_type_5_genx_Attribute;

struct __pyx_obj_5_genx_Attribute {
  PyObject_HEAD
  genxAttribute attr;
  utf8 name;
  struct __pyx_obj_5_genx_Namespace *namespace;
};

staticforward PyTypeObject __pyx_type_5_genx_Writer;

struct __pyx_obj_5_genx_Writer {
  PyObject_HEAD
  genxWriter writer;
  PyObject *userData;
};

static PyTypeObject *__pyx_ptype_5_genx_Namespace = 0;
static PyTypeObject *__pyx_ptype_5_genx_Element = 0;
static PyTypeObject *__pyx_ptype_5_genx_Attribute = 0;
static PyTypeObject *__pyx_ptype_5_genx_Writer = 0;
static genxSender __pyx_v_5_genx_sender;
static PyObject *__pyx_k28;
static struct __pyx_obj_5_genx_Namespace *__pyx_k29;
static struct __pyx_obj_5_genx_Namespace *__pyx_k30;
static PyObject *__pyx_k31;
static PyObject *__pyx_k32;
static PyObject *__pyx_k33;
static PyObject *__pyx_k34;
static struct __pyx_obj_5_genx_Namespace *__pyx_k35;
static struct __pyx_obj_5_genx_Namespace *__pyx_k36;
static genxStatus (__pyx_f_5_genx_send(void (*),constUtf8 )); /*proto*/
static genxStatus (__pyx_f_5_genx_send_bounded(void (*),constUtf8 ,constUtf8 )); /*proto*/
static genxStatus (__pyx_f_5_genx_flush(void (*))); /*proto*/

/* Implementation of _genx */

static char (__pyx_k1[]) = "0.6";
static char (__pyx_k3[]) = "Raised when an error occurs during one of the genx calls.\n    \n    This is a generic error, (i.e. when the status != GENX_SUCCESS).\n    ";
static char (__pyx_k5[]) = "Raised when a duplicate attribute is added to an element\n\n    Represents GENX_DUPLICATE_ATTRIBUTE\n    ";
static char (__pyx_k7[]) = "Raised when the namespace given is invalid.\n\n    Represents GENX_BAD_NAMESPACE_NAME\n    ";
static char (__pyx_k9[]) = "Raised when there is a duplicaten xmlns prefix\n\n    Represents GENX_DUPLICATE_PREFIX\n    ";
static char (__pyx_k11[]) = "Raised when an invalid name is used\n\n    Represents GENX_BAD_NAME\n    ";
static char (__pyx_k13[]) = "Raised when calls are mad in an invalid sequence.\n\n    Represents GENX_SEQUENCE_ERROR\n    ";
static char (__pyx_k15[]) = "\n\n    Represents GENX_ATTRIBUTE_IN_DEFAULT_NAMESPACE\n    ";
static char (__pyx_k17[]) = "Raised when there is an IO problem\n\n    Represents GENX_IO_ERROR\n    ";
static char (__pyx_k19[]) = "Raised for invalid UTF-8 strings\n\n    Represents GENX_BAD_UTF8\n    ";
static char (__pyx_k21[]) = "\n\n    Represents GENX_NON_XML_CHARACTER\n    ";
static char (__pyx_k23[]) = "Raised for bad Processing Instructions (PI)\n\n    Represents GENX_MALFORMED_PI\n    ";
static char (__pyx_k25[]) = "\n\n    Represents GENX_DUPLICATE_NAMESPACE\n    ";
static char (__pyx_k27[]) = "\n\n    Represents GENX_BAD_DEFAULT_DECLARATION\n    ";

static PyObject *__pyx_n___version__;
static PyObject *__pyx_n_GenxError;
static PyObject *__pyx_n_DuplicateAttributeError;
static PyObject *__pyx_n_BadNamespaceNameError;
static PyObject *__pyx_n_DuplicatePrefixError;
static PyObject *__pyx_n_BadNameError;
static PyObject *__pyx_n_SequenceError;
static PyObject *__pyx_n_AttributeInDefaultNamespaceError;
static PyObject *__pyx_n_IOError;
static PyObject *__pyx_n_BadUTF8Error;
static PyObject *__pyx_n_NonXMLCharacterError;
static PyObject *__pyx_n_MalformedPIError;
static PyObject *__pyx_n_DuplicateNamespaceError;
static PyObject *__pyx_n_BadDefaultDeclarationError;
static PyObject *__pyx_n_get_version;
static PyObject *__pyx_n_Exception;

static PyObject *__pyx_k1p;
static PyObject *__pyx_k3p;
static PyObject *__pyx_k5p;
static PyObject *__pyx_k7p;
static PyObject *__pyx_k9p;
static PyObject *__pyx_k11p;
static PyObject *__pyx_k13p;
static PyObject *__pyx_k15p;
static PyObject *__pyx_k17p;
static PyObject *__pyx_k19p;
static PyObject *__pyx_k21p;
static PyObject *__pyx_k23p;
static PyObject *__pyx_k25p;
static PyObject *__pyx_k27p;

static PyObject *__pyx_f_5_genx_get_version(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5_genx_get_version[] = "Returns the genx version string, as defined in the original C library";
static PyObject *__pyx_f_5_genx_get_version(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":267 */
  __pyx_1 = PyString_FromString(genxGetVersion()); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 267; goto __pyx_L1;}
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  __Pyx_AddTraceback("_genx.get_version");
  __pyx_r = 0;
  __pyx_L0:;
  return __pyx_r;
}

static char (__pyx_k37[]) = "";

static int __pyx_f_5_genx_9Namespace___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5_genx_9Namespace___init__[] = "Create an namespace using a namespace URI and an optional xmlns value.\n\n        Note that on it\'s own it isn\'t a great deal of use, it\'s normally created from inside\n        a Writer instance, which sets an elem attribute with a genxNamespace.";
static int __pyx_f_5_genx_9Namespace___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_uri = 0;
  PyObject *__pyx_v_xmlns = 0;
  int __pyx_r;
  utf8 __pyx_1;
  int __pyx_2;
  static char *__pyx_argnames[] = {"uri","xmlns",0};
  __pyx_v_xmlns = __pyx_k28;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|O", __pyx_argnames, &__pyx_v_uri, &__pyx_v_xmlns)) return -1;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_uri);
  Py_INCREF(__pyx_v_xmlns);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":280 */
  __pyx_1 = PyString_AsString(__pyx_v_uri); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 280; goto __pyx_L1;}
  ((struct __pyx_obj_5_genx_Namespace *)__pyx_v_self)->uri = __pyx_1;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":281 */
  if (PyObject_Cmp(__pyx_v_xmlns, Py_None, &__pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 281; goto __pyx_L1;}
  __pyx_2 = __pyx_2 == 0;
  if (__pyx_2) {

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":282 */
    ((struct __pyx_obj_5_genx_Namespace *)__pyx_v_self)->xmlns = __pyx_k37;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":284 */
    __pyx_1 = PyString_AsString(__pyx_v_xmlns); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 284; goto __pyx_L1;}
    ((struct __pyx_obj_5_genx_Namespace *)__pyx_v_self)->xmlns = __pyx_1;
  }
  __pyx_L2:;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("_genx.Namespace.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_uri);
  Py_DECREF(__pyx_v_xmlns);
  return __pyx_r;
}

static PyObject *__pyx_k38p;

static char (__pyx_k38[]) = "<Namespace %s:%s>";

static PyObject *__pyx_f_5_genx_9Namespace___repr__(PyObject *__pyx_v_self); /*proto*/
static char __pyx_doc_5_genx_9Namespace___repr__[] = "Returns a text representation of the element, useful for comparisons";
static PyObject *__pyx_f_5_genx_9Namespace___repr__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  Py_INCREF(__pyx_v_self);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":288 */
  __pyx_1 = PyString_FromString(((struct __pyx_obj_5_genx_Namespace *)__pyx_v_self)->uri); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 288; goto __pyx_L1;}
  __pyx_2 = PyString_FromString(((struct __pyx_obj_5_genx_Namespace *)__pyx_v_self)->xmlns); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 288; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 288; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_1);
  PyTuple_SET_ITEM(__pyx_3, 1, __pyx_2);
  __pyx_1 = 0;
  __pyx_2 = 0;
  __pyx_1 = PyNumber_Remainder(__pyx_k38p, __pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 288; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("_genx.Namespace.__repr__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_n_cmp;
static PyObject *__pyx_n_repr;

static int __pyx_f_5_genx_9Namespace___cmp__(PyObject *__pyx_v_self, PyObject *__pyx_v_other); /*proto*/
static char __pyx_doc_5_genx_9Namespace___cmp__[] = "Compares one namespace to another, though anything with a meaningful repr will work";
static int __pyx_f_5_genx_9Namespace___cmp__(PyObject *__pyx_v_self, PyObject *__pyx_v_other) {
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  int __pyx_6;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_other);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":292 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_cmp); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 292; goto __pyx_L1;}
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 292; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 292; goto __pyx_L1;}
  Py_INCREF(__pyx_v_self);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_self);
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 292; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 292; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 292; goto __pyx_L1;}
  Py_INCREF(__pyx_v_other);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_other);
  __pyx_5 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 292; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 292; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_4);
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_5);
  __pyx_4 = 0;
  __pyx_5 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 292; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_6 = PyInt_AsLong(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 292; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_r = __pyx_6;
  goto __pyx_L0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("_genx.Namespace.__cmp__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_other);
  return __pyx_r;
}

static int __pyx_f_5_genx_7Element___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5_genx_7Element___init__[] = "Create an element using an element name and an optional Namespace.\n\n        Note that on it\'s own it isn\'t a great deal of use, it\'s normally created from inside\n        a Writer instance, which sets an elem attribute with a genxElement.";
static int __pyx_f_5_genx_7Element___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_name = 0;
  struct __pyx_obj_5_genx_Namespace *__pyx_v_namespace = 0;
  int __pyx_r;
  utf8 __pyx_1;
  static char *__pyx_argnames[] = {"name","namespace",0};
  __pyx_v_namespace = __pyx_k29;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|O", __pyx_argnames, &__pyx_v_name, &__pyx_v_namespace)) return -1;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_name);
  Py_INCREF(__pyx_v_namespace);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_namespace), __pyx_ptype_5_genx_Namespace, 1, "namespace")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 300; goto __pyx_L1;}

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":305 */
  __pyx_1 = PyString_AsString(__pyx_v_name); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 305; goto __pyx_L1;}
  ((struct __pyx_obj_5_genx_Element *)__pyx_v_self)->name = __pyx_1;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":306 */
  Py_INCREF(((PyObject *)__pyx_v_namespace));
  Py_DECREF(((PyObject *)((struct __pyx_obj_5_genx_Element *)__pyx_v_self)->namespace));
  ((struct __pyx_obj_5_genx_Element *)__pyx_v_self)->namespace = ((PyObject *)__pyx_v_namespace);

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("_genx.Element.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_name);
  Py_DECREF(__pyx_v_namespace);
  return __pyx_r;
}

static PyObject *__pyx_k39p;

static char (__pyx_k39[]) = "<Element %r:%s>";

static PyObject *__pyx_f_5_genx_7Element___repr__(PyObject *__pyx_v_self); /*proto*/
static char __pyx_doc_5_genx_7Element___repr__[] = "Returns a text representation of the element, useful for comparisons";
static PyObject *__pyx_f_5_genx_7Element___repr__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_self);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":310 */
  __pyx_1 = PyString_FromString(((struct __pyx_obj_5_genx_Element *)__pyx_v_self)->name); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 310; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 310; goto __pyx_L1;}
  Py_INCREF(((PyObject *)((struct __pyx_obj_5_genx_Element *)__pyx_v_self)->namespace));
  PyTuple_SET_ITEM(__pyx_2, 0, ((PyObject *)((struct __pyx_obj_5_genx_Element *)__pyx_v_self)->namespace));
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_1);
  __pyx_1 = 0;
  __pyx_1 = PyNumber_Remainder(__pyx_k39p, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 310; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("_genx.Element.__repr__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static int __pyx_f_5_genx_7Element___cmp__(PyObject *__pyx_v_self, PyObject *__pyx_v_other); /*proto*/
static char __pyx_doc_5_genx_7Element___cmp__[] = "Compares one element to another, though anything with a meaningful repr will work";
static int __pyx_f_5_genx_7Element___cmp__(PyObject *__pyx_v_self, PyObject *__pyx_v_other) {
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  int __pyx_6;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_other);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":314 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_cmp); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 314; goto __pyx_L1;}
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 314; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 314; goto __pyx_L1;}
  Py_INCREF(__pyx_v_self);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_self);
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 314; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 314; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 314; goto __pyx_L1;}
  Py_INCREF(__pyx_v_other);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_other);
  __pyx_5 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 314; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 314; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_4);
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_5);
  __pyx_4 = 0;
  __pyx_5 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 314; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_6 = PyInt_AsLong(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 314; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_r = __pyx_6;
  goto __pyx_L0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("_genx.Element.__cmp__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_other);
  return __pyx_r;
}

static int __pyx_f_5_genx_9Attribute___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5_genx_9Attribute___init__[] = "Create an attribute using an attribute name and an optional Namespace.\n\n        Note that on it\'s own it isn\'t a great deal of use, it\'s normally created from inside\n        a Writer instance, which sets an attr attribute with a genxAttribute.";
static int __pyx_f_5_genx_9Attribute___init__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_name = 0;
  struct __pyx_obj_5_genx_Namespace *__pyx_v_namespace = 0;
  int __pyx_r;
  utf8 __pyx_1;
  static char *__pyx_argnames[] = {"name","namespace",0};
  __pyx_v_namespace = __pyx_k30;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|O", __pyx_argnames, &__pyx_v_name, &__pyx_v_namespace)) return -1;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_name);
  Py_INCREF(__pyx_v_namespace);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_namespace), __pyx_ptype_5_genx_Namespace, 1, "namespace")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 322; goto __pyx_L1;}

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":327 */
  __pyx_1 = PyString_AsString(__pyx_v_name); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 327; goto __pyx_L1;}
  ((struct __pyx_obj_5_genx_Attribute *)__pyx_v_self)->name = __pyx_1;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":328 */
  Py_INCREF(((PyObject *)__pyx_v_namespace));
  Py_DECREF(((PyObject *)((struct __pyx_obj_5_genx_Attribute *)__pyx_v_self)->namespace));
  ((struct __pyx_obj_5_genx_Attribute *)__pyx_v_self)->namespace = ((PyObject *)__pyx_v_namespace);

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("_genx.Attribute.__init__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_name);
  Py_DECREF(__pyx_v_namespace);
  return __pyx_r;
}

static PyObject *__pyx_k40p;

static char (__pyx_k40[]) = "<Attribute %r:%s>";

static PyObject *__pyx_f_5_genx_9Attribute___repr__(PyObject *__pyx_v_self); /*proto*/
static char __pyx_doc_5_genx_9Attribute___repr__[] = "Returns a text representation of the attribute, useful for comparisons";
static PyObject *__pyx_f_5_genx_9Attribute___repr__(PyObject *__pyx_v_self) {
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  Py_INCREF(__pyx_v_self);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":332 */
  __pyx_1 = PyString_FromString(((struct __pyx_obj_5_genx_Attribute *)__pyx_v_self)->name); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 332; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 332; goto __pyx_L1;}
  Py_INCREF(((PyObject *)((struct __pyx_obj_5_genx_Attribute *)__pyx_v_self)->namespace));
  PyTuple_SET_ITEM(__pyx_2, 0, ((PyObject *)((struct __pyx_obj_5_genx_Attribute *)__pyx_v_self)->namespace));
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_1);
  __pyx_1 = 0;
  __pyx_1 = PyNumber_Remainder(__pyx_k40p, __pyx_2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 332; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_r = __pyx_1;
  __pyx_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("_genx.Attribute.__repr__");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static int __pyx_f_5_genx_9Attribute___cmp__(PyObject *__pyx_v_self, PyObject *__pyx_v_other); /*proto*/
static char __pyx_doc_5_genx_9Attribute___cmp__[] = "Compares one attribute to another, though anything with a meaningful repr will work";
static int __pyx_f_5_genx_9Attribute___cmp__(PyObject *__pyx_v_self, PyObject *__pyx_v_other) {
  int __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  int __pyx_6;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_other);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":336 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_cmp); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 336; goto __pyx_L1;}
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 336; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 336; goto __pyx_L1;}
  Py_INCREF(__pyx_v_self);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_self);
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 336; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_repr); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 336; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 336; goto __pyx_L1;}
  Py_INCREF(__pyx_v_other);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_v_other);
  __pyx_5 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 336; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 336; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_4);
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_5);
  __pyx_4 = 0;
  __pyx_5 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 336; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_6 = PyInt_AsLong(__pyx_3); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 336; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_r = __pyx_6;
  goto __pyx_L0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("_genx.Attribute.__cmp__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_other);
  return __pyx_r;
}

static PyObject *__pyx_n_write;

static genxStatus __pyx_f_5_genx_send(void (*__pyx_v_userData),constUtf8 __pyx_v_s) {
  PyObject *__pyx_v_data_tuple;
  PyObject *__pyx_v_fp;
  genxStatus __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  __pyx_v_data_tuple = Py_None; Py_INCREF(__pyx_v_data_tuple);
  __pyx_v_fp = Py_None; Py_INCREF(__pyx_v_fp);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":341 */
  __pyx_1 = (PyObject *)__pyx_v_userData;
  Py_INCREF(__pyx_1);
  Py_DECREF(__pyx_v_data_tuple);
  __pyx_v_data_tuple = __pyx_1;
  __pyx_1 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":342 */
  __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 342; goto __pyx_L1;}
  __pyx_2 = PyObject_GetItem(__pyx_v_data_tuple, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 342; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_v_fp);
  __pyx_v_fp = __pyx_2;
  __pyx_2 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":343 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_fp, __pyx_n_write); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 343; goto __pyx_L1;}
  __pyx_2 = PyString_FromString(__pyx_v_s); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 343; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 343; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
  __pyx_2 = 0;
  __pyx_2 = PyObject_CallObject(__pyx_1, __pyx_3); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 343; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":344 */
  __pyx_r = GENX_SUCCESS;
  goto __pyx_L0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_WriteUnraisable("_genx.send");
  __pyx_L0:;
  Py_DECREF(__pyx_v_data_tuple);
  Py_DECREF(__pyx_v_fp);
  return __pyx_r;
}

static genxStatus __pyx_f_5_genx_send_bounded(void (*__pyx_v_userData),constUtf8 __pyx_v_start,constUtf8 __pyx_v_end) {
  PyObject *__pyx_v_data_tuple;
  PyObject *__pyx_v_fp;
  PyObject *__pyx_v_length;
  genxStatus __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  int __pyx_3;
  PyObject *__pyx_4 = 0;
  __pyx_v_data_tuple = Py_None; Py_INCREF(__pyx_v_data_tuple);
  __pyx_v_fp = Py_None; Py_INCREF(__pyx_v_fp);
  __pyx_v_length = Py_None; Py_INCREF(__pyx_v_length);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":347 */
  __pyx_1 = (PyObject *)__pyx_v_userData;
  Py_INCREF(__pyx_1);
  Py_DECREF(__pyx_v_data_tuple);
  __pyx_v_data_tuple = __pyx_1;
  __pyx_1 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":348 */
  __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 348; goto __pyx_L1;}
  __pyx_2 = PyObject_GetItem(__pyx_v_data_tuple, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 348; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_v_fp);
  __pyx_v_fp = __pyx_2;
  __pyx_2 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":349 */
  __pyx_1 = PyInt_FromLong((__pyx_v_end - __pyx_v_start)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 349; goto __pyx_L1;}
  Py_DECREF(__pyx_v_length);
  __pyx_v_length = __pyx_1;
  __pyx_1 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":350 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_fp, __pyx_n_write); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 350; goto __pyx_L1;}
  __pyx_1 = PyString_FromString(__pyx_v_start); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 350; goto __pyx_L1;}
  __pyx_3 = PyInt_AsLong(__pyx_v_length); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 350; goto __pyx_L1;}
  __pyx_4 = PySequence_GetSlice(__pyx_1, 0, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 350; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 350; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_4);
  __pyx_4 = 0;
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 350; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":351 */
  __pyx_r = GENX_SUCCESS;
  goto __pyx_L0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_4);
  __Pyx_WriteUnraisable("_genx.send_bounded");
  __pyx_L0:;
  Py_DECREF(__pyx_v_data_tuple);
  Py_DECREF(__pyx_v_fp);
  Py_DECREF(__pyx_v_length);
  return __pyx_r;
}

static PyObject *__pyx_n_flush;

static genxStatus __pyx_f_5_genx_flush(void (*__pyx_v_userData)) {
  PyObject *__pyx_v_data_tuple;
  PyObject *__pyx_v_fp;
  genxStatus __pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  __pyx_v_data_tuple = Py_None; Py_INCREF(__pyx_v_data_tuple);
  __pyx_v_fp = Py_None; Py_INCREF(__pyx_v_fp);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":354 */
  __pyx_1 = (PyObject *)__pyx_v_userData;
  Py_INCREF(__pyx_1);
  Py_DECREF(__pyx_v_data_tuple);
  __pyx_v_data_tuple = __pyx_1;
  __pyx_1 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":355 */
  __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 355; goto __pyx_L1;}
  __pyx_2 = PyObject_GetItem(__pyx_v_data_tuple, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 355; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_v_fp);
  __pyx_v_fp = __pyx_2;
  __pyx_2 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":356 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_fp, __pyx_n_flush); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 356; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 356; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 356; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":357 */
  __pyx_r = GENX_SUCCESS;
  goto __pyx_L0;

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_WriteUnraisable("_genx.flush");
  __pyx_L0:;
  Py_DECREF(__pyx_v_data_tuple);
  Py_DECREF(__pyx_v_fp);
  return __pyx_r;
}

static int __pyx_f_5_genx_6Writer___new__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static int __pyx_f_5_genx_6Writer___new__(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  int __pyx_r;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return -1;
  Py_INCREF(__pyx_v_self);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":370 */
  ((struct __pyx_obj_5_genx_Writer *)__pyx_v_self)->writer = genxNew(0,0,0);

  __pyx_r = 0;
  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("_genx.Writer.__new__");
  __pyx_r = -1;
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static void __pyx_f_5_genx_6Writer___dealloc__(PyObject *__pyx_v_self); /*proto*/
static void __pyx_f_5_genx_6Writer___dealloc__(PyObject *__pyx_v_self) {
  Py_INCREF(__pyx_v_self);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":373 */
  genxDispose(((struct __pyx_obj_5_genx_Writer *)__pyx_v_self)->writer);

  goto __pyx_L0;
  __pyx_L1:;
  __Pyx_AddTraceback("_genx.Writer.__dealloc__");
  __pyx_L0:;
  Py_DECREF(__pyx_v_self);
}

static PyObject *__pyx_n_hasattr;
static PyObject *__pyx_n_fileno;
static PyObject *__pyx_n___checkStatus;


static PyObject *__pyx_f_5_genx_6Writer_startDocFile(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5_genx_6Writer_startDocFile[] = "Start a new document, using the given file pointer.\n\n        The file should either be a Python file object or an object with\n        write() and flush() methods.\n        ";
static PyObject *__pyx_f_5_genx_6Writer_startDocFile(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_fp = 0;
  FILE (*__pyx_v_c_fp);
  PyObject *__pyx_v_is_file;
  PyObject *__pyx_v_status;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  int __pyx_4;
  int __pyx_5;
  static char *__pyx_argnames[] = {"fp",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_fp)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_fp);
  __pyx_v_is_file = Py_None; Py_INCREF(__pyx_v_is_file);
  __pyx_v_status = Py_None; Py_INCREF(__pyx_v_status);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":383 */
  __pyx_1 = PyInt_FromLong(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 383; goto __pyx_L1;}
  Py_DECREF(__pyx_v_is_file);
  __pyx_v_is_file = __pyx_1;
  __pyx_1 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":385 */
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_hasattr); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 385; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 385; goto __pyx_L1;}
  Py_INCREF(__pyx_v_fp);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_fp);
  Py_INCREF(__pyx_n_fileno);
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_n_fileno);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 385; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_4 = PyObject_IsTrue(__pyx_3); if (__pyx_4 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 385; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  __pyx_5 = (!__pyx_4);
  if (__pyx_5) {

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":386 */
    __pyx_1 = PyInt_FromLong(0); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 386; goto __pyx_L1;}
    Py_DECREF(__pyx_v_is_file);
    __pyx_v_is_file = __pyx_1;
    __pyx_1 = 0;
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":388 */
  __pyx_v_c_fp = PyFile_AsFile(__pyx_v_fp);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":389 */
  __pyx_4 = (__pyx_v_c_fp == 0);
  if (__pyx_4) {

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":390 */
    __pyx_2 = PyInt_FromLong(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 390; goto __pyx_L1;}
    Py_DECREF(__pyx_v_is_file);
    __pyx_v_is_file = __pyx_2;
    __pyx_2 = 0;
    goto __pyx_L3;
  }
  __pyx_L3:;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":392 */
  __pyx_5 = PyObject_IsTrue(__pyx_v_is_file); if (__pyx_5 < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 392; goto __pyx_L1;}
  if (__pyx_5) {

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":393 */
    __pyx_3 = PyInt_FromLong(genxStartDocFile(((struct __pyx_obj_5_genx_Writer *)__pyx_v_self)->writer,__pyx_v_c_fp)); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 393; goto __pyx_L1;}
    Py_DECREF(__pyx_v_status);
    __pyx_v_status = __pyx_3;
    __pyx_3 = 0;
    goto __pyx_L4;
  }
  /*else*/ {

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":395 */
    __pyx_1 = PyList_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 395; goto __pyx_L1;}
    Py_INCREF(__pyx_v_fp);
    PyList_SET_ITEM(__pyx_1, 0, __pyx_v_fp);
    Py_DECREF(((struct __pyx_obj_5_genx_Writer *)__pyx_v_self)->userData);
    ((struct __pyx_obj_5_genx_Writer *)__pyx_v_self)->userData = __pyx_1;
    __pyx_1 = 0;

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":396 */
    genxSetUserData(((struct __pyx_obj_5_genx_Writer *)__pyx_v_self)->writer,((void (*))((struct __pyx_obj_5_genx_Writer *)__pyx_v_self)->userData));

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":397 */
    __pyx_2 = PyInt_FromLong(genxStartDocSender(((struct __pyx_obj_5_genx_Writer *)__pyx_v_self)->writer,(&__pyx_v_5_genx_sender))); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 397; goto __pyx_L1;}
    Py_DECREF(__pyx_v_status);
    __pyx_v_status = __pyx_2;
    __pyx_2 = 0;
  }
  __pyx_L4:;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":398 */
  __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_n___checkStatus); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 398; goto __pyx_L1;}
  __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 398; goto __pyx_L1;}
  Py_INCREF(__pyx_v_status);
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_status);
  __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 398; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("_genx.Writer.startDocFile");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_is_file);
  Py_DECREF(__pyx_v_status);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_fp);
  return __pyx_r;
}

static PyObject *__pyx_n_encode;

static PyObject *__pyx_k42p;
static PyObject *__pyx_k43p;
static PyObject *__pyx_k44p;
static PyObject *__pyx_k45p;

static char (__pyx_k42[]) = "Passed None in as element name";
static char (__pyx_k43[]) = "";
static char (__pyx_k44[]) = "UTF-8";
static char (__pyx_k45[]) = "UTF-8";

static PyObject *__pyx_f_5_genx_6Writer_startElementLiteral(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5_genx_6Writer_startElementLiteral[] = "Starts a new element, optionally with a namespace";
static PyObject *__pyx_f_5_genx_6Writer_startElementLiteral(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_name = 0;
  PyObject *__pyx_v_namespace = 0;
  constUtf8 __pyx_v_c_namespace;
  PyObject *__pyx_v_status;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  constUtf8 __pyx_5;
  static char *__pyx_argnames[] = {"name","namespace",0};
  __pyx_v_namespace = __pyx_k31;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|O", __pyx_argnames, &__pyx_v_name, &__pyx_v_namespace)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_name);
  Py_INCREF(__pyx_v_namespace);
  __pyx_v_status = Py_None; Py_INCREF(__pyx_v_status);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":404 */
  if (PyObject_Cmp(__pyx_v_name, Py_None, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 404; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":405 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_BadUTF8Error); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 405; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k42p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 405; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":407 */
  if (PyObject_Cmp(__pyx_v_namespace, Py_None, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 407; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (!__pyx_1) {
    if (PyObject_Cmp(__pyx_v_namespace, __pyx_k43p, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 407; goto __pyx_L1;}
    __pyx_1 = __pyx_1 == 0;
  }
  if (__pyx_1) {

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":408 */
    __pyx_v_c_namespace = 0;
    goto __pyx_L3;
  }
  /*else*/ {

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":410 */
    __pyx_2 = PyObject_GetAttr(__pyx_v_namespace, __pyx_n_encode); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 410; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 410; goto __pyx_L1;}
    Py_INCREF(__pyx_k44p);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_k44p);
    __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 410; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_v_namespace);
    __pyx_v_namespace = __pyx_4;
    __pyx_4 = 0;

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":411 */
    __pyx_5 = PyString_AsString(__pyx_v_namespace); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 411; goto __pyx_L1;}
    __pyx_v_c_namespace = __pyx_5;
  }
  __pyx_L3:;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":412 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_name, __pyx_n_encode); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 412; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 412; goto __pyx_L1;}
  Py_INCREF(__pyx_k45p);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_k45p);
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 412; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_name);
  __pyx_v_name = __pyx_4;
  __pyx_4 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":413 */
  __pyx_5 = PyString_AsString(__pyx_v_name); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 413; goto __pyx_L1;}
  __pyx_2 = PyInt_FromLong(genxStartElementLiteral(((struct __pyx_obj_5_genx_Writer *)__pyx_v_self)->writer,__pyx_v_c_namespace,__pyx_5)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 413; goto __pyx_L1;}
  Py_DECREF(__pyx_v_status);
  __pyx_v_status = __pyx_2;
  __pyx_2 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":414 */
  __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_n___checkStatus); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 414; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 414; goto __pyx_L1;}
  Py_INCREF(__pyx_v_status);
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_status);
  __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 414; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("_genx.Writer.startElementLiteral");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_status);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_name);
  Py_DECREF(__pyx_v_namespace);
  return __pyx_r;
}

static PyObject *__pyx_k46p;
static PyObject *__pyx_k47p;

static char (__pyx_k46[]) = "Passed in None instead of text";
static char (__pyx_k47[]) = "UTF-8";

static PyObject *__pyx_f_5_genx_6Writer_addText(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5_genx_6Writer_addText[] = "Add text to the current element";
static PyObject *__pyx_f_5_genx_6Writer_addText(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_text = 0;
  PyObject *__pyx_v_status;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  constUtf8 __pyx_5;
  static char *__pyx_argnames[] = {"text",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_text)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_text);
  __pyx_v_status = Py_None; Py_INCREF(__pyx_v_status);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":418 */
  if (PyObject_Cmp(__pyx_v_text, Py_None, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 418; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":419 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_BadUTF8Error); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 419; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k46p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 419; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":420 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_text, __pyx_n_encode); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 420; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 420; goto __pyx_L1;}
  Py_INCREF(__pyx_k47p);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_k47p);
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 420; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_text);
  __pyx_v_text = __pyx_4;
  __pyx_4 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":421 */
  __pyx_5 = PyString_AsString(__pyx_v_text); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 421; goto __pyx_L1;}
  __pyx_2 = PyInt_FromLong(genxAddText(((struct __pyx_obj_5_genx_Writer *)__pyx_v_self)->writer,__pyx_5)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 421; goto __pyx_L1;}
  Py_DECREF(__pyx_v_status);
  __pyx_v_status = __pyx_2;
  __pyx_2 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":422 */
  __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_n___checkStatus); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 422; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 422; goto __pyx_L1;}
  Py_INCREF(__pyx_v_status);
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_status);
  __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 422; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("_genx.Writer.addText");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_status);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_text);
  return __pyx_r;
}

static PyObject *__pyx_k48p;
static PyObject *__pyx_k49p;

static char (__pyx_k48[]) = "Passed in None instead of text";
static char (__pyx_k49[]) = "UTF-8";

static PyObject *__pyx_f_5_genx_6Writer_comment(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5_genx_6Writer_comment[] = "Adds a comment to the generated XML";
static PyObject *__pyx_f_5_genx_6Writer_comment(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_text = 0;
  PyObject *__pyx_v_status;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  constUtf8 __pyx_5;
  static char *__pyx_argnames[] = {"text",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_text)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_text);
  __pyx_v_status = Py_None; Py_INCREF(__pyx_v_status);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":426 */
  if (PyObject_Cmp(__pyx_v_text, Py_None, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 426; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":427 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_BadUTF8Error); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 427; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k48p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 427; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":428 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_text, __pyx_n_encode); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 428; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 428; goto __pyx_L1;}
  Py_INCREF(__pyx_k49p);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_k49p);
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 428; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_text);
  __pyx_v_text = __pyx_4;
  __pyx_4 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":429 */
  __pyx_5 = PyString_AsString(__pyx_v_text); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 429; goto __pyx_L1;}
  __pyx_2 = PyInt_FromLong(genxComment(((struct __pyx_obj_5_genx_Writer *)__pyx_v_self)->writer,__pyx_5)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 429; goto __pyx_L1;}
  Py_DECREF(__pyx_v_status);
  __pyx_v_status = __pyx_2;
  __pyx_2 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":430 */
  __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_n___checkStatus); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 430; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 430; goto __pyx_L1;}
  Py_INCREF(__pyx_v_status);
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_status);
  __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 430; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("_genx.Writer.comment");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_status);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_text);
  return __pyx_r;
}

static PyObject *__pyx_k50p;
static PyObject *__pyx_k51p;

static char (__pyx_k50[]) = "Passed in None instead of text";
static char (__pyx_k51[]) = "UTF-8";

static PyObject *__pyx_f_5_genx_6Writer_PI(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5_genx_6Writer_PI[] = "Adds a processing instruction";
static PyObject *__pyx_f_5_genx_6Writer_PI(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_target = 0;
  PyObject *__pyx_v_text = 0;
  PyObject *__pyx_v_status;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  constUtf8 __pyx_5;
  constUtf8 __pyx_6;
  static char *__pyx_argnames[] = {"target","text",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_target, &__pyx_v_text)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_target);
  Py_INCREF(__pyx_v_text);
  __pyx_v_status = Py_None; Py_INCREF(__pyx_v_status);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":434 */
  if (PyObject_Cmp(__pyx_v_text, Py_None, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 434; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":435 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_BadUTF8Error); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 435; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k50p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 435; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":436 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_text, __pyx_n_encode); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 436; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 436; goto __pyx_L1;}
  Py_INCREF(__pyx_k51p);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_k51p);
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 436; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_text);
  __pyx_v_text = __pyx_4;
  __pyx_4 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":437 */
  __pyx_5 = PyString_AsString(__pyx_v_target); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 437; goto __pyx_L1;}
  __pyx_6 = PyString_AsString(__pyx_v_text); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 437; goto __pyx_L1;}
  __pyx_2 = PyInt_FromLong(genxPI(((struct __pyx_obj_5_genx_Writer *)__pyx_v_self)->writer,__pyx_5,__pyx_6)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 437; goto __pyx_L1;}
  Py_DECREF(__pyx_v_status);
  __pyx_v_status = __pyx_2;
  __pyx_2 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":438 */
  __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_n___checkStatus); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 438; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 438; goto __pyx_L1;}
  Py_INCREF(__pyx_v_status);
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_status);
  __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 438; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("_genx.Writer.PI");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_status);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_target);
  Py_DECREF(__pyx_v_text);
  return __pyx_r;
}

static PyObject *__pyx_f_5_genx_6Writer_endElement(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5_genx_6Writer_endElement[] = "Closes the current element";
static PyObject *__pyx_f_5_genx_6Writer_endElement(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_status;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  __pyx_v_status = Py_None; Py_INCREF(__pyx_v_status);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":442 */
  __pyx_1 = PyInt_FromLong(genxEndElement(((struct __pyx_obj_5_genx_Writer *)__pyx_v_self)->writer)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 442; goto __pyx_L1;}
  Py_DECREF(__pyx_v_status);
  __pyx_v_status = __pyx_1;
  __pyx_1 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":443 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n___checkStatus); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 443; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 443; goto __pyx_L1;}
  Py_INCREF(__pyx_v_status);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_status);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 443; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("_genx.Writer.endElement");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_status);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k52p;
static PyObject *__pyx_k53p;

static char (__pyx_k52[]) = "";
static char (__pyx_k53[]) = "UTF-8";

static PyObject *__pyx_f_5_genx_6Writer_addNamespace(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5_genx_6Writer_addNamespace[] = "Add a namespace declaration";
static PyObject *__pyx_f_5_genx_6Writer_addNamespace(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_5_genx_Namespace *__pyx_v_namespace = 0;
  PyObject *__pyx_v_prefix = 0;
  struct __pyx_obj_5_genx_Namespace *__pyx_v_c_namespace;
  genxNamespace __pyx_v_genx_namespace;
  constUtf8 __pyx_v_c_prefix;
  PyObject *__pyx_v_status;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  constUtf8 __pyx_5;
  static char *__pyx_argnames[] = {"namespace","prefix",0};
  __pyx_v_prefix = __pyx_k32;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|O", __pyx_argnames, &__pyx_v_namespace, &__pyx_v_prefix)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_namespace);
  Py_INCREF(__pyx_v_prefix);
  __pyx_v_c_namespace = Py_None; Py_INCREF((PyObject *) __pyx_v_c_namespace);
  __pyx_v_status = Py_None; Py_INCREF(__pyx_v_status);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_namespace), __pyx_ptype_5_genx_Namespace, 1, "namespace")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 445; goto __pyx_L1;}

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":451 */
  Py_INCREF(((PyObject *)__pyx_v_namespace));
  Py_DECREF(((PyObject *)__pyx_v_c_namespace));
  __pyx_v_c_namespace = ((PyObject *)__pyx_v_namespace);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":452 */
  __pyx_v_genx_namespace = __pyx_v_c_namespace->ns;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":454 */
  if (PyObject_Cmp(__pyx_v_prefix, Py_None, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 454; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (!__pyx_1) {
    if (PyObject_Cmp(__pyx_v_prefix, __pyx_k52p, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 454; goto __pyx_L1;}
    __pyx_1 = __pyx_1 == 0;
  }
  if (__pyx_1) {

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":455 */
    __pyx_v_c_prefix = 0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":457 */
    __pyx_2 = PyObject_GetAttr(__pyx_v_prefix, __pyx_n_encode); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 457; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 457; goto __pyx_L1;}
    Py_INCREF(__pyx_k53p);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_k53p);
    __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 457; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_v_prefix);
    __pyx_v_prefix = __pyx_4;
    __pyx_4 = 0;

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":458 */
    __pyx_5 = PyString_AsString(__pyx_v_prefix); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 458; goto __pyx_L1;}
    __pyx_v_c_prefix = __pyx_5;
  }
  __pyx_L2:;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":460 */
  __pyx_2 = PyInt_FromLong(genxAddNamespace(__pyx_v_genx_namespace,__pyx_v_c_prefix)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 460; goto __pyx_L1;}
  Py_DECREF(__pyx_v_status);
  __pyx_v_status = __pyx_2;
  __pyx_2 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":461 */
  __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_n___checkStatus); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 461; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 461; goto __pyx_L1;}
  Py_INCREF(__pyx_v_status);
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_status);
  __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 461; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("_genx.Writer.addNamespace");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_c_namespace);
  Py_DECREF(__pyx_v_status);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_namespace);
  Py_DECREF(__pyx_v_prefix);
  return __pyx_r;
}

static PyObject *__pyx_f_5_genx_6Writer_unsetDefaultNamespace(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5_genx_6Writer_unsetDefaultNamespace[] = "Clears the default namespace declaration";
static PyObject *__pyx_f_5_genx_6Writer_unsetDefaultNamespace(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_status;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  __pyx_v_status = Py_None; Py_INCREF(__pyx_v_status);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":465 */
  __pyx_1 = PyInt_FromLong(genxUnsetDefaultNamespace(((struct __pyx_obj_5_genx_Writer *)__pyx_v_self)->writer)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 465; goto __pyx_L1;}
  Py_DECREF(__pyx_v_status);
  __pyx_v_status = __pyx_1;
  __pyx_1 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":466 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n___checkStatus); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 466; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 466; goto __pyx_L1;}
  Py_INCREF(__pyx_v_status);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_status);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 466; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("_genx.Writer.unsetDefaultNamespace");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_status);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_f_5_genx_6Writer_endDocument(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5_genx_6Writer_endDocument[] = "Closes the current document";
static PyObject *__pyx_f_5_genx_6Writer_endDocument(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_status;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "", __pyx_argnames)) return 0;
  Py_INCREF(__pyx_v_self);
  __pyx_v_status = Py_None; Py_INCREF(__pyx_v_status);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":470 */
  __pyx_1 = PyInt_FromLong(genxEndDocument(((struct __pyx_obj_5_genx_Writer *)__pyx_v_self)->writer)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 470; goto __pyx_L1;}
  Py_DECREF(__pyx_v_status);
  __pyx_v_status = __pyx_1;
  __pyx_1 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":471 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n___checkStatus); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 471; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 471; goto __pyx_L1;}
  Py_INCREF(__pyx_v_status);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_status);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 471; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("_genx.Writer.endDocument");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_status);
  Py_DECREF(__pyx_v_self);
  return __pyx_r;
}

static PyObject *__pyx_k54p;
static PyObject *__pyx_k55p;

static char (__pyx_k54[]) = "";
static char (__pyx_k55[]) = "UTF-8";

static PyObject *__pyx_f_5_genx_6Writer_addAttributeLiteral(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5_genx_6Writer_addAttributeLiteral[] = "Adds a new attribute to the current element, with an optional namespace";
static PyObject *__pyx_f_5_genx_6Writer_addAttributeLiteral(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_name = 0;
  PyObject *__pyx_v_value = 0;
  PyObject *__pyx_v_namespace = 0;
  char (*__pyx_v_c_namespace);
  PyObject *__pyx_v_status;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  char (*__pyx_5);
  constUtf8 __pyx_6;
  constUtf8 __pyx_7;
  static char *__pyx_argnames[] = {"name","value","namespace",0};
  __pyx_v_namespace = __pyx_k33;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO|O", __pyx_argnames, &__pyx_v_name, &__pyx_v_value, &__pyx_v_namespace)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_name);
  Py_INCREF(__pyx_v_value);
  Py_INCREF(__pyx_v_namespace);
  __pyx_v_status = Py_None; Py_INCREF(__pyx_v_status);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":477 */
  if (PyObject_Cmp(__pyx_v_namespace, Py_None, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 477; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (!__pyx_1) {
    if (PyObject_Cmp(__pyx_v_namespace, __pyx_k54p, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 477; goto __pyx_L1;}
    __pyx_1 = __pyx_1 == 0;
  }
  if (__pyx_1) {

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":478 */
    __pyx_v_c_namespace = 0;
    goto __pyx_L2;
  }
  /*else*/ {

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":480 */
    __pyx_2 = PyObject_GetAttr(__pyx_v_namespace, __pyx_n_encode); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 480; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 480; goto __pyx_L1;}
    Py_INCREF(__pyx_k55p);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_k55p);
    __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 480; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_v_namespace);
    __pyx_v_namespace = __pyx_4;
    __pyx_4 = 0;

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":481 */
    __pyx_5 = PyString_AsString(__pyx_v_namespace); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 481; goto __pyx_L1;}
    __pyx_v_c_namespace = __pyx_5;
  }
  __pyx_L2:;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":483 */
  __pyx_6 = PyString_AsString(__pyx_v_name); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 483; goto __pyx_L1;}
  __pyx_7 = PyString_AsString(__pyx_v_value); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 483; goto __pyx_L1;}
  __pyx_2 = PyInt_FromLong(genxAddAttributeLiteral(((struct __pyx_obj_5_genx_Writer *)__pyx_v_self)->writer,__pyx_v_c_namespace,__pyx_6,__pyx_7)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 483; goto __pyx_L1;}
  Py_DECREF(__pyx_v_status);
  __pyx_v_status = __pyx_2;
  __pyx_2 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":484 */
  __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_n___checkStatus); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 484; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 484; goto __pyx_L1;}
  Py_INCREF(__pyx_v_status);
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_status);
  __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 484; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("_genx.Writer.addAttributeLiteral");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_status);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_name);
  Py_DECREF(__pyx_v_value);
  Py_DECREF(__pyx_v_namespace);
  return __pyx_r;
}

static PyObject *__pyx_k56p;
static PyObject *__pyx_k57p;
static PyObject *__pyx_k58p;
static PyObject *__pyx_k59p;
static PyObject *__pyx_k60p;
static PyObject *__pyx_k61p;
static PyObject *__pyx_k62p;
static PyObject *__pyx_k63p;
static PyObject *__pyx_k64p;
static PyObject *__pyx_k65p;
static PyObject *__pyx_k66p;
static PyObject *__pyx_k67p;
static PyObject *__pyx_k68p;

static char (__pyx_k56[]) = "%r";
static char (__pyx_k57[]) = "%r";
static char (__pyx_k58[]) = "%r";
static char (__pyx_k59[]) = "%r";
static char (__pyx_k60[]) = "%r";
static char (__pyx_k61[]) = "%r";
static char (__pyx_k62[]) = "%r";
static char (__pyx_k63[]) = "%r";
static char (__pyx_k64[]) = "%r";
static char (__pyx_k65[]) = "%r";
static char (__pyx_k66[]) = "%r";
static char (__pyx_k67[]) = "%r";
static char (__pyx_k68[]) = "Problem with genx, %d, %r";

static PyObject *__pyx_f_5_genx_6Writer___checkStatus(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5_genx_6Writer___checkStatus[] = "Checks the given status code, if it isn\'t GENX_SUCCESS, an\n        exception is raised";
static PyObject *__pyx_f_5_genx_6Writer___checkStatus(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_status = 0;
  PyObject *__pyx_v_status_info;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  int __pyx_2;
  genxStatus __pyx_3;
  PyObject *__pyx_4 = 0;
  PyObject *__pyx_5 = 0;
  static char *__pyx_argnames[] = {"status",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_status)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_status);
  __pyx_v_status_info = Py_None; Py_INCREF(__pyx_v_status_info);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":489 */
  __pyx_1 = PyInt_FromLong(GENX_SUCCESS); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 489; goto __pyx_L1;}
  if (PyObject_Cmp(__pyx_v_status, __pyx_1, &__pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 489; goto __pyx_L1;}
  __pyx_2 = __pyx_2 != 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  if (__pyx_2) {

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":490 */
    __pyx_3 = PyInt_AsLong(__pyx_v_status); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 490; goto __pyx_L1;}
    __pyx_1 = PyString_FromString(genxGetErrorMessage(((struct __pyx_obj_5_genx_Writer *)__pyx_v_self)->writer,__pyx_3)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 490; goto __pyx_L1;}
    Py_DECREF(__pyx_v_status_info);
    __pyx_v_status_info = __pyx_1;
    __pyx_1 = 0;

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":492 */
    __pyx_1 = PyInt_FromLong(GENX_BAD_NAMESPACE_NAME); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 492; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_status, __pyx_1, &__pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 492; goto __pyx_L1;}
    __pyx_2 = __pyx_2 == 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (__pyx_2) {

      /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":493 */
      __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_BadNamespaceNameError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 493; goto __pyx_L1;}
      __pyx_4 = PyNumber_Remainder(__pyx_k56p, __pyx_v_status_info); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 493; goto __pyx_L1;}
      __Pyx_Raise(__pyx_1, __pyx_4, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 493; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_1 = PyInt_FromLong(GENX_DUPLICATE_PREFIX); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 494; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_status, __pyx_1, &__pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 494; goto __pyx_L1;}
    __pyx_2 = __pyx_2 == 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (__pyx_2) {

      /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":495 */
      __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_DuplicatePrefixError); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 495; goto __pyx_L1;}
      __pyx_1 = PyNumber_Remainder(__pyx_k57p, __pyx_v_status_info); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 495; goto __pyx_L1;}
      __Pyx_Raise(__pyx_4, __pyx_1, 0);
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 495; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_4 = PyInt_FromLong(GENX_BAD_NAME); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 496; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_status, __pyx_4, &__pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 496; goto __pyx_L1;}
    __pyx_2 = __pyx_2 == 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    if (__pyx_2) {

      /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":497 */
      __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_BadNameError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 497; goto __pyx_L1;}
      __pyx_4 = PyNumber_Remainder(__pyx_k58p, __pyx_v_status_info); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 497; goto __pyx_L1;}
      __Pyx_Raise(__pyx_1, __pyx_4, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 497; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_1 = PyInt_FromLong(GENX_SEQUENCE_ERROR); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 498; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_status, __pyx_1, &__pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 498; goto __pyx_L1;}
    __pyx_2 = __pyx_2 == 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (__pyx_2) {

      /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":499 */
      __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_SequenceError); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 499; goto __pyx_L1;}
      __pyx_1 = PyNumber_Remainder(__pyx_k59p, __pyx_v_status_info); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 499; goto __pyx_L1;}
      __Pyx_Raise(__pyx_4, __pyx_1, 0);
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 499; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_4 = PyInt_FromLong(GENX_ATTRIBUTE_IN_DEFAULT_NAMESPACE); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 500; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_status, __pyx_4, &__pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 500; goto __pyx_L1;}
    __pyx_2 = __pyx_2 == 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    if (__pyx_2) {

      /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":501 */
      __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_AttributeInDefaultNamespaceError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 501; goto __pyx_L1;}
      __pyx_4 = PyNumber_Remainder(__pyx_k60p, __pyx_v_status_info); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 501; goto __pyx_L1;}
      __Pyx_Raise(__pyx_1, __pyx_4, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 501; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_1 = PyInt_FromLong(GENX_DUPLICATE_ATTRIBUTE); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 502; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_status, __pyx_1, &__pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 502; goto __pyx_L1;}
    __pyx_2 = __pyx_2 == 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (__pyx_2) {

      /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":503 */
      __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_DuplicateAttributeError); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 503; goto __pyx_L1;}
      __pyx_1 = PyNumber_Remainder(__pyx_k61p, __pyx_v_status_info); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 503; goto __pyx_L1;}
      __Pyx_Raise(__pyx_4, __pyx_1, 0);
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 503; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_4 = PyInt_FromLong(GENX_IO_ERROR); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 504; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_status, __pyx_4, &__pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 504; goto __pyx_L1;}
    __pyx_2 = __pyx_2 == 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    if (__pyx_2) {

      /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":505 */
      __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_IOError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 505; goto __pyx_L1;}
      __pyx_4 = PyNumber_Remainder(__pyx_k62p, __pyx_v_status_info); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 505; goto __pyx_L1;}
      __Pyx_Raise(__pyx_1, __pyx_4, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 505; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_1 = PyInt_FromLong(GENX_NON_XML_CHARACTER); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 506; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_status, __pyx_1, &__pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 506; goto __pyx_L1;}
    __pyx_2 = __pyx_2 == 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (__pyx_2) {

      /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":507 */
      __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_NonXMLCharacterError); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 507; goto __pyx_L1;}
      __pyx_1 = PyNumber_Remainder(__pyx_k63p, __pyx_v_status_info); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 507; goto __pyx_L1;}
      __Pyx_Raise(__pyx_4, __pyx_1, 0);
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 507; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_4 = PyInt_FromLong(GENX_BAD_UTF8); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 508; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_status, __pyx_4, &__pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 508; goto __pyx_L1;}
    __pyx_2 = __pyx_2 == 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    if (__pyx_2) {

      /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":509 */
      __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_BadUTF8Error); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 509; goto __pyx_L1;}
      __pyx_4 = PyNumber_Remainder(__pyx_k64p, __pyx_v_status_info); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 509; goto __pyx_L1;}
      __Pyx_Raise(__pyx_1, __pyx_4, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 509; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_1 = PyInt_FromLong(GENX_MALFORMED_PI); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 510; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_status, __pyx_1, &__pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 510; goto __pyx_L1;}
    __pyx_2 = __pyx_2 == 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (__pyx_2) {

      /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":511 */
      __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_MalformedPIError); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 511; goto __pyx_L1;}
      __pyx_1 = PyNumber_Remainder(__pyx_k65p, __pyx_v_status_info); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 511; goto __pyx_L1;}
      __Pyx_Raise(__pyx_4, __pyx_1, 0);
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 511; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_4 = PyInt_FromLong(GENX_DUPLICATE_NAMESPACE); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 512; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_status, __pyx_4, &__pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 512; goto __pyx_L1;}
    __pyx_2 = __pyx_2 == 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    if (__pyx_2) {

      /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":513 */
      __pyx_1 = __Pyx_GetName(__pyx_m, __pyx_n_DuplicateNamespaceError); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 513; goto __pyx_L1;}
      __pyx_4 = PyNumber_Remainder(__pyx_k66p, __pyx_v_status_info); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 513; goto __pyx_L1;}
      __Pyx_Raise(__pyx_1, __pyx_4, 0);
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 513; goto __pyx_L1;}
      goto __pyx_L3;
    }
    __pyx_1 = PyInt_FromLong(GENX_BAD_DEFAULT_DECLARATION); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 514; goto __pyx_L1;}
    if (PyObject_Cmp(__pyx_v_status, __pyx_1, &__pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 514; goto __pyx_L1;}
    __pyx_2 = __pyx_2 == 0;
    Py_DECREF(__pyx_1); __pyx_1 = 0;
    if (__pyx_2) {

      /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":515 */
      __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_BadDefaultDeclarationError); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 515; goto __pyx_L1;}
      __pyx_1 = PyNumber_Remainder(__pyx_k67p, __pyx_v_status_info); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 515; goto __pyx_L1;}
      __Pyx_Raise(__pyx_4, __pyx_1, 0);
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 515; goto __pyx_L1;}
      goto __pyx_L3;
    }
    /*else*/ {

      /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":517 */
      __pyx_4 = __Pyx_GetName(__pyx_m, __pyx_n_GenxError); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 517; goto __pyx_L1;}
      __pyx_1 = PyTuple_New(2); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 517; goto __pyx_L1;}
      Py_INCREF(__pyx_v_status);
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_v_status);
      Py_INCREF(__pyx_v_status_info);
      PyTuple_SET_ITEM(__pyx_1, 1, __pyx_v_status_info);
      __pyx_5 = PyNumber_Remainder(__pyx_k68p, __pyx_1); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 517; goto __pyx_L1;}
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 517; goto __pyx_L1;}
      PyTuple_SET_ITEM(__pyx_1, 0, __pyx_5);
      __pyx_5 = 0;
      __pyx_5 = PyObject_CallObject(__pyx_4, __pyx_1); if (!__pyx_5) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 517; goto __pyx_L1;}
      Py_DECREF(__pyx_4); __pyx_4 = 0;
      Py_DECREF(__pyx_1); __pyx_1 = 0;
      __Pyx_Raise(__pyx_5, 0, 0);
      Py_DECREF(__pyx_5); __pyx_5 = 0;
      {__pyx_filename = __pyx_f[0]; __pyx_lineno = 517; goto __pyx_L1;}
    }
    __pyx_L3:;
    goto __pyx_L2;
  }
  __pyx_L2:;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_4);
  Py_XDECREF(__pyx_5);
  __Pyx_AddTraceback("_genx.Writer.__checkStatus");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_status_info);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_status);
  return __pyx_r;
}

static PyObject *__pyx_k69p;
static PyObject *__pyx_k70p;
static PyObject *__pyx_k71p;

static char (__pyx_k69[]) = "%r is an invalid namespace";
static char (__pyx_k70[]) = "UTF-8";
static char (__pyx_k71[]) = "UTF-8";

static PyObject *__pyx_f_5_genx_6Writer_declareNamespace(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5_genx_6Writer_declareNamespace[] = "Declares a namespace, returning a Namespace object which can be used later.";
static PyObject *__pyx_f_5_genx_6Writer_declareNamespace(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_uri = 0;
  PyObject *__pyx_v_prefix = 0;
  genxNamespace __pyx_v_ns;
  genxStatus __pyx_v_status;
  constUtf8 __pyx_v_c_prefix;
  struct __pyx_obj_5_genx_Namespace *__pyx_v_namespace;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  constUtf8 __pyx_5;
  static char *__pyx_argnames[] = {"uri","prefix",0};
  __pyx_v_prefix = __pyx_k34;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|O", __pyx_argnames, &__pyx_v_uri, &__pyx_v_prefix)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_uri);
  Py_INCREF(__pyx_v_prefix);
  __pyx_v_namespace = Py_None; Py_INCREF((PyObject *) __pyx_v_namespace);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":525 */
  if (PyObject_Cmp(__pyx_v_uri, Py_None, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 525; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":526 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_BadNamespaceNameError); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 526; goto __pyx_L1;}
    __pyx_3 = PyNumber_Remainder(__pyx_k69p, __pyx_v_uri); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 526; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_3, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 526; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":528 */
  if (PyObject_Cmp(__pyx_v_prefix, Py_None, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 528; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":529 */
    __pyx_v_c_prefix = 0;
    goto __pyx_L3;
  }
  /*else*/ {

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":531 */
    __pyx_2 = PyObject_GetAttr(__pyx_v_prefix, __pyx_n_encode); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 531; goto __pyx_L1;}
    __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 531; goto __pyx_L1;}
    Py_INCREF(__pyx_k70p);
    PyTuple_SET_ITEM(__pyx_3, 0, __pyx_k70p);
    __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 531; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_v_prefix);
    __pyx_v_prefix = __pyx_4;
    __pyx_4 = 0;

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":532 */
    __pyx_5 = PyString_AsString(__pyx_v_prefix); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 532; goto __pyx_L1;}
    __pyx_v_c_prefix = __pyx_5;
  }
  __pyx_L3:;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":534 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_uri, __pyx_n_encode); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 534; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 534; goto __pyx_L1;}
  Py_INCREF(__pyx_k71p);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_k71p);
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 534; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_uri);
  __pyx_v_uri = __pyx_4;
  __pyx_4 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":535 */
  __pyx_5 = PyString_AsString(__pyx_v_uri); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 535; goto __pyx_L1;}
  __pyx_v_ns = genxDeclareNamespace(((struct __pyx_obj_5_genx_Writer *)__pyx_v_self)->writer,__pyx_5,__pyx_v_c_prefix,(&__pyx_v_status));

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":536 */
  __pyx_1 = (__pyx_v_ns == 0);
  if (__pyx_1) {

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":537 */
    __pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n___checkStatus); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 537; goto __pyx_L1;}
    __pyx_3 = PyInt_FromLong(((int )__pyx_v_status)); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 537; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 537; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 537; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":539 */
  __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 539; goto __pyx_L1;}
  Py_INCREF(__pyx_v_uri);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_uri);
  Py_INCREF(__pyx_v_prefix);
  PyTuple_SET_ITEM(__pyx_2, 1, __pyx_v_prefix);
  __pyx_4 = PyObject_CallObject(((PyObject*)__pyx_ptype_5_genx_Namespace), __pyx_2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 539; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__Pyx_TypeTest(__pyx_4, __pyx_ptype_5_genx_Namespace)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 539; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_namespace));
  __pyx_v_namespace = __pyx_4;
  __pyx_4 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":540 */
  __pyx_v_namespace->ns = __pyx_v_ns;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":541 */
  Py_INCREF(((PyObject *)__pyx_v_namespace));
  __pyx_r = ((PyObject *)__pyx_v_namespace);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("_genx.Writer.declareNamespace");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_namespace);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_uri);
  Py_DECREF(__pyx_v_prefix);
  return __pyx_r;
}

static PyObject *__pyx_k72p;
static PyObject *__pyx_k73p;

static char (__pyx_k72[]) = "Passed in None for type, instead of text";
static char (__pyx_k73[]) = "UTF-8";

static PyObject *__pyx_f_5_genx_6Writer_declareElement(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5_genx_6Writer_declareElement[] = "Create a new Element object, optionally using a Namespace object";
static PyObject *__pyx_f_5_genx_6Writer_declareElement(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_type = 0;
  struct __pyx_obj_5_genx_Namespace *__pyx_v_namespace = 0;
  genxElement __pyx_v_elem;
  genxStatus __pyx_v_status;
  genxNamespace __pyx_v_ns;
  struct __pyx_obj_5_genx_Namespace *__pyx_v_c_namespace;
  struct __pyx_obj_5_genx_Element *__pyx_v_element;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  constUtf8 __pyx_5;
  static char *__pyx_argnames[] = {"type","namespace",0};
  __pyx_v_namespace = __pyx_k35;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|O", __pyx_argnames, &__pyx_v_type, &__pyx_v_namespace)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_type);
  Py_INCREF(__pyx_v_namespace);
  __pyx_v_c_namespace = Py_None; Py_INCREF((PyObject *) __pyx_v_c_namespace);
  __pyx_v_element = Py_None; Py_INCREF((PyObject *) __pyx_v_element);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_namespace), __pyx_ptype_5_genx_Namespace, 1, "namespace")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 543; goto __pyx_L1;}

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":550 */
  if (PyObject_Cmp(__pyx_v_type, Py_None, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 550; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":551 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_BadUTF8Error); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 551; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k72p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 551; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":553 */
  if (PyObject_Cmp(((PyObject *)__pyx_v_namespace), Py_None, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 553; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":554 */
    __pyx_v_ns = 0;
    goto __pyx_L3;
  }
  /*else*/ {

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":557 */
    Py_INCREF(((PyObject *)__pyx_v_namespace));
    Py_DECREF(((PyObject *)__pyx_v_c_namespace));
    __pyx_v_c_namespace = ((PyObject *)__pyx_v_namespace);

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":558 */
    __pyx_v_ns = __pyx_v_c_namespace->ns;
  }
  __pyx_L3:;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":560 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_type, __pyx_n_encode); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 560; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 560; goto __pyx_L1;}
  Py_INCREF(__pyx_k73p);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_k73p);
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 560; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_type);
  __pyx_v_type = __pyx_4;
  __pyx_4 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":561 */
  __pyx_5 = PyString_AsString(__pyx_v_type); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 561; goto __pyx_L1;}
  __pyx_v_elem = genxDeclareElement(((struct __pyx_obj_5_genx_Writer *)__pyx_v_self)->writer,__pyx_v_ns,__pyx_5,(&__pyx_v_status));

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":562 */
  __pyx_1 = (__pyx_v_elem == 0);
  if (__pyx_1) {

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":563 */
    __pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n___checkStatus); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 563; goto __pyx_L1;}
    __pyx_3 = PyInt_FromLong(((int )__pyx_v_status)); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 563; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 563; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 563; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":566 */
  __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 566; goto __pyx_L1;}
  Py_INCREF(__pyx_v_type);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_type);
  Py_INCREF(((PyObject *)__pyx_v_namespace));
  PyTuple_SET_ITEM(__pyx_2, 1, ((PyObject *)__pyx_v_namespace));
  __pyx_4 = PyObject_CallObject(((PyObject*)__pyx_ptype_5_genx_Element), __pyx_2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 566; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__Pyx_TypeTest(__pyx_4, __pyx_ptype_5_genx_Element)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 566; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_element));
  __pyx_v_element = __pyx_4;
  __pyx_4 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":567 */
  __pyx_v_element->elem = __pyx_v_elem;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":568 */
  Py_INCREF(((PyObject *)__pyx_v_element));
  __pyx_r = ((PyObject *)__pyx_v_element);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("_genx.Writer.declareElement");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_c_namespace);
  Py_DECREF(__pyx_v_element);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_type);
  Py_DECREF(__pyx_v_namespace);
  return __pyx_r;
}

static PyObject *__pyx_k74p;
static PyObject *__pyx_k75p;

static char (__pyx_k74[]) = "Passed in None for name, instead of text";
static char (__pyx_k75[]) = "UTF-8";

static PyObject *__pyx_f_5_genx_6Writer_declareAttribute(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5_genx_6Writer_declareAttribute[] = "Create a new Attribute object, optionally using a Namespace object";
static PyObject *__pyx_f_5_genx_6Writer_declareAttribute(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_name = 0;
  struct __pyx_obj_5_genx_Namespace *__pyx_v_namespace = 0;
  genxAttribute __pyx_v_attr;
  genxStatus __pyx_v_status;
  genxNamespace __pyx_v_ns;
  struct __pyx_obj_5_genx_Namespace *__pyx_v_c_namespace;
  struct __pyx_obj_5_genx_Attribute *__pyx_v_attribute;
  PyObject *__pyx_r;
  int __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  constUtf8 __pyx_5;
  static char *__pyx_argnames[] = {"name","namespace",0};
  __pyx_v_namespace = __pyx_k36;
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O|O", __pyx_argnames, &__pyx_v_name, &__pyx_v_namespace)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_name);
  Py_INCREF(__pyx_v_namespace);
  __pyx_v_c_namespace = Py_None; Py_INCREF((PyObject *) __pyx_v_c_namespace);
  __pyx_v_attribute = Py_None; Py_INCREF((PyObject *) __pyx_v_attribute);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_namespace), __pyx_ptype_5_genx_Namespace, 1, "namespace")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 570; goto __pyx_L1;}

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":577 */
  if (PyObject_Cmp(__pyx_v_name, Py_None, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 577; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":578 */
    __pyx_2 = __Pyx_GetName(__pyx_m, __pyx_n_BadUTF8Error); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 578; goto __pyx_L1;}
    __Pyx_Raise(__pyx_2, __pyx_k74p, 0);
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    {__pyx_filename = __pyx_f[0]; __pyx_lineno = 578; goto __pyx_L1;}
    goto __pyx_L2;
  }
  __pyx_L2:;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":580 */
  if (PyObject_Cmp(((PyObject *)__pyx_v_namespace), Py_None, &__pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 580; goto __pyx_L1;}
  __pyx_1 = __pyx_1 == 0;
  if (__pyx_1) {

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":581 */
    __pyx_v_ns = 0;
    goto __pyx_L3;
  }
  /*else*/ {

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":584 */
    Py_INCREF(((PyObject *)__pyx_v_namespace));
    Py_DECREF(((PyObject *)__pyx_v_c_namespace));
    __pyx_v_c_namespace = ((PyObject *)__pyx_v_namespace);

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":585 */
    __pyx_v_ns = __pyx_v_c_namespace->ns;
  }
  __pyx_L3:;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":587 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_name, __pyx_n_encode); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 587; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 587; goto __pyx_L1;}
  Py_INCREF(__pyx_k75p);
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_k75p);
  __pyx_4 = PyObject_CallObject(__pyx_2, __pyx_3); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 587; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_v_name);
  __pyx_v_name = __pyx_4;
  __pyx_4 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":588 */
  __pyx_5 = PyString_AsString(__pyx_v_name); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 588; goto __pyx_L1;}
  __pyx_v_attr = genxDeclareAttribute(((struct __pyx_obj_5_genx_Writer *)__pyx_v_self)->writer,__pyx_v_ns,__pyx_5,(&__pyx_v_status));

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":589 */
  __pyx_1 = (__pyx_v_attr == 0);
  if (__pyx_1) {

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":590 */
    __pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n___checkStatus); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 590; goto __pyx_L1;}
    __pyx_3 = PyInt_FromLong(((int )__pyx_v_status)); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 590; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 590; goto __pyx_L1;}
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
    __pyx_3 = 0;
    __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 590; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    goto __pyx_L4;
  }
  __pyx_L4:;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":593 */
  __pyx_2 = PyTuple_New(2); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 593; goto __pyx_L1;}
  Py_INCREF(__pyx_v_name);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_name);
  Py_INCREF(((PyObject *)__pyx_v_namespace));
  PyTuple_SET_ITEM(__pyx_2, 1, ((PyObject *)__pyx_v_namespace));
  __pyx_4 = PyObject_CallObject(((PyObject*)__pyx_ptype_5_genx_Attribute), __pyx_2); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 593; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  if (!__Pyx_TypeTest(__pyx_4, __pyx_ptype_5_genx_Attribute)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 593; goto __pyx_L1;}
  Py_DECREF(((PyObject *)__pyx_v_attribute));
  __pyx_v_attribute = __pyx_4;
  __pyx_4 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":594 */
  __pyx_v_attribute->attr = __pyx_v_attr;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":595 */
  Py_INCREF(((PyObject *)__pyx_v_attribute));
  __pyx_r = ((PyObject *)__pyx_v_attribute);
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("_genx.Writer.declareAttribute");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_c_namespace);
  Py_DECREF(__pyx_v_attribute);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_name);
  Py_DECREF(__pyx_v_namespace);
  return __pyx_r;
}

static PyObject *__pyx_f_5_genx_6Writer_startElement(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5_genx_6Writer_startElement[] = "Starts a new element using the given Element object";
static PyObject *__pyx_f_5_genx_6Writer_startElement(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_5_genx_Element *__pyx_v_element = 0;
  struct __pyx_obj_5_genx_Element *__pyx_v_c_element;
  genxElement __pyx_v_elem;
  PyObject *__pyx_v_status;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  static char *__pyx_argnames[] = {"element",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_element)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_element);
  __pyx_v_c_element = Py_None; Py_INCREF((PyObject *) __pyx_v_c_element);
  __pyx_v_status = Py_None; Py_INCREF(__pyx_v_status);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_element), __pyx_ptype_5_genx_Element, 1, "element")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 597; goto __pyx_L1;}

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":602 */
  Py_INCREF(((PyObject *)__pyx_v_element));
  Py_DECREF(((PyObject *)__pyx_v_c_element));
  __pyx_v_c_element = ((PyObject *)__pyx_v_element);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":603 */
  __pyx_v_elem = __pyx_v_c_element->elem;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":604 */
  __pyx_1 = PyInt_FromLong(genxStartElement(__pyx_v_elem)); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 604; goto __pyx_L1;}
  Py_DECREF(__pyx_v_status);
  __pyx_v_status = __pyx_1;
  __pyx_1 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":605 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_self, __pyx_n___checkStatus); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 605; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 605; goto __pyx_L1;}
  Py_INCREF(__pyx_v_status);
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_v_status);
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 605; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("_genx.Writer.startElement");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_c_element);
  Py_DECREF(__pyx_v_status);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_element);
  return __pyx_r;
}

static PyObject *__pyx_f_5_genx_6Writer_addAttribute(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5_genx_6Writer_addAttribute[] = "Adds an attribute using the given Attribute object";
static PyObject *__pyx_f_5_genx_6Writer_addAttribute(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  struct __pyx_obj_5_genx_Attribute *__pyx_v_attribute = 0;
  PyObject *__pyx_v_value = 0;
  struct __pyx_obj_5_genx_Attribute *__pyx_v_c_attribute;
  genxAttribute __pyx_v_attr;
  genxStatus __pyx_v_status;
  PyObject *__pyx_r;
  constUtf8 __pyx_1;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  static char *__pyx_argnames[] = {"attribute","value",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "OO", __pyx_argnames, &__pyx_v_attribute, &__pyx_v_value)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_attribute);
  Py_INCREF(__pyx_v_value);
  __pyx_v_c_attribute = Py_None; Py_INCREF((PyObject *) __pyx_v_c_attribute);
  if (!__Pyx_ArgTypeTest(((PyObject *)__pyx_v_attribute), __pyx_ptype_5_genx_Attribute, 1, "attribute")) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 607; goto __pyx_L1;}

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":613 */
  Py_INCREF(((PyObject *)__pyx_v_attribute));
  Py_DECREF(((PyObject *)__pyx_v_c_attribute));
  __pyx_v_c_attribute = ((PyObject *)__pyx_v_attribute);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":614 */
  __pyx_v_attr = __pyx_v_c_attribute->attr;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":615 */
  __pyx_1 = PyString_AsString(__pyx_v_value); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 615; goto __pyx_L1;}
  __pyx_v_status = genxAddAttribute(__pyx_v_attr,__pyx_1);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":616 */
  __pyx_2 = PyObject_GetAttr(__pyx_v_self, __pyx_n___checkStatus); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 616; goto __pyx_L1;}
  __pyx_3 = PyInt_FromLong(__pyx_v_status); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 616; goto __pyx_L1;}
  __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 616; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_4, 0, __pyx_3);
  __pyx_3 = 0;
  __pyx_3 = PyObject_CallObject(__pyx_2, __pyx_4); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 616; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_4); __pyx_4 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("_genx.Writer.addAttribute");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_c_attribute);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_attribute);
  Py_DECREF(__pyx_v_value);
  return __pyx_r;
}

static PyObject *__pyx_n_items;

static PyObject *__pyx_f_5_genx_6Writer_addAttributes(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5_genx_6Writer_addAttributes[] = "Adds the attributes using the given dictionary\n\n        This is a simple convenience function which will iterate over\n        the items in the given dictionary, adding them using\n        `genxAddAttributeLiteral` and the default namespace.\n\n        This is currently more of an experimental method, it should be\n        faster than iteratively adding attributes from python code as\n        the loop is executed in C. This method doesn\'t support\n        namespaces or use any declared Attribute objects.\n        \n        ";
static PyObject *__pyx_f_5_genx_6Writer_addAttributes(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_attributes = 0;
  PyObject *__pyx_v_attr;
  PyObject *__pyx_v_value;
  PyObject *__pyx_v_status;
  PyObject *__pyx_r;
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  PyObject *__pyx_4 = 0;
  constUtf8 __pyx_5;
  constUtf8 __pyx_6;
  static char *__pyx_argnames[] = {"attributes",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_attributes)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_attributes);
  __pyx_v_attr = Py_None; Py_INCREF(__pyx_v_attr);
  __pyx_v_value = Py_None; Py_INCREF(__pyx_v_value);
  __pyx_v_status = Py_None; Py_INCREF(__pyx_v_status);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":631 */
  __pyx_1 = PyObject_GetAttr(__pyx_v_attributes, __pyx_n_items); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 631; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(0); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 631; goto __pyx_L1;}
  __pyx_3 = PyObject_CallObject(__pyx_1, __pyx_2); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 631; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  __pyx_1 = PyObject_GetIter(__pyx_3); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 631; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  for (;;) {
    __pyx_L2:;
    __pyx_2 = PyIter_Next(__pyx_1);
    if (!__pyx_2) {
      if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 631; goto __pyx_L1;}
      break;
    }
    __pyx_3 = __Pyx_UnpackItem(__pyx_2, 0); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 631; goto __pyx_L1;}
    Py_DECREF(__pyx_v_attr);
    __pyx_v_attr = __pyx_3;
    __pyx_3 = 0;
    __pyx_4 = __Pyx_UnpackItem(__pyx_2, 1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 631; goto __pyx_L1;}
    Py_DECREF(__pyx_v_value);
    __pyx_v_value = __pyx_4;
    __pyx_4 = 0;
    if (__Pyx_EndUnpack(__pyx_2, 2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 631; goto __pyx_L1;}
    Py_DECREF(__pyx_2); __pyx_2 = 0;

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":632 */
    __pyx_5 = PyString_AsString(__pyx_v_attr); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 632; goto __pyx_L1;}
    __pyx_6 = PyString_AsString(__pyx_v_value); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 632; goto __pyx_L1;}
    __pyx_2 = PyInt_FromLong(genxAddAttributeLiteral(((struct __pyx_obj_5_genx_Writer *)__pyx_v_self)->writer,0,__pyx_5,__pyx_6)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 632; goto __pyx_L1;}
    Py_DECREF(__pyx_v_status);
    __pyx_v_status = __pyx_2;
    __pyx_2 = 0;

    /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":633 */
    __pyx_3 = PyObject_GetAttr(__pyx_v_self, __pyx_n___checkStatus); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 633; goto __pyx_L1;}
    __pyx_4 = PyTuple_New(1); if (!__pyx_4) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 633; goto __pyx_L1;}
    Py_INCREF(__pyx_v_status);
    PyTuple_SET_ITEM(__pyx_4, 0, __pyx_v_status);
    __pyx_2 = PyObject_CallObject(__pyx_3, __pyx_4); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 633; goto __pyx_L1;}
    Py_DECREF(__pyx_3); __pyx_3 = 0;
    Py_DECREF(__pyx_4); __pyx_4 = 0;
    Py_DECREF(__pyx_2); __pyx_2 = 0;
  }
  __pyx_L3:;
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  Py_XDECREF(__pyx_4);
  __Pyx_AddTraceback("_genx.Writer.addAttributes");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_attr);
  Py_DECREF(__pyx_v_value);
  Py_DECREF(__pyx_v_status);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_attributes);
  return __pyx_r;
}

static PyObject *__pyx_f_5_genx_6Writer_checkText(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5_genx_6Writer_checkText[] = "Checks the validity of the given text";
static PyObject *__pyx_f_5_genx_6Writer_checkText(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_text = 0;
  PyObject *__pyx_v_status;
  PyObject *__pyx_r;
  constUtf8 __pyx_1;
  PyObject *__pyx_2 = 0;
  static char *__pyx_argnames[] = {"text",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_text)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_text);
  __pyx_v_status = Py_None; Py_INCREF(__pyx_v_status);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":638 */
  __pyx_1 = PyString_AsString(__pyx_v_text); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 638; goto __pyx_L1;}
  __pyx_2 = PyInt_FromLong(genxCheckText(((struct __pyx_obj_5_genx_Writer *)__pyx_v_self)->writer,__pyx_1)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 638; goto __pyx_L1;}
  Py_DECREF(__pyx_v_status);
  __pyx_v_status = __pyx_2;
  __pyx_2 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":639 */
  Py_INCREF(__pyx_v_status);
  __pyx_r = __pyx_v_status;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("_genx.Writer.checkText");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_status);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_text);
  return __pyx_r;
}

static char (__pyx_k76[]) = "";

static PyObject *__pyx_f_5_genx_6Writer_scrubText(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static char __pyx_doc_5_genx_6Writer_scrubText[] = "Silently wipes all non-XML characters out of the given string";
static PyObject *__pyx_f_5_genx_6Writer_scrubText(PyObject *__pyx_v_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  PyObject *__pyx_v_text = 0;
  constUtf8 __pyx_v_out_string;
  PyObject *__pyx_v_status;
  PyObject *__pyx_r;
  constUtf8 __pyx_1;
  PyObject *__pyx_2 = 0;
  static char *__pyx_argnames[] = {"text",0};
  if (!PyArg_ParseTupleAndKeywords(__pyx_args, __pyx_kwds, "O", __pyx_argnames, &__pyx_v_text)) return 0;
  Py_INCREF(__pyx_v_self);
  Py_INCREF(__pyx_v_text);
  __pyx_v_status = Py_None; Py_INCREF(__pyx_v_status);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":646 */
  __pyx_v_out_string = __pyx_k76;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":647 */
  __pyx_1 = PyString_AsString(__pyx_v_text); if (PyErr_Occurred()) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 647; goto __pyx_L1;}
  __pyx_2 = PyInt_FromLong(genxScrubText(((struct __pyx_obj_5_genx_Writer *)__pyx_v_self)->writer,__pyx_1,__pyx_v_out_string)); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 647; goto __pyx_L1;}
  Py_DECREF(__pyx_v_status);
  __pyx_v_status = __pyx_2;
  __pyx_2 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":651 */
  __pyx_2 = PyString_FromString(__pyx_v_out_string); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 651; goto __pyx_L1;}
  __pyx_r = __pyx_2;
  __pyx_2 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; Py_INCREF(__pyx_r);
  goto __pyx_L0;
  __pyx_L1:;
  Py_XDECREF(__pyx_2);
  __Pyx_AddTraceback("_genx.Writer.scrubText");
  __pyx_r = 0;
  __pyx_L0:;
  Py_DECREF(__pyx_v_status);
  Py_DECREF(__pyx_v_self);
  Py_DECREF(__pyx_v_text);
  return __pyx_r;
}

static __Pyx_InternTabEntry __pyx_intern_tab[] = {
  {&__pyx_n_AttributeInDefaultNamespaceError, "AttributeInDefaultNamespaceError"},
  {&__pyx_n_BadDefaultDeclarationError, "BadDefaultDeclarationError"},
  {&__pyx_n_BadNameError, "BadNameError"},
  {&__pyx_n_BadNamespaceNameError, "BadNamespaceNameError"},
  {&__pyx_n_BadUTF8Error, "BadUTF8Error"},
  {&__pyx_n_DuplicateAttributeError, "DuplicateAttributeError"},
  {&__pyx_n_DuplicateNamespaceError, "DuplicateNamespaceError"},
  {&__pyx_n_DuplicatePrefixError, "DuplicatePrefixError"},
  {&__pyx_n_Exception, "Exception"},
  {&__pyx_n_GenxError, "GenxError"},
  {&__pyx_n_IOError, "IOError"},
  {&__pyx_n_MalformedPIError, "MalformedPIError"},
  {&__pyx_n_NonXMLCharacterError, "NonXMLCharacterError"},
  {&__pyx_n_SequenceError, "SequenceError"},
  {&__pyx_n___checkStatus, "__checkStatus"},
  {&__pyx_n___version__, "__version__"},
  {&__pyx_n_cmp, "cmp"},
  {&__pyx_n_encode, "encode"},
  {&__pyx_n_fileno, "fileno"},
  {&__pyx_n_flush, "flush"},
  {&__pyx_n_get_version, "get_version"},
  {&__pyx_n_hasattr, "hasattr"},
  {&__pyx_n_items, "items"},
  {&__pyx_n_repr, "repr"},
  {&__pyx_n_write, "write"},
  {0, 0}
};

static __Pyx_StringTabEntry __pyx_string_tab[] = {
  {&__pyx_k1p, __pyx_k1, sizeof(__pyx_k1)},
  {&__pyx_k3p, __pyx_k3, sizeof(__pyx_k3)},
  {&__pyx_k5p, __pyx_k5, sizeof(__pyx_k5)},
  {&__pyx_k7p, __pyx_k7, sizeof(__pyx_k7)},
  {&__pyx_k9p, __pyx_k9, sizeof(__pyx_k9)},
  {&__pyx_k11p, __pyx_k11, sizeof(__pyx_k11)},
  {&__pyx_k13p, __pyx_k13, sizeof(__pyx_k13)},
  {&__pyx_k15p, __pyx_k15, sizeof(__pyx_k15)},
  {&__pyx_k17p, __pyx_k17, sizeof(__pyx_k17)},
  {&__pyx_k19p, __pyx_k19, sizeof(__pyx_k19)},
  {&__pyx_k21p, __pyx_k21, sizeof(__pyx_k21)},
  {&__pyx_k23p, __pyx_k23, sizeof(__pyx_k23)},
  {&__pyx_k25p, __pyx_k25, sizeof(__pyx_k25)},
  {&__pyx_k27p, __pyx_k27, sizeof(__pyx_k27)},
  {&__pyx_k38p, __pyx_k38, sizeof(__pyx_k38)},
  {&__pyx_k39p, __pyx_k39, sizeof(__pyx_k39)},
  {&__pyx_k40p, __pyx_k40, sizeof(__pyx_k40)},
  {&__pyx_k42p, __pyx_k42, sizeof(__pyx_k42)},
  {&__pyx_k43p, __pyx_k43, sizeof(__pyx_k43)},
  {&__pyx_k44p, __pyx_k44, sizeof(__pyx_k44)},
  {&__pyx_k45p, __pyx_k45, sizeof(__pyx_k45)},
  {&__pyx_k46p, __pyx_k46, sizeof(__pyx_k46)},
  {&__pyx_k47p, __pyx_k47, sizeof(__pyx_k47)},
  {&__pyx_k48p, __pyx_k48, sizeof(__pyx_k48)},
  {&__pyx_k49p, __pyx_k49, sizeof(__pyx_k49)},
  {&__pyx_k50p, __pyx_k50, sizeof(__pyx_k50)},
  {&__pyx_k51p, __pyx_k51, sizeof(__pyx_k51)},
  {&__pyx_k52p, __pyx_k52, sizeof(__pyx_k52)},
  {&__pyx_k53p, __pyx_k53, sizeof(__pyx_k53)},
  {&__pyx_k54p, __pyx_k54, sizeof(__pyx_k54)},
  {&__pyx_k55p, __pyx_k55, sizeof(__pyx_k55)},
  {&__pyx_k56p, __pyx_k56, sizeof(__pyx_k56)},
  {&__pyx_k57p, __pyx_k57, sizeof(__pyx_k57)},
  {&__pyx_k58p, __pyx_k58, sizeof(__pyx_k58)},
  {&__pyx_k59p, __pyx_k59, sizeof(__pyx_k59)},
  {&__pyx_k60p, __pyx_k60, sizeof(__pyx_k60)},
  {&__pyx_k61p, __pyx_k61, sizeof(__pyx_k61)},
  {&__pyx_k62p, __pyx_k62, sizeof(__pyx_k62)},
  {&__pyx_k63p, __pyx_k63, sizeof(__pyx_k63)},
  {&__pyx_k64p, __pyx_k64, sizeof(__pyx_k64)},
  {&__pyx_k65p, __pyx_k65, sizeof(__pyx_k65)},
  {&__pyx_k66p, __pyx_k66, sizeof(__pyx_k66)},
  {&__pyx_k67p, __pyx_k67, sizeof(__pyx_k67)},
  {&__pyx_k68p, __pyx_k68, sizeof(__pyx_k68)},
  {&__pyx_k69p, __pyx_k69, sizeof(__pyx_k69)},
  {&__pyx_k70p, __pyx_k70, sizeof(__pyx_k70)},
  {&__pyx_k71p, __pyx_k71, sizeof(__pyx_k71)},
  {&__pyx_k72p, __pyx_k72, sizeof(__pyx_k72)},
  {&__pyx_k73p, __pyx_k73, sizeof(__pyx_k73)},
  {&__pyx_k74p, __pyx_k74, sizeof(__pyx_k74)},
  {&__pyx_k75p, __pyx_k75, sizeof(__pyx_k75)},
  {0, 0, 0}
};

static PyObject *__pyx_tp_new_5_genx_Namespace(PyTypeObject *t, PyObject *a, PyObject *k) {
  PyObject *o = (*t->tp_alloc)(t, 0);
  struct __pyx_obj_5_genx_Namespace *p = (struct __pyx_obj_5_genx_Namespace *)o;
  return o;
}

static void __pyx_tp_dealloc_5_genx_Namespace(PyObject *o) {
  struct __pyx_obj_5_genx_Namespace *p = (struct __pyx_obj_5_genx_Namespace *)o;
  (*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_5_genx_Namespace(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_5_genx_Namespace *p = (struct __pyx_obj_5_genx_Namespace *)o;
  return 0;
}

static int __pyx_tp_clear_5_genx_Namespace(PyObject *o) {
  struct __pyx_obj_5_genx_Namespace *p = (struct __pyx_obj_5_genx_Namespace *)o;
  return 0;
}

static struct PyMethodDef __pyx_methods_5_genx_Namespace[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Namespace = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence_Namespace = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Namespace = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Namespace = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_5_genx_Namespace = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "_genx.Namespace", /*tp_name*/
  sizeof(struct __pyx_obj_5_genx_Namespace), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_5_genx_Namespace, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  __pyx_f_5_genx_9Namespace___cmp__, /*tp_compare*/
  __pyx_f_5_genx_9Namespace___repr__, /*tp_repr*/
  &__pyx_tp_as_number_Namespace, /*tp_as_number*/
  &__pyx_tp_as_sequence_Namespace, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Namespace, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Namespace, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE, /*tp_flags*/
  "A simple class to contain the genxNamespace variable", /*tp_doc*/
  __pyx_tp_traverse_5_genx_Namespace, /*tp_traverse*/
  __pyx_tp_clear_5_genx_Namespace, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_5_genx_Namespace, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  __pyx_f_5_genx_9Namespace___init__, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_5_genx_Namespace, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static PyObject *__pyx_tp_new_5_genx_Element(PyTypeObject *t, PyObject *a, PyObject *k) {
  PyObject *o = (*t->tp_alloc)(t, 0);
  struct __pyx_obj_5_genx_Element *p = (struct __pyx_obj_5_genx_Element *)o;
  p->namespace = Py_None; Py_INCREF((PyObject *) p->namespace);
  return o;
}

static void __pyx_tp_dealloc_5_genx_Element(PyObject *o) {
  struct __pyx_obj_5_genx_Element *p = (struct __pyx_obj_5_genx_Element *)o;
  Py_XDECREF(p->namespace);
  (*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_5_genx_Element(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_5_genx_Element *p = (struct __pyx_obj_5_genx_Element *)o;
  if (p->namespace) {
    e = (*v)(((PyObject*)p->namespace), a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_5_genx_Element(PyObject *o) {
  struct __pyx_obj_5_genx_Element *p = (struct __pyx_obj_5_genx_Element *)o;
  Py_XDECREF(p->namespace);
  p->namespace = Py_None; Py_INCREF((PyObject *) p->namespace);
  return 0;
}

static struct PyMethodDef __pyx_methods_5_genx_Element[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Element = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence_Element = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Element = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Element = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_5_genx_Element = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "_genx.Element", /*tp_name*/
  sizeof(struct __pyx_obj_5_genx_Element), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_5_genx_Element, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  __pyx_f_5_genx_7Element___cmp__, /*tp_compare*/
  __pyx_f_5_genx_7Element___repr__, /*tp_repr*/
  &__pyx_tp_as_number_Element, /*tp_as_number*/
  &__pyx_tp_as_sequence_Element, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Element, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Element, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  "A simple class to contain the genxElement variable", /*tp_doc*/
  __pyx_tp_traverse_5_genx_Element, /*tp_traverse*/
  __pyx_tp_clear_5_genx_Element, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_5_genx_Element, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  __pyx_f_5_genx_7Element___init__, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_5_genx_Element, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static PyObject *__pyx_tp_new_5_genx_Attribute(PyTypeObject *t, PyObject *a, PyObject *k) {
  PyObject *o = (*t->tp_alloc)(t, 0);
  struct __pyx_obj_5_genx_Attribute *p = (struct __pyx_obj_5_genx_Attribute *)o;
  p->namespace = Py_None; Py_INCREF((PyObject *) p->namespace);
  return o;
}

static void __pyx_tp_dealloc_5_genx_Attribute(PyObject *o) {
  struct __pyx_obj_5_genx_Attribute *p = (struct __pyx_obj_5_genx_Attribute *)o;
  Py_XDECREF(p->namespace);
  (*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_5_genx_Attribute(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_5_genx_Attribute *p = (struct __pyx_obj_5_genx_Attribute *)o;
  if (p->namespace) {
    e = (*v)(((PyObject*)p->namespace), a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_5_genx_Attribute(PyObject *o) {
  struct __pyx_obj_5_genx_Attribute *p = (struct __pyx_obj_5_genx_Attribute *)o;
  Py_XDECREF(p->namespace);
  p->namespace = Py_None; Py_INCREF((PyObject *) p->namespace);
  return 0;
}

static struct PyMethodDef __pyx_methods_5_genx_Attribute[] = {
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Attribute = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence_Attribute = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Attribute = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Attribute = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_5_genx_Attribute = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "_genx.Attribute", /*tp_name*/
  sizeof(struct __pyx_obj_5_genx_Attribute), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_5_genx_Attribute, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  __pyx_f_5_genx_9Attribute___cmp__, /*tp_compare*/
  __pyx_f_5_genx_9Attribute___repr__, /*tp_repr*/
  &__pyx_tp_as_number_Attribute, /*tp_as_number*/
  &__pyx_tp_as_sequence_Attribute, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Attribute, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Attribute, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  "A simple class to contain the genxAttribute variable", /*tp_doc*/
  __pyx_tp_traverse_5_genx_Attribute, /*tp_traverse*/
  __pyx_tp_clear_5_genx_Attribute, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_5_genx_Attribute, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  __pyx_f_5_genx_9Attribute___init__, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_5_genx_Attribute, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static PyObject *__pyx_tp_new_5_genx_Writer(PyTypeObject *t, PyObject *a, PyObject *k) {
  PyObject *o = (*t->tp_alloc)(t, 0);
  struct __pyx_obj_5_genx_Writer *p = (struct __pyx_obj_5_genx_Writer *)o;
  p->userData = Py_None; Py_INCREF(p->userData);
  if (__pyx_f_5_genx_6Writer___new__(o, a, k) < 0) {
    Py_DECREF(o); o = 0;
  }
  return o;
}

static void __pyx_tp_dealloc_5_genx_Writer(PyObject *o) {
  struct __pyx_obj_5_genx_Writer *p = (struct __pyx_obj_5_genx_Writer *)o;
  {
    PyObject *etype, *eval, *etb;
    PyErr_Fetch(&etype, &eval, &etb);
    ++o->ob_refcnt;
    __pyx_f_5_genx_6Writer___dealloc__(o);
    if (PyErr_Occurred()) PyErr_WriteUnraisable(o);
    --o->ob_refcnt;
    PyErr_Restore(etype, eval, etb);
  }
  Py_XDECREF(p->userData);
  (*o->ob_type->tp_free)(o);
}

static int __pyx_tp_traverse_5_genx_Writer(PyObject *o, visitproc v, void *a) {
  int e;
  struct __pyx_obj_5_genx_Writer *p = (struct __pyx_obj_5_genx_Writer *)o;
  if (p->userData) {
    e = (*v)(p->userData, a); if (e) return e;
  }
  return 0;
}

static int __pyx_tp_clear_5_genx_Writer(PyObject *o) {
  struct __pyx_obj_5_genx_Writer *p = (struct __pyx_obj_5_genx_Writer *)o;
  Py_XDECREF(p->userData);
  p->userData = Py_None; Py_INCREF(p->userData);
  return 0;
}

static struct PyMethodDef __pyx_methods_5_genx_Writer[] = {
  {"startDocFile", (PyCFunction)__pyx_f_5_genx_6Writer_startDocFile, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5_genx_6Writer_startDocFile},
  {"startElementLiteral", (PyCFunction)__pyx_f_5_genx_6Writer_startElementLiteral, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5_genx_6Writer_startElementLiteral},
  {"addText", (PyCFunction)__pyx_f_5_genx_6Writer_addText, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5_genx_6Writer_addText},
  {"comment", (PyCFunction)__pyx_f_5_genx_6Writer_comment, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5_genx_6Writer_comment},
  {"PI", (PyCFunction)__pyx_f_5_genx_6Writer_PI, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5_genx_6Writer_PI},
  {"endElement", (PyCFunction)__pyx_f_5_genx_6Writer_endElement, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5_genx_6Writer_endElement},
  {"addNamespace", (PyCFunction)__pyx_f_5_genx_6Writer_addNamespace, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5_genx_6Writer_addNamespace},
  {"unsetDefaultNamespace", (PyCFunction)__pyx_f_5_genx_6Writer_unsetDefaultNamespace, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5_genx_6Writer_unsetDefaultNamespace},
  {"endDocument", (PyCFunction)__pyx_f_5_genx_6Writer_endDocument, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5_genx_6Writer_endDocument},
  {"addAttributeLiteral", (PyCFunction)__pyx_f_5_genx_6Writer_addAttributeLiteral, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5_genx_6Writer_addAttributeLiteral},
  {"__checkStatus", (PyCFunction)__pyx_f_5_genx_6Writer___checkStatus, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5_genx_6Writer___checkStatus},
  {"declareNamespace", (PyCFunction)__pyx_f_5_genx_6Writer_declareNamespace, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5_genx_6Writer_declareNamespace},
  {"declareElement", (PyCFunction)__pyx_f_5_genx_6Writer_declareElement, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5_genx_6Writer_declareElement},
  {"declareAttribute", (PyCFunction)__pyx_f_5_genx_6Writer_declareAttribute, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5_genx_6Writer_declareAttribute},
  {"startElement", (PyCFunction)__pyx_f_5_genx_6Writer_startElement, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5_genx_6Writer_startElement},
  {"addAttribute", (PyCFunction)__pyx_f_5_genx_6Writer_addAttribute, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5_genx_6Writer_addAttribute},
  {"addAttributes", (PyCFunction)__pyx_f_5_genx_6Writer_addAttributes, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5_genx_6Writer_addAttributes},
  {"checkText", (PyCFunction)__pyx_f_5_genx_6Writer_checkText, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5_genx_6Writer_checkText},
  {"scrubText", (PyCFunction)__pyx_f_5_genx_6Writer_scrubText, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5_genx_6Writer_scrubText},
  {0, 0, 0, 0}
};

static PyNumberMethods __pyx_tp_as_number_Writer = {
  0, /*nb_add*/
  0, /*nb_subtract*/
  0, /*nb_multiply*/
  0, /*nb_divide*/
  0, /*nb_remainder*/
  0, /*nb_divmod*/
  0, /*nb_power*/
  0, /*nb_negative*/
  0, /*nb_positive*/
  0, /*nb_absolute*/
  0, /*nb_nonzero*/
  0, /*nb_invert*/
  0, /*nb_lshift*/
  0, /*nb_rshift*/
  0, /*nb_and*/
  0, /*nb_xor*/
  0, /*nb_or*/
  0, /*nb_coerce*/
  0, /*nb_int*/
  0, /*nb_long*/
  0, /*nb_float*/
  0, /*nb_oct*/
  0, /*nb_hex*/
  0, /*nb_inplace_add*/
  0, /*nb_inplace_subtract*/
  0, /*nb_inplace_multiply*/
  0, /*nb_inplace_divide*/
  0, /*nb_inplace_remainder*/
  0, /*nb_inplace_power*/
  0, /*nb_inplace_lshift*/
  0, /*nb_inplace_rshift*/
  0, /*nb_inplace_and*/
  0, /*nb_inplace_xor*/
  0, /*nb_inplace_or*/
  0, /*nb_floor_divide*/
  0, /*nb_true_divide*/
  0, /*nb_inplace_floor_divide*/
  0, /*nb_inplace_true_divide*/
};

static PySequenceMethods __pyx_tp_as_sequence_Writer = {
  0, /*sq_length*/
  0, /*sq_concat*/
  0, /*sq_repeat*/
  0, /*sq_item*/
  0, /*sq_slice*/
  0, /*sq_ass_item*/
  0, /*sq_ass_slice*/
  0, /*sq_contains*/
  0, /*sq_inplace_concat*/
  0, /*sq_inplace_repeat*/
};

static PyMappingMethods __pyx_tp_as_mapping_Writer = {
  0, /*mp_length*/
  0, /*mp_subscript*/
  0, /*mp_ass_subscript*/
};

static PyBufferProcs __pyx_tp_as_buffer_Writer = {
  0, /*bf_getreadbuffer*/
  0, /*bf_getwritebuffer*/
  0, /*bf_getsegcount*/
  0, /*bf_getcharbuffer*/
};

statichere PyTypeObject __pyx_type_5_genx_Writer = {
  PyObject_HEAD_INIT(0)
  0, /*ob_size*/
  "_genx.Writer", /*tp_name*/
  sizeof(struct __pyx_obj_5_genx_Writer), /*tp_basicsize*/
  0, /*tp_itemsize*/
  __pyx_tp_dealloc_5_genx_Writer, /*tp_dealloc*/
  0, /*tp_print*/
  0, /*tp_getattr*/
  0, /*tp_setattr*/
  0, /*tp_compare*/
  0, /*tp_repr*/
  &__pyx_tp_as_number_Writer, /*tp_as_number*/
  &__pyx_tp_as_sequence_Writer, /*tp_as_sequence*/
  &__pyx_tp_as_mapping_Writer, /*tp_as_mapping*/
  0, /*tp_hash*/
  0, /*tp_call*/
  0, /*tp_str*/
  0, /*tp_getattro*/
  0, /*tp_setattro*/
  &__pyx_tp_as_buffer_Writer, /*tp_as_buffer*/
  Py_TPFLAGS_DEFAULT|Py_TPFLAGS_CHECKTYPES|Py_TPFLAGS_BASETYPE|Py_TPFLAGS_HAVE_GC, /*tp_flags*/
  "The main genx class, each one of these typically represents a document", /*tp_doc*/
  __pyx_tp_traverse_5_genx_Writer, /*tp_traverse*/
  __pyx_tp_clear_5_genx_Writer, /*tp_clear*/
  0, /*tp_richcompare*/
  0, /*tp_weaklistoffset*/
  0, /*tp_iter*/
  0, /*tp_iternext*/
  __pyx_methods_5_genx_Writer, /*tp_methods*/
  0, /*tp_members*/
  0, /*tp_getset*/
  0, /*tp_base*/
  0, /*tp_dict*/
  0, /*tp_descr_get*/
  0, /*tp_descr_set*/
  0, /*tp_dictoffset*/
  0, /*tp_init*/
  0, /*tp_alloc*/
  __pyx_tp_new_5_genx_Writer, /*tp_new*/
  0, /*tp_free*/
  0, /*tp_is_gc*/
  0, /*tp_bases*/
  0, /*tp_mro*/
  0, /*tp_cache*/
  0, /*tp_subclasses*/
  0, /*tp_weaklist*/
};

static struct PyMethodDef __pyx_methods[] = {
  {"get_version", (PyCFunction)__pyx_f_5_genx_get_version, METH_VARARGS|METH_KEYWORDS, __pyx_doc_5_genx_get_version},
  {0, 0, 0, 0}
};

DL_EXPORT(void) init_genx(void); /*proto*/
DL_EXPORT(void) init_genx(void) {
  PyObject *__pyx_1 = 0;
  PyObject *__pyx_2 = 0;
  PyObject *__pyx_3 = 0;
  __pyx_m = Py_InitModule4("_genx", __pyx_methods, 0, 0, PYTHON_API_VERSION);
  if (!__pyx_m) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 24; goto __pyx_L1;};
  __pyx_b = PyImport_AddModule("__builtin__");
  if (!__pyx_b) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 24; goto __pyx_L1;};
  if (PyObject_SetAttrString(__pyx_m, "__builtins__", __pyx_b) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 24; goto __pyx_L1;};
  if (__Pyx_InternStrings(__pyx_intern_tab) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 24; goto __pyx_L1;};
  if (__Pyx_InitStrings(__pyx_string_tab) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 24; goto __pyx_L1;};
  if (PyType_Ready(&__pyx_type_5_genx_Namespace) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 269; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "Namespace", (PyObject *)&__pyx_type_5_genx_Namespace) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 269; goto __pyx_L1;}
  __pyx_ptype_5_genx_Namespace = &__pyx_type_5_genx_Namespace;
  __pyx_type_5_genx_Element.tp_free = _PyObject_GC_Del;
  if (PyType_Ready(&__pyx_type_5_genx_Element) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 294; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "Element", (PyObject *)&__pyx_type_5_genx_Element) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 294; goto __pyx_L1;}
  __pyx_ptype_5_genx_Element = &__pyx_type_5_genx_Element;
  __pyx_type_5_genx_Attribute.tp_free = _PyObject_GC_Del;
  if (PyType_Ready(&__pyx_type_5_genx_Attribute) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 316; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "Attribute", (PyObject *)&__pyx_type_5_genx_Attribute) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 316; goto __pyx_L1;}
  __pyx_ptype_5_genx_Attribute = &__pyx_type_5_genx_Attribute;
  __pyx_type_5_genx_Writer.tp_free = _PyObject_GC_Del;
  if (PyType_Ready(&__pyx_type_5_genx_Writer) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 364; goto __pyx_L1;}
  if (PyObject_SetAttrString(__pyx_m, "Writer", (PyObject *)&__pyx_type_5_genx_Writer) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 364; goto __pyx_L1;}
  __pyx_ptype_5_genx_Writer = &__pyx_type_5_genx_Writer;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":24 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n___version__, __pyx_k1p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 24; goto __pyx_L1;}

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":174 */
  __pyx_1 = PyDict_New(); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 174; goto __pyx_L1;}
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_Exception); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 174; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 174; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
  __pyx_2 = 0;
  if (PyDict_SetItemString(__pyx_1, "__doc__", __pyx_k3p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 174; goto __pyx_L1;}
  __pyx_2 = __Pyx_CreateClass(__pyx_3, __pyx_1, __pyx_n_GenxError, "_genx"); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 174; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":179 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n_GenxError, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 174; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":181 */
  __pyx_3 = PyDict_New(); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 181; goto __pyx_L1;}
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_Exception); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 181; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 181; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_1);
  __pyx_1 = 0;
  if (PyDict_SetItemString(__pyx_3, "__doc__", __pyx_k5p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 181; goto __pyx_L1;}
  __pyx_1 = __Pyx_CreateClass(__pyx_2, __pyx_3, __pyx_n_DuplicateAttributeError, "_genx"); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 181; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":186 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n_DuplicateAttributeError, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 181; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":188 */
  __pyx_2 = PyDict_New(); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 188; goto __pyx_L1;}
  __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_Exception); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 188; goto __pyx_L1;}
  __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 188; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_3);
  __pyx_3 = 0;
  if (PyDict_SetItemString(__pyx_2, "__doc__", __pyx_k7p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 188; goto __pyx_L1;}
  __pyx_3 = __Pyx_CreateClass(__pyx_1, __pyx_2, __pyx_n_BadNamespaceNameError, "_genx"); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 188; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":193 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n_BadNamespaceNameError, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 188; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":195 */
  __pyx_1 = PyDict_New(); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 195; goto __pyx_L1;}
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_Exception); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 195; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 195; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
  __pyx_2 = 0;
  if (PyDict_SetItemString(__pyx_1, "__doc__", __pyx_k9p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 195; goto __pyx_L1;}
  __pyx_2 = __Pyx_CreateClass(__pyx_3, __pyx_1, __pyx_n_DuplicatePrefixError, "_genx"); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 195; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":200 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n_DuplicatePrefixError, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 195; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":202 */
  __pyx_3 = PyDict_New(); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 202; goto __pyx_L1;}
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_Exception); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 202; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 202; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_1);
  __pyx_1 = 0;
  if (PyDict_SetItemString(__pyx_3, "__doc__", __pyx_k11p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 202; goto __pyx_L1;}
  __pyx_1 = __Pyx_CreateClass(__pyx_2, __pyx_3, __pyx_n_BadNameError, "_genx"); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 202; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":207 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n_BadNameError, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 202; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":209 */
  __pyx_2 = PyDict_New(); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 209; goto __pyx_L1;}
  __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_Exception); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 209; goto __pyx_L1;}
  __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 209; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_3);
  __pyx_3 = 0;
  if (PyDict_SetItemString(__pyx_2, "__doc__", __pyx_k13p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 209; goto __pyx_L1;}
  __pyx_3 = __Pyx_CreateClass(__pyx_1, __pyx_2, __pyx_n_SequenceError, "_genx"); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 209; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":214 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n_SequenceError, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 209; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":216 */
  __pyx_1 = PyDict_New(); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 216; goto __pyx_L1;}
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_Exception); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 216; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 216; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
  __pyx_2 = 0;
  if (PyDict_SetItemString(__pyx_1, "__doc__", __pyx_k15p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 216; goto __pyx_L1;}
  __pyx_2 = __Pyx_CreateClass(__pyx_3, __pyx_1, __pyx_n_AttributeInDefaultNamespaceError, "_genx"); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 216; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":221 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n_AttributeInDefaultNamespaceError, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 216; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":223 */
  __pyx_3 = PyDict_New(); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 223; goto __pyx_L1;}
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_Exception); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 223; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 223; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_1);
  __pyx_1 = 0;
  if (PyDict_SetItemString(__pyx_3, "__doc__", __pyx_k17p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 223; goto __pyx_L1;}
  __pyx_1 = __Pyx_CreateClass(__pyx_2, __pyx_3, __pyx_n_IOError, "_genx"); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 223; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":228 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n_IOError, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 223; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":230 */
  __pyx_2 = PyDict_New(); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 230; goto __pyx_L1;}
  __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_Exception); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 230; goto __pyx_L1;}
  __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 230; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_3);
  __pyx_3 = 0;
  if (PyDict_SetItemString(__pyx_2, "__doc__", __pyx_k19p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 230; goto __pyx_L1;}
  __pyx_3 = __Pyx_CreateClass(__pyx_1, __pyx_2, __pyx_n_BadUTF8Error, "_genx"); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 230; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":235 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n_BadUTF8Error, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 230; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":237 */
  __pyx_1 = PyDict_New(); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 237; goto __pyx_L1;}
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_Exception); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 237; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 237; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
  __pyx_2 = 0;
  if (PyDict_SetItemString(__pyx_1, "__doc__", __pyx_k21p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 237; goto __pyx_L1;}
  __pyx_2 = __Pyx_CreateClass(__pyx_3, __pyx_1, __pyx_n_NonXMLCharacterError, "_genx"); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 237; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":242 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n_NonXMLCharacterError, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 237; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":244 */
  __pyx_3 = PyDict_New(); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 244; goto __pyx_L1;}
  __pyx_1 = __Pyx_GetName(__pyx_b, __pyx_n_Exception); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 244; goto __pyx_L1;}
  __pyx_2 = PyTuple_New(1); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 244; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_2, 0, __pyx_1);
  __pyx_1 = 0;
  if (PyDict_SetItemString(__pyx_3, "__doc__", __pyx_k23p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 244; goto __pyx_L1;}
  __pyx_1 = __Pyx_CreateClass(__pyx_2, __pyx_3, __pyx_n_MalformedPIError, "_genx"); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 244; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":249 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n_MalformedPIError, __pyx_1) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 244; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":251 */
  __pyx_2 = PyDict_New(); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 251; goto __pyx_L1;}
  __pyx_3 = __Pyx_GetName(__pyx_b, __pyx_n_Exception); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 251; goto __pyx_L1;}
  __pyx_1 = PyTuple_New(1); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 251; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_1, 0, __pyx_3);
  __pyx_3 = 0;
  if (PyDict_SetItemString(__pyx_2, "__doc__", __pyx_k25p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 251; goto __pyx_L1;}
  __pyx_3 = __Pyx_CreateClass(__pyx_1, __pyx_2, __pyx_n_DuplicateNamespaceError, "_genx"); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 251; goto __pyx_L1;}
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":256 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n_DuplicateNamespaceError, __pyx_3) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 251; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;
  Py_DECREF(__pyx_2); __pyx_2 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":258 */
  __pyx_1 = PyDict_New(); if (!__pyx_1) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 258; goto __pyx_L1;}
  __pyx_2 = __Pyx_GetName(__pyx_b, __pyx_n_Exception); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 258; goto __pyx_L1;}
  __pyx_3 = PyTuple_New(1); if (!__pyx_3) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 258; goto __pyx_L1;}
  PyTuple_SET_ITEM(__pyx_3, 0, __pyx_2);
  __pyx_2 = 0;
  if (PyDict_SetItemString(__pyx_1, "__doc__", __pyx_k27p) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 258; goto __pyx_L1;}
  __pyx_2 = __Pyx_CreateClass(__pyx_3, __pyx_1, __pyx_n_BadDefaultDeclarationError, "_genx"); if (!__pyx_2) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 258; goto __pyx_L1;}
  Py_DECREF(__pyx_3); __pyx_3 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":263 */
  if (PyObject_SetAttr(__pyx_m, __pyx_n_BadDefaultDeclarationError, __pyx_2) < 0) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 258; goto __pyx_L1;}
  Py_DECREF(__pyx_2); __pyx_2 = 0;
  Py_DECREF(__pyx_1); __pyx_1 = 0;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":275 */
  Py_INCREF(Py_None);
  __pyx_k28 = Py_None;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":300 */
  if (!__Pyx_TypeTest(Py_None, __pyx_ptype_5_genx_Namespace)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 300; goto __pyx_L1;}
  Py_INCREF(Py_None);
  __pyx_k29 = Py_None;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":322 */
  if (!__Pyx_TypeTest(Py_None, __pyx_ptype_5_genx_Namespace)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 322; goto __pyx_L1;}
  Py_INCREF(Py_None);
  __pyx_k30 = Py_None;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":360 */
  __pyx_v_5_genx_sender.send = (&__pyx_f_5_genx_send);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":361 */
  __pyx_v_5_genx_sender.sendBounded = (&__pyx_f_5_genx_send_bounded);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":362 */
  __pyx_v_5_genx_sender.flush = (&__pyx_f_5_genx_flush);

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":400 */
  Py_INCREF(Py_None);
  __pyx_k31 = Py_None;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":445 */
  Py_INCREF(Py_None);
  __pyx_k32 = Py_None;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":473 */
  Py_INCREF(Py_None);
  __pyx_k33 = Py_None;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":519 */
  Py_INCREF(Py_None);
  __pyx_k34 = Py_None;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":543 */
  if (!__Pyx_TypeTest(Py_None, __pyx_ptype_5_genx_Namespace)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 543; goto __pyx_L1;}
  Py_INCREF(Py_None);
  __pyx_k35 = Py_None;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":570 */
  if (!__Pyx_TypeTest(Py_None, __pyx_ptype_5_genx_Namespace)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 570; goto __pyx_L1;}
  Py_INCREF(Py_None);
  __pyx_k36 = Py_None;

  /* "/Users/mick/Projects/pygenx/pygenx-main/genx/_genx.pyx":641 */
  return;
  __pyx_L1:;
  Py_XDECREF(__pyx_1);
  Py_XDECREF(__pyx_2);
  Py_XDECREF(__pyx_3);
  __Pyx_AddTraceback("_genx");
}

static char *__pyx_filenames[] = {
  "_genx.pyx",
};
statichere char **__pyx_f = __pyx_filenames;

/* Runtime support code */

static int __Pyx_ArgTypeTest(PyObject *obj, PyTypeObject *type, int none_allowed, char *name) {
    if (!type) {
        PyErr_Format(PyExc_SystemError, "Missing type object");
        return 0;
    }
    if ((none_allowed && obj == Py_None) || PyObject_TypeCheck(obj, type))
        return 1;
    PyErr_Format(PyExc_TypeError,
        "Argument '%s' has incorrect type (expected %s, got %s)",
        name, type->tp_name, obj->ob_type->tp_name);
    return 0;
}

static PyObject *__Pyx_GetName(PyObject *dict, PyObject *name) {
    PyObject *result;
    result = PyObject_GetAttr(dict, name);
    if (!result)
        PyErr_SetObject(PyExc_NameError, name);
    return result;
}

static PyObject *__Pyx_CreateClass(
    PyObject *bases, PyObject *dict, PyObject *name, char *modname)
{
    PyObject *py_modname;
    PyObject *result = 0;
    
    py_modname = PyString_FromString(modname);
    if (!py_modname)
        goto bad;
    if (PyDict_SetItemString(dict, "__module__", py_modname) < 0)
        goto bad;
    result = PyClass_New(bases, dict, name);
bad:
    Py_XDECREF(py_modname);
    return result;
}

static int __Pyx_TypeTest(PyObject *obj, PyTypeObject *type) {
    if (!type) {
        PyErr_Format(PyExc_SystemError, "Missing type object");
        return 0;
    }
    if (obj == Py_None || PyObject_TypeCheck(obj, type))
        return 1;
    PyErr_Format(PyExc_TypeError, "Cannot convert %s to %s",
        obj->ob_type->tp_name, type->tp_name);
    return 0;
}

static void __Pyx_WriteUnraisable(char *name) {
    PyObject *old_exc, *old_val, *old_tb;
    PyObject *ctx;
    PyErr_Fetch(&old_exc, &old_val, &old_tb);
    ctx = PyString_FromString(name);
    PyErr_Restore(old_exc, old_val, old_tb);
    if (!ctx)
        ctx = Py_None;
    PyErr_WriteUnraisable(ctx);
}

static void __Pyx_Raise(PyObject *type, PyObject *value, PyObject *tb) {
    Py_XINCREF(type);
    Py_XINCREF(value);
    Py_XINCREF(tb);
    /* First, check the traceback argument, replacing None with NULL. */
    if (tb == Py_None) {
        Py_DECREF(tb);
        tb = 0;
    }
    else if (tb != NULL && !PyTraceBack_Check(tb)) {
        PyErr_SetString(PyExc_TypeError,
            "raise: arg 3 must be a traceback or None");
        goto raise_error;
    }
    /* Next, replace a missing value with None */
    if (value == NULL) {
        value = Py_None;
        Py_INCREF(value);
    }
    /* Next, repeatedly, replace a tuple exception with its first item */
    while (PyTuple_Check(type) && PyTuple_Size(type) > 0) {
        PyObject *tmp = type;
        type = PyTuple_GET_ITEM(type, 0);
        Py_INCREF(type);
        Py_DECREF(tmp);
    }
    if (PyString_Check(type))
        ;
    else if (PyClass_Check(type))
        ; /*PyErr_NormalizeException(&type, &value, &tb);*/
    else if (PyInstance_Check(type)) {
        /* Raising an instance.  The value should be a dummy. */
        if (value != Py_None) {
            PyErr_SetString(PyExc_TypeError,
              "instance exception may not have a separate value");
            goto raise_error;
        }
        else {
            /* Normalize to raise <class>, <instance> */
            Py_DECREF(value);
            value = type;
            type = (PyObject*) ((PyInstanceObject*)type)->in_class;
            Py_INCREF(type);
        }
    }
    else {
        /* Not something you can raise.  You get an exception
           anyway, just not what you specified :-) */
        PyErr_Format(PyExc_TypeError,
                 "exceptions must be strings, classes, or "
                 "instances, not %s", type->ob_type->tp_name);
        goto raise_error;
    }
    PyErr_Restore(type, value, tb);
    return;
raise_error:
    Py_XDECREF(value);
    Py_XDECREF(type);
    Py_XDECREF(tb);
    return;
}

static void __Pyx_UnpackError(void) {
    PyErr_SetString(PyExc_ValueError, "unpack sequence of wrong size");
}

static PyObject *__Pyx_UnpackItem(PyObject *seq, int i) {
  PyObject *item;
  if (!(item = PySequence_GetItem(seq, i))) {
    if (PyErr_ExceptionMatches(PyExc_IndexError))
    	__Pyx_UnpackError();
  }
  return item;
}

static int __Pyx_EndUnpack(PyObject *seq, int i) {
  PyObject *item;
  if (item = PySequence_GetItem(seq, i)) {
    Py_DECREF(item);
    __Pyx_UnpackError();
    return -1;
  }
  PyErr_Clear();
    return 0;
}

static int __Pyx_InternStrings(__Pyx_InternTabEntry *t) {
    while (t->p) {
        *t->p = PyString_InternFromString(t->s);
        if (!*t->p)
            return -1;
        ++t;
    }
    return 0;
}

static int __Pyx_InitStrings(__Pyx_StringTabEntry *t) {
    while (t->p) {
        *t->p = PyString_FromStringAndSize(t->s, t->n - 1);
        if (!*t->p)
            return -1;
        ++t;
    }
    return 0;
}

#include "compile.h"
#include "frameobject.h"
#include "traceback.h"

static void __Pyx_AddTraceback(char *funcname) {
    PyObject *py_srcfile = 0;
    PyObject *py_funcname = 0;
    PyObject *py_globals = 0;
    PyObject *empty_tuple = 0;
    PyObject *empty_string = 0;
    PyCodeObject *py_code = 0;
    PyFrameObject *py_frame = 0;
    
    py_srcfile = PyString_FromString(__pyx_filename);
    if (!py_srcfile) goto bad;
    py_funcname = PyString_FromString(funcname);
    if (!py_funcname) goto bad;
    py_globals = PyModule_GetDict(__pyx_m);
    if (!py_globals) goto bad;
    empty_tuple = PyTuple_New(0);
    if (!empty_tuple) goto bad;
    empty_string = PyString_FromString("");
    if (!empty_string) goto bad;
    py_code = PyCode_New(
        0,            /*int argcount,*/
        0,            /*int nlocals,*/
        0,            /*int stacksize,*/
        0,            /*int flags,*/
        empty_string, /*PyObject *code,*/
        empty_tuple,  /*PyObject *consts,*/
        empty_tuple,  /*PyObject *names,*/
        empty_tuple,  /*PyObject *varnames,*/
        empty_tuple,  /*PyObject *freevars,*/
        empty_tuple,  /*PyObject *cellvars,*/
        py_srcfile,   /*PyObject *filename,*/
        py_funcname,  /*PyObject *name,*/
        __pyx_lineno,   /*int firstlineno,*/
        empty_string  /*PyObject *lnotab*/
    );
    if (!py_code) goto bad;
    py_frame = PyFrame_New(
        PyThreadState_Get(), /*PyThreadState *tstate,*/
        py_code,             /*PyCodeObject *code,*/
        py_globals,          /*PyObject *globals,*/
        0                    /*PyObject *locals*/
    );
    if (!py_frame) goto bad;
    py_frame->f_lineno = __pyx_lineno;
    PyTraceBack_Here(py_frame);
bad:
    Py_XDECREF(py_srcfile);
    Py_XDECREF(py_funcname);
    Py_XDECREF(empty_tuple);
    Py_XDECREF(empty_string);
    Py_XDECREF(py_code);
    Py_XDECREF(py_frame);
}
