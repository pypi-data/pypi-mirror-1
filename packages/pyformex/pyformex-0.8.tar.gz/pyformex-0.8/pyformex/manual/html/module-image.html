<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<link rel="STYLESHEET" href="pyformex.css" type='text/css' />
<link rel="SHORTCUT ICON" href="../favicon.ico" />
<link rel='start' href='http://pyformex.berlios.de' title='pyFormex home Page' />
<link rel="first" href="pyformex.html" title='pyFormex manual' />
<link rel='last' href='about.html' title='About this document...' />
<link rel='help' href='about.html' title='About this document...' />
<link rel="next" href="module-widgets.html" />
<link rel="prev" href="module-colorscale.html" />
<link rel="parent" href="node75.html" />
<link rel="next" href="module-widgets.html" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name='aesop' content='information' />
<title>8.12 image -- Saving OpenGL renderings to image files.</title>
</head>
<body>
<div class="navigation">
<div id='top-navigation-panel' xml:id='top-navigation-panel'>
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td class='online-navigation'><a rel="prev" title="8.11.2 colorlegend class: A"
  href="node114.html"><img src='previous.png'
  border='0' height='32'  alt='Previous Page' width='32' /></a></td>
<td class='online-navigation'><a rel="parent" title="8. pyformex  "
  href="node75.html"><img src='up.png'
  border='0' height='32'  alt='Up one Level' width='32' /></a></td>
<td class='online-navigation'><a rel="next" title="8.13 widgets  "
  href="module-widgets.html"><img src='next.png'
  border='0' height='32'  alt='Next Page' width='32' /></a></td>
<td align="center" width="100%">pyFormex manual</td>
<td class='online-navigation'><img src='blank.png'
  border='0' height='32'  alt='' width='32' /></td>
<td class='online-navigation'><img src='blank.png'
  border='0' height='32'  alt='' width='32' /></td>
<td class='online-navigation'><a rel="index" title="Index"
  href="genindex.html"><img src='index.png'
  border='0' height='32'  alt='Index' width='32' /></a></td>
</tr></table>
<div class='online-navigation'>
<b class="navlabel">Previous:</b>
<a class="sectref" rel="prev" href="node114.html">8.11.2 ColorLegend class: A</a>
<b class="navlabel">Up:</b>
<a class="sectref" rel="parent" href="node75.html">8. pyFormex  </a>
<b class="navlabel">Next:</b>
<a class="sectref" rel="next" href="module-widgets.html">8.13 widgets  </a>
</div>
<hr /></div>
</div>
<!--End of Navigation Panel-->

<h1><a name="SECTION0091200000000000000000"></a>
<a name="sec:image"></a>
<br>
8.12 <tt class="module">image</tt> -- Saving OpenGL renderings to image files.
</h1>

<p>
<a name="module-image"></a>

<p>
This module defines some functions that can be used to save the
OpenGL rendering and the pyFormex GUI to image files. There are even
provisions for automatic saving to a series of files and creating
a movie from these images.

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-419' xml:id='l2h-419' class="function">initialize</tt></b>(</nobr></td>
  <td><var></var>)</td></tr></table></dt>
<dd>
Initialize the image module.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-420' xml:id='l2h-420' class="function">imageFormats</tt></b>(</nobr></td>
  <td><var></var>)</td></tr></table></dt>
<dd>
Return a list of the valid image formats.

<p>
image formats are lower case strings as 'png', 'gif', 'ppm', 'eps', etc.
    The available image formats are derived from the installed software.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-421' xml:id='l2h-421' class="function">checkImageFormat</tt></b>(</nobr></td>
  <td><var>fmt,verbose=False</var>)</td></tr></table></dt>
<dd>
Checks image format; if verbose, warn if it is not.

<p>
Returns the image format, or None if it is not OK.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-422' xml:id='l2h-422' class="function">imageFormatFromExt</tt></b>(</nobr></td>
  <td><var>ext</var>)</td></tr></table></dt>
<dd>
Determine the image format from an extension.

<p>
The extension may or may not have an initial dot and may be in upper or
    lower case. The format is equal to the extension characters in lower case.
    If the supplied extension is empty, the default format 'png' is returned.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-423' xml:id='l2h-423' class="function">save_canvas</tt></b>(</nobr></td>
  <td><var>canvas,fn,fmt='png',options=None</var>)</td></tr></table></dt>
<dd>
Save the rendering on canvas as an image file.

<p>
canvas specifies the qtcanvas rendering window.
    fn is the name of the file
    fmt is the image file format

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-424' xml:id='l2h-424' class="function">save_window</tt></b>(</nobr></td>
  <td><var>filename,format,windowname=None</var>)</td></tr></table></dt>
<dd>
Save a window as an image file.

<p>
This function needs a filename AND format.
    If a window is specified, the named window is saved.
    Else, the main pyFormex window is saved.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-425' xml:id='l2h-425' class="function">save_main_window</tt></b>(</nobr></td>
  <td><var>filename,format,border=False</var>)</td></tr></table></dt>
<dd>
Save the main pyFormex window as an image file.

<p>
This function needs a filename AND format.
    This is an alternative for save_window, by grabbin it from the root
    window, using save_rect.
    This allows us to grab the border as well.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-426' xml:id='l2h-426' class="function">save_rect</tt></b>(</nobr></td>
  <td><var>x,y,w,h,filename,format</var>)</td></tr></table></dt>
<dd>
Save a rectangular part of the screen to a an image file.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-427' xml:id='l2h-427' class="function">save</tt></b>(</nobr></td>
  <td><var>filename=None,window=False,multi=False,hotkey=True,autosave=False,border=False,rootcrop=False,format=None,verbose=False</var>)</td></tr></table></dt>
<dd>
Saves an image to file or Starts/stops multisave mode.

<p>
With a filename and multi==False (default), the current viewport rendering
    is saved to the named file.

<p>
With a filename and multi==True, multisave mode is started.
    Without a filename, multisave mode is turned off.
    Two subsequent calls starting multisave mode without an intermediate call
    to turn it off, do not cause an error. The first multisave mode will
    implicitely be ended before starting the second.

<p>
In multisave mode, each call to saveNext() will save an image to the
    next generated file name.
    Filenames are generated by incrementing a numeric part of the name.
    If the supplied filename (after removing the extension) has a trailing
    numeric part, subsequent images will be numbered continuing from this
    number. Otherwise a numeric part '-000' will be added to the filename.

<p>
If window is True, the full pyFormex window is saved.
    If window and border are True, the window decorations will be included.
    If window is False, only the current canvas viewport is saved.

<p>
If hotkey is True, a new image will be saved by hitting the 'S' key.
    If autosave is True, a new image will be saved on each execution of
    the 'draw' function.
    If neither hotkey nor autosave are True, images can only be saved by
    executing the saveNext() function from a script.

<p>
If no format is specified, it is derived from the filename extension.
    fmt should be one of the valid formats as returned by imageFormats()

<p>
If verbose=True, error/warnings are activated. This is usually done when
    this function is called from the GUI.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-428' xml:id='l2h-428' class="function">saveNext</tt></b>(</nobr></td>
  <td><var></var>)</td></tr></table></dt>
<dd>
In multisave mode, saves the next image.

<p>
This is a quiet function that does nothing if multisave was not activated.
    It can thus safely be called on regular places in scripts where one would
    like to have a saved image and then either activate the multisave mode
    or not.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-429' xml:id='l2h-429' class="function">saveIcon</tt></b>(</nobr></td>
  <td><var>fn,size=32</var>)</td></tr></table></dt>
<dd>
Save the current rendering as an icon.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-430' xml:id='l2h-430' class="function">autoSaveOn</tt></b>(</nobr></td>
  <td><var></var>)</td></tr></table></dt>
<dd>
Returns True if autosave multisave mode is currently on.

<p>
Use this function instead of directly accessing the autosave variable.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-431' xml:id='l2h-431' class="function">createMovie</tt></b>(</nobr></td>
  <td><var></var>)</td></tr></table></dt>
<dd>
Create a movie from a saved sequence of images.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-432' xml:id='l2h-432' class="function">saveMovie</tt></b>(</nobr></td>
  <td><var>filename,format,windowname=None</var>)</td></tr></table></dt>
<dd>
Create a movie from the pyFormex window.

<p>
</dl>

<p>

<p>

<div class="navigation">
<div class='online-navigation'>
<p></p><hr />
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td class='online-navigation'><a rel="prev" title="8.11.2 colorlegend class: A"
  href="node114.html"><img src='previous.png'
  border='0' height='32'  alt='Previous Page' width='32' /></a></td>
<td class='online-navigation'><a rel="parent" title="8. pyformex  "
  href="node75.html"><img src='up.png'
  border='0' height='32'  alt='Up one Level' width='32' /></a></td>
<td class='online-navigation'><a rel="next" title="8.13 widgets  "
  href="module-widgets.html"><img src='next.png'
  border='0' height='32'  alt='Next Page' width='32' /></a></td>
<td align="center" width="100%">pyFormex manual</td>
<td class='online-navigation'><img src='blank.png'
  border='0' height='32'  alt='' width='32' /></td>
<td class='online-navigation'><img src='blank.png'
  border='0' height='32'  alt='' width='32' /></td>
<td class='online-navigation'><a rel="index" title="Index"
  href="genindex.html"><img src='index.png'
  border='0' height='32'  alt='Index' width='32' /></a></td>
</tr></table>
<div class='online-navigation'>
<b class="navlabel">Previous:</b>
<a class="sectref" rel="prev" href="node114.html">8.11.2 ColorLegend class: A</a>
<b class="navlabel">Up:</b>
<a class="sectref" rel="parent" href="node75.html">8. pyFormex  </a>
<b class="navlabel">Next:</b>
<a class="sectref" rel="next" href="module-widgets.html">8.13 widgets  </a>
</div>
</div>
<hr />
<span class="release-info">Release 0.8-a1, documentation updated on 9 June 2009.</span>
</div>
<!--End of Navigation Panel-->

</body>
</html>
