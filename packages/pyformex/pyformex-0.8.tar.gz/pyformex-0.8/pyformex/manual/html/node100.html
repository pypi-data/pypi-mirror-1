<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<link rel="STYLESHEET" href="pyformex.css" type='text/css' />
<link rel="SHORTCUT ICON" href="../favicon.ico" />
<link rel='start' href='http://pyformex.berlios.de' title='pyFormex home Page' />
<link rel="first" href="pyformex.html" title='pyFormex manual' />
<link rel='last' href='about.html' title='About this document...' />
<link rel='help' href='about.html' title='About this document...' />
<link rel="prev" href="node99.html" />
<link rel="parent" href="module-script.html" />
<link rel="next" href="module-draw.html" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name='aesop' content='information' />
<title>8.4.5 Functions defined in the script module</title>
</head>
<body>
<div class="navigation">
<div id='top-navigation-panel' xml:id='top-navigation-panel'>
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td class='online-navigation'><a rel="prev" title="8.4.4 timeout class: Exception"
  href="node99.html"><img src='previous.png'
  border='0' height='32'  alt='Previous Page' width='32' /></a></td>
<td class='online-navigation'><a rel="parent" title="8.4 script  "
  href="module-script.html"><img src='up.png'
  border='0' height='32'  alt='Up one Level' width='32' /></a></td>
<td class='online-navigation'><a rel="next" title="8.5 draw  "
  href="module-draw.html"><img src='next.png'
  border='0' height='32'  alt='Next Page' width='32' /></a></td>
<td align="center" width="100%">pyFormex manual</td>
<td class='online-navigation'><img src='blank.png'
  border='0' height='32'  alt='' width='32' /></td>
<td class='online-navigation'><img src='blank.png'
  border='0' height='32'  alt='' width='32' /></td>
<td class='online-navigation'><a rel="index" title="Index"
  href="genindex.html"><img src='index.png'
  border='0' height='32'  alt='Index' width='32' /></a></td>
</tr></table>
<div class='online-navigation'>
<b class="navlabel">Previous:</b>
<a class="sectref" rel="prev" href="node99.html">8.4.4 TimeOut class: Exception</a>
<b class="navlabel">Up:</b>
<a class="sectref" rel="parent" href="module-script.html">8.4 script  </a>
<b class="navlabel">Next:</b>
<a class="sectref" rel="next" href="module-draw.html">8.5 draw  </a>
</div>
<hr /></div>
</div>
<!--End of Navigation Panel-->

<h2><a name="SECTION009450000000000000000">
8.4.5 Functions defined in the script module</a>
</h2>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-188' xml:id='l2h-188' class="function">Globals</tt></b>(</nobr></td>
  <td><var></var>)</td></tr></table></dt>
<dd>
Return the globals that are passed to the scripts on execution.

<p>
This basically contains the globals defined in draw.py, colors.py,
    and formex.py, as well as the globals from numpy.
    It also contains the definitions put into the pyformex.PF, by
    preference using the export() function.
    During execution of the script, the global variable __name__ will be
    set to either 'draw' or 'script' depending on whether the script
    was executed in the 'draw' module (-gui option) or the 'script'
    module (-nogui option).

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-189' xml:id='l2h-189' class="function">export</tt></b>(</nobr></td>
  <td><var>dic</var>)</td></tr></table></dt>
<dd>
Export the variables in the given dictionary.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-190' xml:id='l2h-190' class="function">export2</tt></b>(</nobr></td>
  <td><var>names,values</var>)</td></tr></table></dt>
<dd>
Export a list of names and values.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-191' xml:id='l2h-191' class="function">forget</tt></b>(</nobr></td>
  <td><var>names</var>)</td></tr></table></dt>
<dd>
Remove the global variables specified in list.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-192' xml:id='l2h-192' class="function">rename</tt></b>(</nobr></td>
  <td><var>oldnames,newnames</var>)</td></tr></table></dt>
<dd>
Rename the global variables in oldnames to newnames.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-193' xml:id='l2h-193' class="function">listAll</tt></b>(</nobr></td>
  <td><var>clas=None,dic=None</var>)</td></tr></table></dt>
<dd>
Return a list of all objects in dic that are of given clas.

<p>
If no class is given, Formex objects are sought.
    If no dict is given, the objects from both GD.PF and locals()
    are returned.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-194' xml:id='l2h-194' class="function">named</tt></b>(</nobr></td>
  <td><var>name</var>)</td></tr></table></dt>
<dd>
Returns the global object named name.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-195' xml:id='l2h-195' class="function">ask</tt></b>(</nobr></td>
  <td><var>question,choices=None,default=''</var>)</td></tr></table></dt>
<dd>
Ask a question and present possible answers.

<p>
If no choices are presented, anything will be accepted.
    Else, the question is repeated until one of the choices is selected.
    If a default is given and the value entered is empty, the default is
    substituted.
    Case is not significant, but choices are presented unchanged.
    If no choices are presented, the string typed by the user is returned.
    Else the return value is the lowest matching index of the users answer
    in the choices list. Thus, ask('Do you agree',['Y','n']) will return
    0 on either 'y' or 'Y' and 1 on either 'n' or 'N'.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-196' xml:id='l2h-196' class="function">ack</tt></b>(</nobr></td>
  <td><var>question</var>)</td></tr></table></dt>
<dd>
Show a Yes/No question and return True/False depending on answer.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-197' xml:id='l2h-197' class="function">error</tt></b>(</nobr></td>
  <td><var>message</var>)</td></tr></table></dt>
<dd>
Show an error message and wait for user acknowlegement.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-198' xml:id='l2h-198' class="function">warning</tt></b>(</nobr></td>
  <td><var>message</var>)</td></tr></table></dt>
<dd>

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-199' xml:id='l2h-199' class="function">showInfo</tt></b>(</nobr></td>
  <td><var>message</var>)</td></tr></table></dt>
<dd>

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-200' xml:id='l2h-200' class="function">system</tt></b>(</nobr></td>
  <td><var>cmdline,result='output'</var>)</td></tr></table></dt>
<dd>
Run a command and return its output.

<p>
If result == 'status', the exit status of the command is returned.
    If result == 'output', the output of the command is returned.
    If result == 'both', a tuple of status and output is returned.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-201' xml:id='l2h-201' class="function">playScript</tt></b>(</nobr></td>
  <td><var>scr,name=None,filename=None,argv=[]</var>)</td></tr></table></dt>
<dd>
Play a pyformex script scr. scr should be a valid Python text.

<p>
There is a lock to prevent multiple scripts from being executed at the
    same time. This implies that pyFormex scripts can currently not be
    recurrent.
    If a name is specified, set the global variable GD.scriptName to it
    when the script is started.
    If a filename is specified, set the global variable __file__ to it.

<p>
If step==True, an indefinite pause will be started after each line of
    the script that starts with 'draw'. Also (in this case), each line
    (including comments) is echoed to the message board.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-202' xml:id='l2h-202' class="function">force_finish</tt></b>(</nobr></td>
  <td><var></var>)</td></tr></table></dt>
<dd>

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-203' xml:id='l2h-203' class="function">step_script</tt></b>(</nobr></td>
  <td><var>s,glob,paus=True</var>)</td></tr></table></dt>
<dd>

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-204' xml:id='l2h-204' class="function">breakpt</tt></b>(</nobr></td>
  <td><var>msg=None</var>)</td></tr></table></dt>
<dd>
Set a breakpoint where the script can be halted on a signal.

<p>
If an argument is specified, it will be written to the message board.

<p>
The exitrequested signal is usually emitted by pressing a button in the GUI.
    In nongui mode the stopatbreakpt function can be called from another thread.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-205' xml:id='l2h-205' class="function">enableBreak</tt></b>(</nobr></td>
  <td><var>mode=True</var>)</td></tr></table></dt>
<dd>

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-206' xml:id='l2h-206' class="function">stopatbreakpt</tt></b>(</nobr></td>
  <td><var></var>)</td></tr></table></dt>
<dd>
Set the exitrequested flag.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-207' xml:id='l2h-207' class="function">playFile</tt></b>(</nobr></td>
  <td><var>fn,argv=[]</var>)</td></tr></table></dt>
<dd>
Play a formex script from file fn.

<p>
fn is the name of a file holding a pyFormex script.
    A list of arguments can be passed. They will be available under the name
    argv. This variable can be changed by the script and the resulting argv
    is returned to the caller.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-208' xml:id='l2h-208' class="function">play</tt></b>(</nobr></td>
  <td><var>fn=None,argv=[],step=False</var>)</td></tr></table></dt>
<dd>
Play a formex script from file fn or from the current file.

<p>
This function does nothing if no file is passed or no current
    file was set.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-209' xml:id='l2h-209' class="function">exit</tt></b>(</nobr></td>
  <td><var>all=False</var>)</td></tr></table></dt>
<dd>
Exit from the current script or from pyformex if no script running.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-210' xml:id='l2h-210' class="function">processArgs</tt></b>(</nobr></td>
  <td><var>args</var>)</td></tr></table></dt>
<dd>
Run the application without gui.

<p>
Arguments are interpreted as names of script files, possibly interspersed
    with arguments for the scripts.
    Each running script should pop the required arguments from the list.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-211' xml:id='l2h-211' class="function">formatInfo</tt></b>(</nobr></td>
  <td><var>F</var>)</td></tr></table></dt>
<dd>
Return formatted information about a Formex.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-212' xml:id='l2h-212' class="function">printall</tt></b>(</nobr></td>
  <td><var></var>)</td></tr></table></dt>
<dd>
Print all Formices in globals()

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-213' xml:id='l2h-213' class="function">printglobals</tt></b>(</nobr></td>
  <td><var></var>)</td></tr></table></dt>
<dd>

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-214' xml:id='l2h-214' class="function">printglobalnames</tt></b>(</nobr></td>
  <td><var></var>)</td></tr></table></dt>
<dd>

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-215' xml:id='l2h-215' class="function">printconfig</tt></b>(</nobr></td>
  <td><var></var>)</td></tr></table></dt>
<dd>

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-216' xml:id='l2h-216' class="function">printdetected</tt></b>(</nobr></td>
  <td><var></var>)</td></tr></table></dt>
<dd>

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-217' xml:id='l2h-217' class="function">chdir</tt></b>(</nobr></td>
  <td><var>fn</var>)</td></tr></table></dt>
<dd>
Change the current working directory.

<p>
If fn is a directory name, the current directory is set to fn.
    If fn is a file name, the current directory is set to the directory
    holding fn.
    In either case, the current dirctory is stored in GD.cfg['workdir']
    for persistence between pyFormex invocations.

<p>
If fn does not exist, nothing is done.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-218' xml:id='l2h-218' class="function">workHere</tt></b>(</nobr></td>
  <td><var></var>)</td></tr></table></dt>
<dd>
Change the current working directory to the script's location.

<p>
This function is deprecated: use chdir(_file__) instead.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-219' xml:id='l2h-219' class="function">runtime</tt></b>(</nobr></td>
  <td><var></var>)</td></tr></table></dt>
<dd>
Return the time elapsed since start of execution of the script.

<p>
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-220' xml:id='l2h-220' class="function">startGui</tt></b>(</nobr></td>
  <td><var>args=[]</var>)</td></tr></table></dt>
<dd>
Start the gui

<p>
</dl>

<p>

<p>

<div class="navigation">
<div class='online-navigation'>
<p></p><hr />
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td class='online-navigation'><a rel="prev" title="8.4.4 timeout class: Exception"
  href="node99.html"><img src='previous.png'
  border='0' height='32'  alt='Previous Page' width='32' /></a></td>
<td class='online-navigation'><a rel="parent" title="8.4 script  "
  href="module-script.html"><img src='up.png'
  border='0' height='32'  alt='Up one Level' width='32' /></a></td>
<td class='online-navigation'><a rel="next" title="8.5 draw  "
  href="module-draw.html"><img src='next.png'
  border='0' height='32'  alt='Next Page' width='32' /></a></td>
<td align="center" width="100%">pyFormex manual</td>
<td class='online-navigation'><img src='blank.png'
  border='0' height='32'  alt='' width='32' /></td>
<td class='online-navigation'><img src='blank.png'
  border='0' height='32'  alt='' width='32' /></td>
<td class='online-navigation'><a rel="index" title="Index"
  href="genindex.html"><img src='index.png'
  border='0' height='32'  alt='Index' width='32' /></a></td>
</tr></table>
<div class='online-navigation'>
<b class="navlabel">Previous:</b>
<a class="sectref" rel="prev" href="node99.html">8.4.4 TimeOut class: Exception</a>
<b class="navlabel">Up:</b>
<a class="sectref" rel="parent" href="module-script.html">8.4 script  </a>
<b class="navlabel">Next:</b>
<a class="sectref" rel="next" href="module-draw.html">8.5 draw  </a>
</div>
</div>
<hr />
<span class="release-info">Release 0.8-a1, documentation updated on 9 June 2009.</span>
</div>
<!--End of Navigation Panel-->

</body>
</html>
