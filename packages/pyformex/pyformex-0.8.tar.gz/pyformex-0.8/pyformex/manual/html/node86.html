<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<link rel="STYLESHEET" href="pyformex.css" type='text/css' />
<link rel="SHORTCUT ICON" href="../favicon.ico" />
<link rel='start' href='http://pyformex.berlios.de' title='pyFormex home Page' />
<link rel="first" href="pyformex.html" title='pyFormex manual' />
<link rel='last' href='about.html' title='About this document...' />
<link rel='help' href='about.html' title='About this document...' />
<link rel="next" href="node87.html" />
<link rel="prev" href="node85.html" />
<link rel="parent" href="module-formex.html" />
<link rel="next" href="node87.html" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name='aesop' content='information' />
<title>8.1.10 Non-affine transformations</title>
</head>
<body>
<div class="navigation">
<div id='top-navigation-panel' xml:id='top-navigation-panel'>
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td class='online-navigation'><a rel="prev" title="8.1.9 affine transformations"
  href="node85.html"><img src='previous.png'
  border='0' height='32'  alt='Previous Page' width='32' /></a></td>
<td class='online-navigation'><a rel="parent" title="8.1 formex  "
  href="module-formex.html"><img src='up.png'
  border='0' height='32'  alt='Up one Level' width='32' /></a></td>
<td class='online-navigation'><a rel="next" title="8.1.11 topology changing transformations"
  href="node87.html"><img src='next.png'
  border='0' height='32'  alt='Next Page' width='32' /></a></td>
<td align="center" width="100%">pyFormex manual</td>
<td class='online-navigation'><img src='blank.png'
  border='0' height='32'  alt='' width='32' /></td>
<td class='online-navigation'><img src='blank.png'
  border='0' height='32'  alt='' width='32' /></td>
<td class='online-navigation'><a rel="index" title="Index"
  href="genindex.html"><img src='index.png'
  border='0' height='32'  alt='Index' width='32' /></a></td>
</tr></table>
<div class='online-navigation'>
<b class="navlabel">Previous:</b>
<a class="sectref" rel="prev" href="node85.html">8.1.9 Affine transformations</a>
<b class="navlabel">Up:</b>
<a class="sectref" rel="parent" href="module-formex.html">8.1 formex  </a>
<b class="navlabel">Next:</b>
<a class="sectref" rel="next" href="node87.html">8.1.11 Topology changing transformations</a>
</div>
<hr /></div>
</div>
<!--End of Navigation Panel-->

<h2><a name="SECTION0091100000000000000000">
8.1.10 Non-affine transformations</a>
</h2>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-73' xml:id='l2h-73' class="method">cylindrical</tt></b>(</nobr></td>
  <td><var>dir=[0,1,2],scale=[1.,1.,1.]</var>)</td></tr></table></dt>
<dd>
Converts from cylindrical to cartesian after scaling.

<p>
<var>dir</var> specifies which coordinates are interpreted as resp. distance(r), angle(theta) and height(z). Default order is [r,theta,z].
<br><var>scale</var> will scale the coordinate values prior to the transformation. (scale is given in order r,theta,z). The resulting angle is interpreted in degrees.
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-74' xml:id='l2h-74' class="method">toCylindrical</tt></b>(</nobr></td>
  <td><var>dir=[0,1,2]</var>)</td></tr></table></dt>
<dd>
Converts from cartesian to cylindrical coordinates.

<p>
<var>dir</var> specifies which coordinates axes are parallel to respectively the cylindrical axes distance(r), angle(theta) and height(z). Default order is [x,y,z]. The angle value is given in degrees.
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-75' xml:id='l2h-75' class="method">spherical</tt></b>(</nobr></td>
  <td><var>dir=[0,1,2],scale=[1.,1.,1.],colat=False</var>)</td></tr></table></dt>
<dd>
Converts from spherical to cartesian after scaling.

<p>
<var>dir</var> specifies which coordinates are interpreted as longitude(theta), latitude(phi) and distance(r).
<br><var>scale</var> will scale the coordinate values prior to the transformation.
<br>
Angles are then interpreted in degrees.
<br>
Latitude, i.e. the elevation angle, is measured from equator in
direction of north pole(90). South pole is -90.
If colat=True, the third coordinate is the colatitude (90-lat) instead.
That choice may facilitate the creation of spherical domes.
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-76' xml:id='l2h-76' class="method">toSpherical</tt></b>(</nobr></td>
  <td><var>dir=[0,1,2]</var>)</td></tr></table></dt>
<dd>
Converts from cartesian to spherical coordinates.

<p>
<var>dir</var> specifies which coordinates axes are parallel to respectively the spherical axes distance(r), longitude(theta) and colatitude(phi). Colatitude is 90 degrees - latitude, i.e. the elevation angle measured from north pole(0) to south pole(180). Default order is [0,1,2], thus the equator plane is the (x,y)-plane. The returned angle values are given in degrees.
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-77' xml:id='l2h-77' class="method">bump1</tt></b>(</nobr></td>
  <td><var>dir,a,func,dist</var>)</td></tr></table></dt>
<dd>
Return a Formex with a one-dimensional bump.

<p>
<var>dir</var> specifies the axis of the modified coordinates.
<br><var>a</var> is the point that forces the bumping.
<br><var>dist</var> specifies the direction in which the distance is measured.
<br><var>func</var> is a function that calculates the bump intensity from distance. <tt><small class="SMALL">func(0)</small></tt> should be different from 0.
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-78' xml:id='l2h-78' class="method">bump2</tt></b>(</nobr></td>
  <td><var>dir,a,func</var>)</td></tr></table></dt>
<dd>
Return a Formex with a two-dimensional bump.

<p>
<var>dir</var> specifies the axis of the modified coordinates.
<br><var>a</var> is the point that forces the bumping.
<br><var>func</var> is a function that calculates the bump intensity from distance. <tt><small class="SMALL">func(0)</small></tt> should be different from 0.
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-79' xml:id='l2h-79' class="method">bump</tt></b>(</nobr></td>
  <td><var>dir,a,func,dist=None</var>)</td></tr></table></dt>
<dd>
Return a Formex with a bump.

<p>
A bump is a modification of a set of coordinates by a non-matching point. It can produce various effects, but one of the most common uses is to force a surface to be indented by some point.

<p>
<var>dir</var> specifies the axis of the modified coordinates.
<br><var>a</var> is the point that forces the bumping.
<br><var>func</var> is a function that calculates the bump intensity from distance. <tt><small class="SMALL">func(0)</small></tt> should be different from 0.
<br><var>dist</var> is the direction in which the distance is measured : this can be one of the axes, or a list of one or more axes. If only 1 axis is specified, the effect is like function <tt class="function">bump1()</tt>. If 2 axes are specified, the effect is like <tt class="function">bump2</tt>. This function can take 3 axes however. Default value is the set of 3 axes minus the direction of modification. This function is then equivalent to <tt class="function">bump2()</tt>.
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-80' xml:id='l2h-80' class="method">map</tt></b>(</nobr></td>
  <td><var>func</var>)</td></tr></table></dt>
<dd>
Return a Formex mapped by a 3-D function.

<p>
This is one of the versatile mapping functions.
<br><var>func</var> is a numerical function which takes three arguments and produces a list of three output values. The coordinates [x,y,z] will be replaced by func(x,y,z). The function must be applicable to arrays, so it should only include numerical operations and functions understood by the numpy module.

<p>
This method is one of several mapping methods. See also <tt class="function">map1()</tt> and <tt class="function">mapd()</tt>.
<br>
Example: <tt><small class="SMALL">E.map(lambda x,y,z: [2*x,3*y,4*z])</small></tt> is equivalent with <tt><small class="SMALL">E.scale([2,3,4])</small></tt>.
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-81' xml:id='l2h-81' class="method">map1</tt></b>(</nobr></td>
  <td><var>dir,func</var>)</td></tr></table></dt>
<dd>
Return a Formex where coordinate <var>i</var> is mapped by a 1-D function.

<p>
<var>func</var> is a numerical function which takes one argument and produces one result. The coordinate <var>dir</var> will be replaced by func(coord[dir]). The function must be applicable on arrays, so it should only include numerical operations and functions understood by the numpy module. This method is one of several mapping methods. See also <tt class="function">map()</tt> and <tt class="function">mapd()</tt>.
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-82' xml:id='l2h-82' class="method">mapd</tt></b>(</nobr></td>
  <td><var>dir,func,point,dist=None</var>)</td></tr></table></dt>
<dd>
Maps one coordinate by a function of the distance to a point.

<p>
<var>func</var> is a numerical function which takes one argument and produces one result. The coordinate <var>dir</var> will be replaced by <tt><small class="SMALL">func(d)</small></tt>, where <tt><small class="SMALL">d</small></tt> is calculated as the distance to <var>point</var>. The function must be applicable on arrays, so it should only include numerical operations and functions understood by the numpy module. By default, the distance <tt><small class="SMALL">d</small></tt> is calculated in 3-D, but one can specify a limited set of axes to calculate a 2-D or 1-D distance.

<p>
This method is one of several mapping methods. See also <tt class="function">map()</tt> and <tt class="function">map1()</tt>.
<br>
Example: <tt><small class="SMALL">E.mapd(2,lambda d:sqrt(10**2-d**2),f.center(),[0,1])</small></tt> maps E on a sphere with radius 10.
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-83' xml:id='l2h-83' class="method">replace</tt></b>(</nobr></td>
  <td><var>i,j,other=None</var>)</td></tr></table></dt>
<dd>
Replace the coordinates along the axes <var>i</var> by those along <var>j</var>.

<p>
<var>i</var> and <var>j</var> are lists of axis numbers.
<br><tt><small class="SMALL">replace ([0,1,2],[1,2,0])</small></tt> will roll the axes by 1.
<br><tt><small class="SMALL">replace ([0,1],[1,0])</small></tt> will swap axes 0 and 1.
<br>
An optionally third argument may specify another Formex to take the coordinates from. It should have the same dimensions.
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-84' xml:id='l2h-84' class="method">swapaxes</tt></b>(</nobr></td>
  <td><var>i,j</var>)</td></tr></table></dt>
<dd>
Swap coordinate axes <var>i</var> and <var>j</var>.
Beware! This is different from numpy's swapaxes() method, which swaps array axesof the ndarray object!
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-85' xml:id='l2h-85' class="method">rollAxes</tt></b>(</nobr></td>
  <td><var>n=1</var>)</td></tr></table></dt>
<dd>
Roll the coordinate axes over the given amount.

<p>
Default is 1, thus axis 0 becomes the new 1 axis, 1 becomes 2 and 2 becomes 0.
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-86' xml:id='l2h-86' class="method">projectOnSphere</tt></b>(</nobr></td>
  <td><var>radius,center=[0.,0.,0.]</var>)</td></tr></table></dt>
<dd>
Project the points of the Formex on a sphere with given center and radius.
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-87' xml:id='l2h-87' class="method">circulize</tt></b>(</nobr></td>
  <td><var>angle</var>)</td></tr></table></dt>
<dd>
Transform a linear sector into a circular one.

<p>
A sector of the (0,1) plane with given angle, starting from the 0 axis,
is transformed as follows: points on the sector borders remain in
place. Points inside the sector are projected from the center on the
circle through the intersection points of the sector border axes and
the line through the point and perpendicular to the bisector of the
angle.
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-88' xml:id='l2h-88' class="method">circulize1</tt></b>(</nobr></td>
  <td><var></var>)</td></tr></table></dt>
<dd>
Transforms the first octant of the 0-1 plane into 1/6 of a circle.

<p>
Points on the 0-axis keep their position. Lines parallel to the 1-axis
are transformed into circular arcs. The bisector of the first quadrant
is transformed in a straight line at an angle Pi/6.
This function is especially suited to create circular domains where
all bars have nearly same length. See the Diamatic example.
</dl>

<p>
<dl><dt><table cellpadding="0" cellspacing="0"><tr valign="baseline">
  <td><nobr><b><tt id='l2h-89' xml:id='l2h-89' class="method">shrink</tt></b>(</nobr></td>
  <td><var>factor</var>)</td></tr></table></dt>
<dd>
Shrinks each element with respect to its own center.

<p>
Each element is scaled with the given factor in a local coordinate
system with origin at the element center. The element center is the
mean of all its nodes.
The shrink operation is typically used (with a factor around 0.9) in
wireframe draw mode to show all elements disconnected. A factor above
1.0 will grow the elements.
</dl>

<p>

<div class="navigation">
<div class='online-navigation'>
<p></p><hr />
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td class='online-navigation'><a rel="prev" title="8.1.9 affine transformations"
  href="node85.html"><img src='previous.png'
  border='0' height='32'  alt='Previous Page' width='32' /></a></td>
<td class='online-navigation'><a rel="parent" title="8.1 formex  "
  href="module-formex.html"><img src='up.png'
  border='0' height='32'  alt='Up one Level' width='32' /></a></td>
<td class='online-navigation'><a rel="next" title="8.1.11 topology changing transformations"
  href="node87.html"><img src='next.png'
  border='0' height='32'  alt='Next Page' width='32' /></a></td>
<td align="center" width="100%">pyFormex manual</td>
<td class='online-navigation'><img src='blank.png'
  border='0' height='32'  alt='' width='32' /></td>
<td class='online-navigation'><img src='blank.png'
  border='0' height='32'  alt='' width='32' /></td>
<td class='online-navigation'><a rel="index" title="Index"
  href="genindex.html"><img src='index.png'
  border='0' height='32'  alt='Index' width='32' /></a></td>
</tr></table>
<div class='online-navigation'>
<b class="navlabel">Previous:</b>
<a class="sectref" rel="prev" href="node85.html">8.1.9 Affine transformations</a>
<b class="navlabel">Up:</b>
<a class="sectref" rel="parent" href="module-formex.html">8.1 formex  </a>
<b class="navlabel">Next:</b>
<a class="sectref" rel="next" href="node87.html">8.1.11 Topology changing transformations</a>
</div>
</div>
<hr />
<span class="release-info">Release 0.8-a1, documentation updated on 9 June 2009.</span>
</div>
<!--End of Navigation Panel-->

</body>
</html>
