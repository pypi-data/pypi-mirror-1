
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="collective.plonetruegallery">

<metal:css fill-slot="css_slot">
	
</metal:css>
<metal:js fill-slot="javascript_head_slot">

    <link rel="stylesheet" type="text/css" href="++resource++slideshow.css" media="screen" />
    <style tal:content="python: view.displayer.css()"/>
	
    <tal:def tal:define="effect_type python: context.getSlideshowEffect().split(':')[0]">
      <script type="text/javascript" 
        tal:condition="python: len(effect_type) > 0"
        tal:attributes="src string:${portal_url}/++resource++slideshow.${effect_type}.js"></script>
    </tal:def>
	<script type="text/javascript"
	        tal:content="python: view.displayer.javascript()">
    </script>
</metal:js>

<body>
<metal:main fill-slot="main">
<tal:main-macro metal:define-macro="main">
	<h1 tal:content="context/Title" />
	
	<div id="show" 
	    class="plonetruegallery" 
	    tal:define="image view/adapter/get_first_image">
       <img tal:attributes="src image/image_url; alt image/title" />
     </div>

    <tal:subgallery 
        tal:replace="structure python: view.subgallery_template()" />	

</tal:main-macro>
</metal:main>
</body>
</html>