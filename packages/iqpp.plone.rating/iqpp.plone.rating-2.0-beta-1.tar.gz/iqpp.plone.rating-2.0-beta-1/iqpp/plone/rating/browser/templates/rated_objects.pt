<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="iqpp.rating">
    <body>

        <metal:main fill-slot="main">
            <h1 class="documentFirstHeading"
                i18n:translate="best_rated_objects_label">
                Best Rated Objects
            </h1>

            <form action="."
                  method="post"
                  tal:attributes="action string:${context/absolute_url}/${template_id}rated-objects">
                <select name="sort_on">
                    <option i18n:translate=""
                            tal:repeat="option view/getSortOnOptions"
                            tal:attributes="value option/value;
                                            selected option/selected"
                            tal:content="option/name">
                        Option Name
                    </option>                    
                </select>
                <select name="sort_order">
                    <option tal:repeat="option view/getSortOrderOptions"
                            tal:attributes="value option/value;
                                            selected option/selected"
                            tal:content="option/name">
                        Option Name
                    </option>                    
                </select>
                
                <input type="submit"
                       value="Go!" />
            </form>    
            
            <table class="listing">
                <tr>
                    <th i18n:translate="title_label">
                        Title
                    </th>
                    <th i18n:translate="type_label">
                        Type
                    </th>
                    <th i18n:translate="average_rating_label">
                        Average Rating
                    </th>
                    <th i18n:translate="number_of_ratings_label">
                        Number of Ratings
                    </th>
                </tr>
                <tr tal:repeat="obj view/getRatedObjects">
                    <td>
                        <a href="."
                           tal:attributes="href obj/getURL"
                           tal:content="obj/Title">
                            Title
                        </a>
                    </td>
                    <td tal:content="obj/portal_type">
                        Title
                    </td>
                    <td tal:content="obj/average_rating">
                        0.42
                    </td>
                    <td>
                        <a href="."
                           tal:omit-tag="view/hideNumberOfRatingsLink"
                           tal:attributes="href string:${obj/getURL}/ratings"
                           tal:content="obj/amount_of_ratings">                        
                            42
                        </a>    
                    </td>
                </tr>    
            </table>
                
        </metal:main>    
        
  </body>
</html>