<div metal:define-macro="portlet"
     i18n:domain="rating">

    <dl class="portlet" 
        id="portlet-rating">

        <dt class="portletHeader">
            <span class="portletTopLeft"></span>
                <tal:block i18n:translate="raing_label">
                    Rating
                </tal:block>
            <span class="portletTopRight"></span>
        </dt>

        <dd class="portletItem">
            <div tal:condition="view/isStarBased"
                 tal:replace="structure provider:iqpp.plone.rating.stars-rating-portlet" />                 
            <div tal:condition="not:view/isStarBased"
                 tal:replace="structure provider:iqpp.plone.rating.selection-rating-portlet" />
        </dd>

        <dd tal:condition="view/showFooter"
            class="portletFooter">
            <a href="."
               tal:attributes="href string:${context/absolute_url}/rated-objects"
               i18n:translate="rated_objects_label">
                Rated objects
            </a>
            <span class="portletBottomLeft"></span>
            <span class="portletBottomRight"></span>
        </dd>
    </dl>

</div>
