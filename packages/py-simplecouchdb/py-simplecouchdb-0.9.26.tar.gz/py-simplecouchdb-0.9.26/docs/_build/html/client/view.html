<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Views classes &mdash; py-simplecouchdb v0.9.23 documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.9.23',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="top" title="py-simplecouchdb v0.9.23 documentation" href="../index.html" />
    <link rel="up" title="Client" href="index.html" />
    <link rel="next" title="Resource" href="../resource.html" />
    <link rel="prev" title="Database class" href="database.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="../resource.html" title="Resource"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="database.html" title="Database class"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">py-simplecouchdb v0.9.23 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Client</a> &raquo;</li> 
      </ul>
    </div>  
    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  
  <div class="section" id="views-classes">
<span id="view-ref"></span><h1>Views classes<a class="headerlink" href="#views-classes" title="Permalink to this headline">¶</a></h1>
<p>This document describe the detail of <strong>View</strong> API.</p>
<ul class="simple">
<li><a class="reference internal" href="#view-results"><em>ViewResults class</em></a>: A ViewResults instance is constructed
by View, SLowView, AllDocumentView and Viewdefinition
objects. Results are only retrieved when you use one method
of ViewResults instance.</li>
<li><a class="reference internal" href="#view"><em>View class</em></a>: Object that allow you to retrieve resulys of a view
in db.</li>
<li><a class="reference internal" href="#temporary-view"><em>TempView class</em></a>: same as view but for temporary view</li>
<li><a class="reference internal" href="#allview"><em>AllDocumentsView class</em></a>: use by Database.documents method</li>
<li><a class="reference internal" href="#viewdef"><em>ViewDefinition class</em></a>: A ViewDefiniton object allow you to easyly create a
view and add it to a database. You could sync a database to add allo
cached ViewDefintion&#8217;s object.</li>
</ul>
<p>Sample usage of a view :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">simplecouchdb</span> <span class="kn">import</span> <span class="n">Server</span><span class="p">,</span> <span class="n">Database</span><span class="p">,</span> <span class="n">Views</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">server</span> <span class="o">=</span> <span class="n">Server</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">Database</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;test&quot;</span><span class="p">,</span> <span class="n">server</span><span class="o">=</span><span class="n">server</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;test/all&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>at this step, ou have only set an instance of ViewResults.</p>
<p>On only retrieved results when you for example iter results :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">list_of_results</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
</pre></div>
</div>
<div class="section" id="viewresults-class">
<span id="view-results"></span><h2>ViewResults class<a class="headerlink" href="#viewresults-class" title="Permalink to this headline">¶</a></h2>
<p>This class is returned by Views object. ViewResults object can be constructed and passed around without hitting the CouchDB server. No database activity actually occurs until you do something to evaluate the viewresult.</p>
<p>You can evaluate a ViewResult in the following ways:</p>
<ul>
<li><p class="first"><strong>Iteration</strong>: A ViewResult is iterable and it execute the resquest to CouchDB the first time you execute it.</p>
</li>
<li><p class="first"><strong>len()</strong>. A ViewResults is evaluated when you call len() on it. This, as you might expect, returns the length of the result list.</p>
</li>
<li><p class="first"><strong>list()</strong>. Force evaluation by calling list() on it</p>
<blockquote>
<div class="highlight-python"><div class="highlight"><pre><span class="nb">list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">view</span><span class="p">(</span><span class="s">&quot;test/all&quot;</span><span class="p">))</span>
</pre></div>
</div>
</blockquote>
</li>
</ul>
<p><strong>Description of the class</strong></p>
<dl class="class">
<dt id="simplecouchdb.client.ViewResults">
<!--[simplecouchdb.client.ViewResults]-->class <tt class="descclassname">simplecouchdb.client.</tt><tt class="descname">ViewResults</tt><big>(</big><em>view</em>, <em>wrapper=None</em>, <em>**params</em><big>)</big><a class="headerlink" href="#simplecouchdb.client.ViewResults" title="Permalink to this definition">¶</a></dt>
<dd><p>ViewResults object. It act as a list.
you could use iter, list and empty function</p>
<p><strong>Properties</strong></p>
<dl class="attribute">
<dt id="ViewResults.view">
<!--[ViewResults.view]--><tt class="descname">view</tt><a class="headerlink" href="#ViewResults.view" title="Permalink to this definition">¶</a></dt>
<dd>Instance of View used by ViewResults.</dd></dl>

<dl class="attribute">
<dt id="ViewResults.wrapper">
<!--[ViewResults.wrapper]--><tt class="descname">wrapper</tt><a class="headerlink" href="#ViewResults.wrapper" title="Permalink to this definition">¶</a></dt>
<dd>callable to wrap result in an object</dd></dl>

<dl class="attribute">
<dt id="ViewResults.params">
<!--[ViewResults.params]--><tt class="descname">params</tt><a class="headerlink" href="#ViewResults.params" title="Permalink to this definition">¶</a></dt>
<dd>view parameters</dd></dl>

<p><strong>Methods</strong></p>
<dl class="method">
<dt id="simplecouchdb.client.ViewResults.__len__">
<!--[simplecouchdb.client.ViewResults.__len__]--><tt class="descname">__len__</tt><big>(</big><big>)</big><a class="headerlink" href="#simplecouchdb.client.ViewResults.__len__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="simplecouchdb.client.ViewResults.__iter__">
<!--[simplecouchdb.client.ViewResults.__iter__]--><tt class="descname">__iter__</tt><big>(</big><big>)</big><a class="headerlink" href="#simplecouchdb.client.ViewResults.__iter__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="simplecouchdb.client.ViewResults.__nonzero__">
<!--[simplecouchdb.client.ViewResults.__nonzero__]--><tt class="descname">__nonzero__</tt><big>(</big><big>)</big><a class="headerlink" href="#simplecouchdb.client.ViewResults.__nonzero__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="simplecouchdb.client.ViewResults.fetch">
<!--[simplecouchdb.client.ViewResults.fetch]--><tt class="descname">fetch</tt><big>(</big><big>)</big><a class="headerlink" href="#simplecouchdb.client.ViewResults.fetch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="view-class">
<span id="view"></span><h2>View class<a class="headerlink" href="#view-class" title="Permalink to this headline">¶</a></h2>
<p><strong>Usage example</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">create_db</span><span class="p">(</span><span class="s">&#39;simplecouchdb_test&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doc1</span> <span class="o">=</span> <span class="p">{</span> <span class="s">&#39;_id&#39;</span><span class="p">:</span> <span class="s">&#39;test&#39;</span><span class="p">,</span> <span class="s">&#39;lastname&#39;</span><span class="p">:</span> <span class="s">&#39;doo&#39;</span><span class="p">,</span> <span class="s">&#39;firtsname&#39;</span><span class="p">:</span> <span class="s">&quot;john&quot;</span><span class="p">,</span> <span class="s">&#39;docType&#39;</span><span class="p">:</span> <span class="s">&#39;identity&#39;</span> <span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">doc1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doc2</span> <span class="o">=</span> <span class="p">{</span> <span class="s">&#39;_id&#39;</span><span class="p">:</span> <span class="s">&#39;test2&#39;</span><span class="p">,</span> <span class="s">&#39;lastname&#39;</span><span class="p">:</span> <span class="s">&#39;dupont&#39;</span><span class="p">,</span> <span class="s">&#39;firstname&#39;</span><span class="p">:</span> <span class="s">&quot;jean&quot;</span><span class="p">,</span> <span class="s">&#39;docType&#39;</span><span class="p">:</span> <span class="s">&#39;identity&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">doc2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">design_doc</span> <span class="o">=</span> <span class="p">{</span> <span class="s">&#39;_id&#39;</span><span class="p">:</span> <span class="s">&#39;_design/test&#39;</span><span class="p">,</span> <span class="s">&#39;language&#39;</span><span class="p">:</span> <span class="s">&#39;javascript&#39;</span><span class="p">,</span>
<span class="go">    &#39;views&#39;: {  &#39;all&#39;: { &quot;map&quot;: &quot;&quot;&quot;function(doc) {</span>
<span class="go">    if (doc.docType == &quot;identity&quot;) { emit(doc._id, doc); }}&quot;&quot;&quot; } }}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">design_doc</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;test/all&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">delete_db</span><span class="p">(</span><span class="s">&#39;simplecouchdb_test&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="class">
<dt id="simplecouchdb.client.View">
<!--[simplecouchdb.client.View]-->class <tt class="descclassname">simplecouchdb.client.</tt><tt class="descname">View</tt><big>(</big><em>database</em><big>)</big><a class="headerlink" href="#simplecouchdb.client.View" title="Permalink to this definition">¶</a></dt>
<dd><p>View object. Object to access to a view. All
other Views object (except ViewDefintion) inherit this.</p>
<p><strong>Properties</strong></p>
<dl class="attribute">
<dt id="View.database">
<!--[View.database]--><tt class="descname">database</tt><a class="headerlink" href="#View.database" title="Permalink to this definition">¶</a></dt>
<dd>Database instance on which is the view is executed</dd></dl>

<p><strong>Methods</strong></p>
<dl class="method">
<dt id="simplecouchdb.client.View.__call__">
<!--[simplecouchdb.client.View.__call__]--><tt class="descname">__call__</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#simplecouchdb.client.View.__call__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="simplecouchdb.client.View.get">
<!--[simplecouchdb.client.View.get]--><tt class="descname">get</tt><big>(</big><em>view_name</em>, <em>wrapper=None</em>, <em>**params</em><big>)</big><a class="headerlink" href="#simplecouchdb.client.View.get" title="Permalink to this definition">¶</a></dt>
<dd><p>get results of a view</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>view_name: name of view
wrapper: callable to wrap results 
params: params of a view</dd>
<dt>Return:</dt>
<dd>ViewResults instance</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="simplecouchdb.client.View.count">
<!--[simplecouchdb.client.View.count]--><tt class="descname">count</tt><big>(</big><em>view_name</em><big>)</big><a class="headerlink" href="#simplecouchdb.client.View.count" title="Permalink to this definition">¶</a></dt>
<dd><p>get max number of resuls of a view</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>view_name: name of view</dd>
<dt>Return:</dt>
<dd>int</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="tempview-class">
<span id="temporary-view"></span><h2>TempView class<a class="headerlink" href="#tempview-class" title="Permalink to this headline">¶</a></h2>
<p>This object is used to retrieve result from a couchdb temp view.
It is inherited from <a title="simplecouchdb.client.View" class="reference internal" href="#simplecouchdb.client.View"><tt class="xref docutils literal"><span class="pre">simplecouchdb.client.View</span></tt></a> object.</p>
<p><strong>Usage example</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">create_db</span><span class="p">(</span><span class="s">&#39;simplecouchdb_test&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">create_db</span><span class="p">(</span><span class="s">&#39;simplecouchdb_test&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doc1</span> <span class="o">=</span> <span class="p">{</span> <span class="s">&#39;_id&#39;</span><span class="p">:</span> <span class="s">&#39;test&#39;</span><span class="p">,</span> <span class="s">&#39;lastname&#39;</span><span class="p">:</span> <span class="s">&#39;doo&#39;</span><span class="p">,</span> <span class="s">&#39;firtsname&#39;</span><span class="p">:</span> <span class="s">&quot;john&quot;</span><span class="p">,</span> <span class="s">&#39;docType&#39;</span><span class="p">:</span> <span class="s">&#39;identity&#39;</span> <span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">doc1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doc2</span> <span class="o">=</span> <span class="p">{</span> <span class="s">&#39;_id&#39;</span><span class="p">:</span> <span class="s">&#39;test2&#39;</span><span class="p">,</span> <span class="s">&#39;lastname&#39;</span><span class="p">:</span> <span class="s">&#39;dupont&#39;</span><span class="p">,</span> <span class="s">&#39;firstname&#39;</span><span class="p">:</span> <span class="s">&quot;jean&quot;</span><span class="p">,</span> <span class="s">&#39;docType&#39;</span><span class="p">:</span> <span class="s">&#39;identity&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">doc2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">design_doc</span> <span class="o">=</span> <span class="p">{</span> <span class="s">&quot;map&quot;</span><span class="p">:</span> <span class="s">&quot;&quot;&quot;function(doc) { if (doc.docType == &quot;identity&quot;) { emit(doc._id, doc); }}&quot;&quot;&quot;</span> <span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">slow_view</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">design_doc</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">delete_db</span><span class="p">(</span><span class="s">&#39;simplecouchdb_test&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="class">
<dt id="simplecouchdb.client.TempView">
<!--[simplecouchdb.client.TempView]-->class <tt class="descclassname">simplecouchdb.client.</tt><tt class="descname">TempView</tt><big>(</big><em>database</em><big>)</big><a class="headerlink" href="#simplecouchdb.client.TempView" title="Permalink to this definition">¶</a></dt>
<dd><p>Temp view representation</p>
<p>..automethod:: simplecouchdb.client.TempView.get</p>
</dd></dl>

</div>
<div class="section" id="alldocumentsview-class">
<span id="allview"></span><h2>AllDocumentsView class<a class="headerlink" href="#alldocumentsview-class" title="Permalink to this headline">¶</a></h2>
<p>This view object nherited from <a title="simplecouchdb.client.View" class="reference internal" href="#simplecouchdb.client.View"><tt class="xref docutils literal"><span class="pre">simplecouchdb.client.View</span></tt></a>, is only used by <a title="simplecouchdb.client.Database.documents" class="reference external" href="database.html#simplecouchdb.client.Database.documents"><tt class="xref docutils literal"><span class="pre">simplecouchdb.client.Database.documents()</span></tt></a></p>
<dl class="class">
<dt id="simplecouchdb.client.AllDocumentsView">
<!--[simplecouchdb.client.AllDocumentsView]-->class <tt class="descclassname">simplecouchdb.client.</tt><tt class="descname">AllDocumentsView</tt><big>(</big><em>database</em><big>)</big><a class="headerlink" href="#simplecouchdb.client.AllDocumentsView" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="viewdefinition-class">
<span id="viewdef"></span><h2>ViewDefinition class<a class="headerlink" href="#viewdefinition-class" title="Permalink to this headline">¶</a></h2>
<p>This object is used o create and register views for a database.</p>
<p><strong>Example usage</strong>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">view</span> <span class="o">=</span> <span class="n">ViewDefinition</span><span class="p">(</span><span class="s">&#39;test&#39;</span><span class="p">,</span> <span class="s">&#39;all&#39;</span><span class="p">,</span> <span class="n">map_fun</span><span class="o">=</span> <span class="s">&quot;&quot;&quot;function(doc)</span>
<span class="go">    { if (doc.docType == &quot;identity&quot;) { emit(doc._id, doc);}}&quot;&quot;&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">create_db</span><span class="p">(</span><span class="s">&#39;simplecouchdb_test&#39;</span><span class="p">)</span>
<span class="go">    &gt;&gt;&gt; doc1 = { &#39;_id&#39;: &#39;test&#39;, &#39;string&#39;: &#39;test&#39;, &#39;number&#39;: 4, &#39;docType&#39;: &#39;test&#39; }</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">doc1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">doc2</span> <span class="o">=</span> <span class="p">{</span> <span class="s">&#39;_id&#39;</span><span class="p">:</span> <span class="s">&#39;test2&#39;</span><span class="p">,</span> <span class="s">&#39;string&#39;</span><span class="p">:</span> <span class="s">&#39;test&#39;</span><span class="p">,</span> <span class="s">&#39;number&#39;</span><span class="p">:</span> <span class="mf">2</span><span class="p">,</span> <span class="s">&#39;docType&#39;</span><span class="p">:</span> <span class="s">&#39;test&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">doc2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">view</span><span class="o">.</span><span class="n">sync</span><span class="p">(</span><span class="n">db</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">results</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">&#39;test/all&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">server</span><span class="o">.</span><span class="n">delete_db</span><span class="p">(</span><span class="s">&#39;simplecouchdb_test&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="class">
<dt id="simplecouchdb.client.ViewDefinition">
<!--[simplecouchdb.client.ViewDefinition]-->class <tt class="descclassname">simplecouchdb.client.</tt><tt class="descname">ViewDefinition</tt><big>(</big><em>design_name</em>, <em>view_name</em>, <em>map_fun=None</em>, <em>reduce_fun=None</em>, <em>language='javascript'</em>, <em>wrapper=None</em>, <em>**params</em><big>)</big><a class="headerlink" href="#simplecouchdb.client.ViewDefinition" title="Permalink to this definition">¶</a></dt>
<dd><p>class to maintain/ register a &#8216;_design&#8217;
document.
Idee borrowed to couchdb-python</p>
<p><strong>Properties</strong></p>
<dl class="attribute">
<dt id="ViewDefinition.design_name">
<!--[ViewDefinition.design_name]--><tt class="descname">design_name</tt><a class="headerlink" href="#ViewDefinition.design_name" title="Permalink to this definition">¶</a></dt>
<dd>name of design document</dd></dl>

<dl class="attribute">
<dt id="ViewDefinition.view_nane">
<!--[ViewDefinition.view_nane]--><tt class="descname">view_nane</tt><a class="headerlink" href="#ViewDefinition.view_nane" title="Permalink to this definition">¶</a></dt>
<dd>name of view</dd></dl>

<dl class="attribute">
<dt id="ViewDefinition.map_fun">
<!--[ViewDefinition.map_fun]--><tt class="descname">map_fun</tt><a class="headerlink" href="#ViewDefinition.map_fun" title="Permalink to this definition">¶</a></dt>
<dd>str of file object, string for map function</dd></dl>

<dl class="attribute">
<dt id="ViewDefinition.reduce_fun">
<!--[ViewDefinition.reduce_fun]--><tt class="descname">reduce_fun</tt><a class="headerlink" href="#ViewDefinition.reduce_fun" title="Permalink to this definition">¶</a></dt>
<dd>str of file object, string for reduce function</dd></dl>

<dl class="attribute">
<dt id="ViewDefinition.language">
<!--[ViewDefinition.language]--><tt class="descname">language</tt><a class="headerlink" href="#ViewDefinition.language" title="Permalink to this definition">¶</a></dt>
<dd>language of view, default is javascript</dd></dl>

<dl class="attribute">
<dt id="ViewDefinition.wrapper">
<!--[ViewDefinition.wrapper]--><tt class="descname">wrapper</tt><a class="headerlink" href="#ViewDefinition.wrapper" title="Permalink to this definition">¶</a></dt>
<dd>default wrapper of view</dd></dl>

<dl class="attribute">
<dt id="ViewDefinition.params">
<!--[ViewDefinition.params]--><tt class="descname">params</tt><a class="headerlink" href="#ViewDefinition.params" title="Permalink to this definition">¶</a></dt>
<dd>default parameters of view</dd></dl>

<p><strong>Methods</strong></p>
<dl class="method">
<dt id="simplecouchdb.client.ViewDefinition.register">
<!--[simplecouchdb.client.ViewDefinition.register]--><tt class="descname">register</tt><big>(</big><em>db_name</em><big>)</big><a class="headerlink" href="#simplecouchdb.client.ViewDefinition.register" title="Permalink to this definition">¶</a></dt>
<dd><p>register view in db</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>db_name: name of db</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="simplecouchdb.client.ViewDefinition.sync">
<!--[simplecouchdb.client.ViewDefinition.sync]--><tt class="descname">sync</tt><big>(</big><em>db</em>, <em>verbose_level=None</em><big>)</big><a class="headerlink" href="#simplecouchdb.client.ViewDefinition.sync" title="Permalink to this definition">¶</a></dt>
<dd>sync view in db. If it don&#8217;t exist,
create it.</dd></dl>

<dl class="method">
<dt id="simplecouchdb.client.ViewDefinition.get">
<!--[simplecouchdb.client.ViewDefinition.get]--><tt class="descname">get</tt><big>(</big><em>db</em>, <em>wrapper=None</em>, <em>sync=True</em>, <em>**params</em><big>)</big><a class="headerlink" href="#simplecouchdb.client.ViewDefinition.get" title="Permalink to this definition">¶</a></dt>
<dd>get result of view like View object. If sync is true
try ro create or update the view.</dd></dl>

</dd></dl>

</div>
<div class="section" id="viewcache-class">
<h2>ViewCache class<a class="headerlink" href="#viewcache-class" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="simplecouchdb.client.ViewCache">
<!--[simplecouchdb.client.ViewCache]-->class <tt class="descclassname">simplecouchdb.client.</tt><tt class="descname">ViewCache</tt><a class="headerlink" href="#simplecouchdb.client.ViewCache" title="Permalink to this definition">¶</a></dt>
<dd><p>A cache that store view installed in db</p>
<p><strong>Methods</strong></p>
<dl class="method">
<dt id="simplecouchdb.client.ViewCache.add_view">
<!--[simplecouchdb.client.ViewCache.add_view]--><tt class="descname">add_view</tt><big>(</big><em>dbname</em>, <em>view_def</em><big>)</big><a class="headerlink" href="#simplecouchdb.client.ViewCache.add_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a view definition to the cache. View are only created
When you sync a database (see <a title="simplecouchdb.client.Database.sync" class="reference external" href="database.html#simplecouchdb.client.Database.sync"><tt class="xref docutils literal"><span class="pre">simplecouchdb.client.Database.sync()</span></tt></a> method)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>dbname</em> &#8211; name of database</li>
<li><em>view_def</em> &#8211; <a title="simplecouchdb.client.ViewDefinition" class="reference internal" href="#simplecouchdb.client.ViewDefinition"><tt class="xref docutils literal"><span class="pre">simplecouchdb.client.ViewDefinition</span></tt></a> instance</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="simplecouchdb.client.ViewCache.get_views">
<!--[simplecouchdb.client.ViewCache.get_views]--><tt class="descname">get_views</tt><big>(</big><em>dbname</em><big>)</big><a class="headerlink" href="#simplecouchdb.client.ViewCache.get_views" title="Permalink to this definition">¶</a></dt>
<dd><p>get all views of a database registered in the cache</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>dbname</em> &#8211; name of database</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="simplecouchdb.client.ViewCache.get_view">
<!--[simplecouchdb.client.ViewCache.get_view]--><tt class="descname">get_view</tt><big>(</big><em>dbname</em>, <em>design_name</em>, <em>view_name</em><big>)</big><a class="headerlink" href="#simplecouchdb.client.ViewCache.get_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Get view registered in the cache for a database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>dbname</em> &#8211; name of database</li>
<li><em>design_name</em> &#8211; name of design document</li>
<li><em>view_name</em> &#8211; name of view</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><a title="simplecouchdb.client.ViewDefinition" class="reference internal" href="#simplecouchdb.client.ViewDefinition"><tt class="xref docutils literal"><span class="pre">simplecouchdb.client.ViewDefinition</span></tt></a> instance</p>
</td>
</tr>
</tbody>
</table>
<p>registered in the cache.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="other">
<h2>Other<a class="headerlink" href="#other" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="simplecouchdb.client.register_view">
<!--[simplecouchdb.client.register_view]--><tt class="descclassname">simplecouchdb.client.</tt><tt class="descname">register_view</tt><big>(</big><em>dbname</em>, <em>view_def</em><big>)</big><a class="headerlink" href="#simplecouchdb.client.register_view" title="Permalink to this definition">¶</a></dt>
<dd><p>register a ViewDefintion instance 
for db_name</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>dbname</em> &#8211; name of database</li>
<li><em>view_def</em> &#8211; ViewDefinition object</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">Reference <a class="reference external" href="database.html#database"><em>Database class</em></a></p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="">Views classes</a><ul>
<li><a class="reference external" href="#viewresults-class">ViewResults class</a></li>
<li><a class="reference external" href="#view-class">View class</a></li>
<li><a class="reference external" href="#tempview-class">TempView class</a></li>
<li><a class="reference external" href="#alldocumentsview-class">AllDocumentsView class</a></li>
<li><a class="reference external" href="#viewdefinition-class">ViewDefinition class</a></li>
<li><a class="reference external" href="#viewcache-class">ViewCache class</a></li>
<li><a class="reference external" href="#other">Other</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="database.html" title="previous chapter">Database class</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="../resource.html" title="next chapter">Resource</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/client/view.txt">Show Source</a></li>
            </ul>
          <h3>Quick search</h3>
            <form class="search" action="../search.html" method="get">
              <input type="text" name="q" size="18" /> <input type="submit" value="Go" />
              <input type="hidden" name="check_keywords" value="yes" />
              <input type="hidden" name="area" value="default" />
            </form>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="../resource.html" title="Resource"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="database.html" title="Database class"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">py-simplecouchdb v0.9.23 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Client</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2008, 2009, Benoit Chesneau.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.5.1.
    </div>
  </body>
</html>