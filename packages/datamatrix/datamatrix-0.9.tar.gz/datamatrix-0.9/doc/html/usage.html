<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Usage &mdash; DataMatrix v0.9 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.9',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="DataMatrix v0.9 documentation" href="index.html" />
    <link rel="next" title="DataMatrix variants - EmptyMatrix" href="emptymatrix.html" />
    <link rel="prev" title="Requirements and installation" href="requirements.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="emptymatrix.html" title="DataMatrix variants - EmptyMatrix"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="requirements.html" title="Requirements and installation"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">DataMatrix v0.9 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h1>
<div class="section" id="invocation">
<h2>Invocation<a class="headerlink" href="#invocation" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">DataMatrix</span></tt> requires a file, or file-like object. A typical invocation is:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">datamatrix</span>
<span class="n">matrix</span> <span class="o">=</span> <span class="n">datamatrix</span><span class="o">.</span><span class="n">DataMatrix</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s">&quot;somefile&quot;</span><span class="p">),</span> <span class="n">header</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Aside the file object, which is mandatory, there are a number of parameters that can be used. First of all, the <tt class="docutils literal"><span class="pre">header</span></tt> parameters tells <tt class="docutils literal"><span class="pre">DataMatrix</span></tt> if the file to read has a header or not, and if so, the header will be used to assign names to the columns. Otherwise, it will just be a number for each column.  To specify the column where row names are located, the <tt class="docutils literal"><span class="pre">row_names</span></tt> parameter is used:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">matrix</span> <span class="o">=</span> <span class="n">datamatrix</span><span class="o">.</span><span class="n">DataMatrix</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s">&quot;somefile&quot;</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">row_names</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
<p>In this case, row names are obtained from the first column in the file.</p>
<p>If you are loading a file with an empty first element on the header (that is the case with files saved by R) you must set the <tt class="docutils literal"><span class="pre">fixR</span></tt> parameter to <tt class="xref docutils literal"><span class="pre">True</span></tt>, which will work around this issue, otherwise you will obtain unpredictable results.
<tt class="docutils literal"><span class="pre">DataMatrix</span></tt> uses the <tt class="docutils literal"><span class="pre">csv</span></tt> module to do its parsing, so you can specify additional parameters to define the format of your data, such as delimiter
(the separator between fields), lineterminator and quoting (how to deal with non-numeric fields). See the csv module documentation for additional details.</p>
<p>Notice that since the <tt class="docutils literal"><span class="pre">csv</span></tt> module does not support Unicode input, using Unicode text with <tt class="docutils literal"><span class="pre">DataMatrix</span></tt> may give unpredictable results.</p>
<p>Lastly, you can tell the initializer to skip a certain numbers of lines using the <tt class="docutils literal"><span class="pre">skip</span></tt> parameter.</p>
<p>
<span class="versionmodified">New in version 0.9.</span></p>
<div class="admonition-see-also admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt>Module <tt class="xref docutils literal"><span class="pre">csv</span></tt></dt>
<dd>Documentation of the <tt class="xref docutils literal"><span class="pre">csv</span></tt> standard module.</dd>
</dl>
</div>
</div>
<div class="section" id="basic-operations">
<h2>Basic operations<a class="headerlink" href="#basic-operations" title="Permalink to this headline">¶</a></h2>
<p>If you print a <tt class="docutils literal"><span class="pre">DataMatrix</span></tt> instance, you&#8217;ll get some basic information:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">matrix</span>
<span class="go">    File name:</span>
<span class="go">    Column with identifier names: None (numeric)</span>
<span class="go">    No. of rows: 2</span>
<span class="go">    No. of columns: 2</span>
<span class="go">    Columns: Name, surname</span>
</pre></div>
</div>
<p>With the columns attribute you can view the columns as a list:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">matrix</span><span class="o">.</span><span class="n">columns</span>
<span class="go">    [&#39;Name&#39;, &#39;surname&#39;]</span>
</pre></div>
</div>
<p>Row names can be printed intead with the <tt class="docutils literal"><span class="pre">rownames</span></tt> attribute.</p>
<p>You can access specific rows with the <tt class="docutils literal"><span class="pre">getRow</span></tt> method:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span><span class="o">.</span><span class="n">getRow</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">    [&#39;1&#39;, &#39;Albert&#39;, &#39;Einstein&#39;]</span>
</pre></div>
</div>
<p>Or specific columns with a dictionary-like syntax::</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span><span class="p">[</span><span class="s">&quot;surname&quot;</span><span class="p">]</span>
<span class="go">    [&#39;Einstein&#39;, &#39;Marx&#39;]</span>
</pre></div>
</div>
<p>
<span class="versionmodified">Changed in version 0.8.</span></p>
<p>In <tt class="docutils literal"><span class="pre">DataMatrix</span></tt> versions prior to 0.8, the <tt class="docutils literal"><span class="pre">getColumn</span></tt> method was used. This is no longer the case: the method has been marked as deprecated and will be removed in future versions.</p>
<p>To get a representation of your data, there is the <tt class="docutils literal"><span class="pre">view</span></tt> method:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span><span class="o">.</span><span class="n">view</span><span class="p">()</span>
<span class="go">    1 Albert Einstein</span>
<span class="go">    2 Groucho Marx</span>
</pre></div>
</div>
</div>
<div class="section" id="row-and-column-manipulation">
<h2>Row and column manipulation<a class="headerlink" href="#row-and-column-manipulation" title="Permalink to this headline">¶</a></h2>
<p>Rows and columns can be appended with the <tt class="docutils literal"><span class="pre">append</span></tt> and <tt class="docutils literal"><span class="pre">appendRow</span></tt> methods, respectively. In both cases, the item to be appended needs to be a sequence
(list or tuple) and must be as long as the other columns (when appending columns) or cover all the columns (when appending rows):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">profession</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;scientist&quot;</span><span class="p">,</span> <span class="s">&quot;comedian&quot;</span><span class="p">]</span> <span class="c"># new column</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">profession</span><span class="p">,</span> <span class="s">&quot;Job&quot;</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">entry</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;Isaac&quot;</span><span class="p">,</span> <span class="s">&quot;Asimov&quot;</span><span class="p">,</span> <span class="s">&quot;writer&quot;</span><span class="p">]</span> <span class="c"># new row</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span><span class="o">.</span><span class="n">appendRow</span><span class="p">(</span><span class="n">entry</span><span class="p">,</span><span class="s">&quot;3&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Notice that when you append a row and a column you must specify a column or a row name to the methods, as the examples above show. Also, the rows and columns you are apppending need to be of the same length of the rows (or columns) already present in the <tt class="docutils literal"><span class="pre">DataMatrix</span></tt> instance.</p>
<p>Alternatively, you can insert rows and columns at a specified position using the <tt class="docutils literal"><span class="pre">insert</span></tt> (for columns) and <tt class="docutils literal"><span class="pre">insertRow</span></tt> (for rows). They behave exactly like the <tt class="docutils literal"><span class="pre">append*</span></tt> methods, with the difference that you must supply an integer argument (1 or greater than 1) representing the column or row number:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">profession</span><span class="p">,</span><span class="s">&quot;Job&quot;</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span><span class="o">.</span><span class="n">inserRow</span><span class="p">(</span><span class="n">entry</span><span class="p">,</span><span class="s">&quot;3&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>
<span class="versionmodified">New in version 0.7.</span></p>
<p>If the number is greater than the number of columns or rows available, the method automatically defaults to the append variant. Again, rows and columns must be of the same length as the ones already present in the instance.</p>
<p>
<span class="versionmodified">New in version 0.9: </span>You can bind multiple DataMatrix instances by rows and columns, using the <tt class="docutils literal"><span class="pre">cbind</span></tt> and <tt class="docutils literal"><span class="pre">rbind</span></tt> functions, which join matrices by columns and rows.</p>
<p>An example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">new_matrix</span> <span class="o">=</span> <span class="n">datamatrix</span><span class="o">.</span><span class="n">cbind</span><span class="p">(</span><span class="n">matrix1</span><span class="p">,</span> <span class="n">matrix2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_matrix</span> <span class="o">=</span> <span class="n">datamatrix</span><span class="o">.</span><span class="n">rbind</span><span class="p">(</span><span class="n">matrix1</span><span class="p">,</span> <span class="n">matrix2</span><span class="p">)</span>
</pre></div>
</div>
<p>Attempting to bind matrices of unequal lengths (rows or columns depending on the used function) will raise a <tt class="docutils literal"><span class="pre">ValueError</span></tt> exception.</p>
</div>
<div class="section" id="subsetting">
<h2>Subsetting<a class="headerlink" href="#subsetting" title="Permalink to this headline">¶</a></h2>
<p>
<span class="versionmodified">New in version 0.9.</span></p>
<p>You can generate subsets of your matrices using the <tt class="docutils literal"><span class="pre">subset</span></tt> function and using a list of columns as a parameter. The result is a new DataMatrix instance:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">new_matrix</span> <span class="o">=</span> <span class="n">datamatrix</span><span class="o">.</span><span class="n">subset</span><span class="p">(</span><span class="n">old_matrix</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;Supplier&quot;</span><span class="p">,</span> <span class="s">&quot;Price&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="section" id="further-manipulation-of-datamatrix-objects">
<h2>Further manipulation of  DataMatrix objects<a class="headerlink" href="#further-manipulation-of-datamatrix-objects" title="Permalink to this headline">¶</a></h2>
<p>
<span class="versionmodified">New in version 0.8.</span></p>
<p>For some special uses, a number of functions have been provided. <tt class="docutils literal"><span class="pre">elementApply</span></tt> applies a function to the whole matrix, <tt class="docutils literal"><span class="pre">matrixApply</span></tt> applies a function to either rows or columns, giving a single result, while <tt class="docutils literal"><span class="pre">filterMatrix</span></tt> can be used to filter rows depending on the content of a specific column. For further information, refer to the documentation strings of those functions.</p>
<p>You can also transpose the matrix (invert the rows and the columns) with the help of the <tt class="docutils literal"><span class="pre">transpose</span></tt> function.</p>
<p>Also, two conveinence functions have been provided to quickly calculate the mean of columns or rows: they are <tt class="docutils literal"><span class="pre">meanRows</span></tt> and <tt class="docutils literal"><span class="pre">meanColumns</span></tt>, respectively.</p>
<p>
<span class="versionmodified">New in version 0.9: </span>The <tt class="docutils literal"><span class="pre">apply</span></tt> function can be used to apply a function to a specific column, either to each element, or to the column as a whole.</p>
</div>
<div class="section" id="saving-datamatrix-objects">
<h2>Saving DataMatrix objects<a class="headerlink" href="#saving-datamatrix-objects" title="Permalink to this headline">¶</a></h2>
<p>You can write <tt class="docutils literal"><span class="pre">DataMatrix</span></tt> objects to files or file-like objects with the <tt class="docutils literal"><span class="pre">writeMatrix</span></tt> function present in the module:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">fh</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">&quot;somefile.txt&quot;</span><span class="p">,</span><span class="s">&quot;w&quot;</span><span class="p">)</span>
<span class="n">datamatrix</span><span class="o">.</span><span class="n">writeMatrix</span><span class="p">(</span><span class="n">matrix</span><span class="p">,</span><span class="n">fh</span><span class="p">)</span>
</pre></div>
</div>
<p>Output formatting is again set via options to the csv module. Optionally you can save only part of the columns, specified as a list:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">datamatrix</span><span class="o">.</span><span class="n">writeMatrix</span><span class="p">(</span><span class="n">matrix</span><span class="p">,</span> <span class="n">fh</span><span class="p">,</span> <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;Name&quot;</span><span class="p">,</span><span class="s">&quot;Job&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>If you want the header (column names) to be included, you need to set the <tt class="docutils literal"><span class="pre">header</span></tt> parameter to <tt class="xref docutils literal"><span class="pre">True</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">datamatrix</span><span class="o">.</span><span class="n">writeMatrix</span><span class="p">(</span><span class="n">matrix</span><span class="p">,</span> <span class="n">fh</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="">Usage</a><ul>
<li><a class="reference external" href="#invocation">Invocation</a></li>
<li><a class="reference external" href="#basic-operations">Basic operations</a></li>
<li><a class="reference external" href="#row-and-column-manipulation">Row and column manipulation</a></li>
<li><a class="reference external" href="#subsetting">Subsetting</a></li>
<li><a class="reference external" href="#further-manipulation-of-datamatrix-objects">Further manipulation of  DataMatrix objects</a></li>
<li><a class="reference external" href="#saving-datamatrix-objects">Saving DataMatrix objects</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="requirements.html"
                                  title="previous chapter">Requirements and installation</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="emptymatrix.html"
                                  title="next chapter">DataMatrix variants - EmptyMatrix</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/usage.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="emptymatrix.html" title="DataMatrix variants - EmptyMatrix"
             >next</a> |</li>
        <li class="right" >
          <a href="requirements.html" title="Requirements and installation"
             >previous</a> |</li>
        <li><a href="index.html">DataMatrix v0.9 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2008-2009, Luca Beltrame and Giovanni Marco Dall&#39;Olio.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.3.
    </div>
  </body>
</html>