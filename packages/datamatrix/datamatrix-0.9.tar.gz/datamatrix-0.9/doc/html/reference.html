<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Module reference &mdash; DataMatrix v0.9 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.9',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="DataMatrix v0.9 documentation" href="index.html" />
    <link rel="prev" title="License" href="license.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="license.html" title="License"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">DataMatrix v0.9 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-datamatrix">
<h1>Module reference<a class="headerlink" href="#module-datamatrix" title="Permalink to this headline">¶</a></h1>
<div class="section" id="datamatrix">
<h2>DataMatrix<a class="headerlink" href="#datamatrix" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="datamatrix.DataMatrix">
<em class="property">class </em><tt class="descclassname">datamatrix.</tt><tt class="descname">DataMatrix</tt><big>(</big><em>fh=None</em>, <em>row_names=None</em>, <em>header=True</em>, <em>delimiter='t'</em>, <em>quoting=0</em>, <em>quotechar=&quot;'&quot;</em>, <em>fixR=False</em>, <em>skip=0</em><big>)</big><a class="headerlink" href="#datamatrix.DataMatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Pythonic implementation of R&#8217;s data.frame structure.
This class loads a file or a file-like structure then it
transforms it into a dictionary of (row name, value) tuples for
each column. Optionally only column values can be retrieved and
at the same time single lines can be queried.
Missing values are inputted as NAs.</p>
<p>The column used for row names (row_names) can be specified,
otherwise rows are numbered sequentially. If the file has
an header (default True), it is used to name the fields, otherwise the
fields are numbered sequentially, with the first field
being &#8220;x&#8221; (like R does).</p>
<p>If you are loading a text object saved by R using row.names=TRUE, the
topmost, leftmost record will be blank. To parse such files, specify fixR as
True in the initializer options.</p>
<p>Other options include the delimiter, line terminator and quoting,
and they are passed directly to the csv DictReader instance which will
read the file. See the csv module documentation for more details.</p>
<dl class="docutils">
<dt>Notable methods are:</dt>
<dd><ul class="first last">
<li><p class="first">getRow - returns a specific row</p>
</li>
<li><dl class="first docutils">
<dt>view - Outputs a tab-delimited view of a number of</dt>
<dd><p class="first last">lines. Start line and how much to show are configurable.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>append - adds a column (of the same length and with the same</dt>
<dd><p class="first last">identifiers) to the matrix, kind of equivalent to R&#8217;s cbind.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>appendRow - adds a row at the end of the matrix, of the same length as</dt>
<dd><p class="first last">the columns. It can be seen as similar to R&#8217;s rbind.</p>
</dd>
</dl>
</li>
<li><p class="first">insert - inserts a column at a specified index</p>
</li>
<li><p class="first">insertRow - similar to insert, but works with rows</p>
</li>
<li><p class="first">iterRows - cycle through rows</p>
</li>
<li><p class="first">getRowByID - get a row with a specified row name</p>
</li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="datamatrix.DataMatrix.append">
<tt class="descname">append</tt><big>(</big><em>other</em>, <em>column_name</em><big>)</big><a class="headerlink" href="#datamatrix.DataMatrix.append" title="Permalink to this definition">¶</a></dt>
<dd>Method to append a column. It needs a sequence (tuple or list) and
a column name to be supplied. The sequence must be of the same length
as the other columns.</dd></dl>

<dl class="method">
<dt id="datamatrix.DataMatrix.appendRow">
<tt class="descname">appendRow</tt><big>(</big><em>other</em>, <em>row_name</em><big>)</big><a class="headerlink" href="#datamatrix.DataMatrix.appendRow" title="Permalink to this definition">¶</a></dt>
<dd>Appends a row to the end of the matrix. The row must encompass all
the columns (i.e., it should be as long as to cover all the columns).
The row name is specified in the mandatory parameter row_name.</dd></dl>

<dl class="method">
<dt id="datamatrix.DataMatrix.getColumn">
<tt class="descname">getColumn</tt><big>(</big><em>key</em>, <em>column_name=False</em><big>)</big><a class="headerlink" href="#datamatrix.DataMatrix.getColumn" title="Permalink to this definition">¶</a></dt>
<dd>Gets a specific column, without the
identifier. The result is returned as a list.
Optionally the column name can be printed.
DEPRECATED: Use datamatrix[colname] instead.</dd></dl>

<dl class="method">
<dt id="datamatrix.DataMatrix.getRow">
<tt class="descname">getRow</tt><big>(</big><em>row_number</em>, <em>columns='all'</em>, <em>row_name=True</em><big>)</big><a class="headerlink" href="#datamatrix.DataMatrix.getRow" title="Permalink to this definition">¶</a></dt>
<dd>Returns a specific row, identified from the
row number, as a list. You can specify how many
columns are outputted (default: all) with the columns parameter.</dd></dl>

<dl class="method">
<dt id="datamatrix.DataMatrix.getRowByID">
<tt class="descname">getRowByID</tt><big>(</big><em>rowId</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#datamatrix.DataMatrix.getRowByID" title="Permalink to this definition">¶</a></dt>
<dd>Fetches a specific row basing on the identifier. If there is no
match, a ValueError is raised.</dd></dl>

<dl class="method">
<dt id="datamatrix.DataMatrix.insert">
<tt class="descname">insert</tt><big>(</big><em>other</em>, <em>column_name</em>, <em>column_no</em><big>)</big><a class="headerlink" href="#datamatrix.DataMatrix.insert" title="Permalink to this definition">¶</a></dt>
<dd>Method to insert a column at a specified column index.</dd></dl>

<dl class="method">
<dt id="datamatrix.DataMatrix.insertRow">
<tt class="descname">insertRow</tt><big>(</big><em>other</em>, <em>row_name</em>, <em>lineno</em><big>)</big><a class="headerlink" href="#datamatrix.DataMatrix.insertRow" title="Permalink to this definition">¶</a></dt>
<dd>Method that inserts a row at a specified line number.</dd></dl>

<dl class="method">
<dt id="datamatrix.DataMatrix.iterRows">
<tt class="descname">iterRows</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#datamatrix.DataMatrix.iterRows" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over a matrix&#8217;s rows.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">StringIO</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">matrixfile</span> <span class="o">=</span> <span class="n">StringIO</span><span class="p">(</span>
<span class="gp">... </span><span class="sd">&#39;&#39;&#39;a b c d</span>
<span class="gp">... </span><span class="sd">3 3 3 3</span>
<span class="gp">... </span><span class="sd">2 2 2 2&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span> <span class="o">=</span>  <span class="n">DataMatrix</span><span class="p">(</span><span class="n">matrixfile</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">matrix</span><span class="o">.</span><span class="n">iterRows</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="n">row</span>
<span class="go">[&#39;1&#39;, &#39;3 3 3 3&#39;]</span>
<span class="go">[&#39;2&#39;, &#39;2 2 2 2&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="datamatrix.DataMatrix.pop">
<tt class="descname">pop</tt><big>(</big><em>index=-1</em><big>)</big><a class="headerlink" href="#datamatrix.DataMatrix.pop" title="Permalink to this definition">¶</a></dt>
<dd>Method analogous to the pop method of lists, with the difference
that this one removes rows and returns the removed item. If no index
(a.k.a. row number) is supplied, the last item is removed.</dd></dl>

<dl class="method">
<dt id="datamatrix.DataMatrix.rename">
<tt class="descname">rename</tt><big>(</big><em>oldColumn</em>, <em>newColumn</em><big>)</big><a class="headerlink" href="#datamatrix.DataMatrix.rename" title="Permalink to this definition">¶</a></dt>
<dd>Renames a column.</dd></dl>

<dl class="method">
<dt id="datamatrix.DataMatrix.replace">
<tt class="descname">replace</tt><big>(</big><em>other</em>, <em>colName</em><big>)</big><a class="headerlink" href="#datamatrix.DataMatrix.replace" title="Permalink to this definition">¶</a></dt>
<dd>Replace a column with another.</dd></dl>

<dl class="method">
<dt id="datamatrix.DataMatrix.view">
<tt class="descname">view</tt><big>(</big><em>lines=10</em>, <em>start_at=1</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#datamatrix.DataMatrix.view" title="Permalink to this definition">¶</a></dt>
<dd>Method used to print on-screen the table.
The number of lines, and the starting line can be
configured via the start_at and lines parameters.
Optional parameters can be sent to getRow to
select which columns are printed.</dd></dl>

</dd></dl>

</div>
<div class="section" id="emptymatrix">
<h2>EmptyMatrix<a class="headerlink" href="#emptymatrix" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="datamatrix.EmptyMatrix">
<em class="property">class </em><tt class="descclassname">datamatrix.</tt><tt class="descname">EmptyMatrix</tt><big>(</big><em>identifier=None</em>, <em>row_names=None</em>, <em>columns=None</em><big>)</big><a class="headerlink" href="#datamatrix.EmptyMatrix" title="Permalink to this definition">¶</a></dt>
<dd>DataMatrix variant that once instantiated generates an
empty matrix with specified columns and row names.
Does not depend upon reading a file.
Rows and columns, after initialization, can be added with insertRows,
insert, appendRows and append methods, respectively.</dd></dl>

</div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="datamatrix.writeMatrix">
<tt class="descclassname">datamatrix.</tt><tt class="descname">writeMatrix</tt><big>(</big><em>data_matrix</em>, <em>fh=None</em>, <em>delimiter='t'</em>, <em>lineterminator='n'</em>, <em>quoting=0</em>, <em>header=False</em>, <em>row_names=True</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#datamatrix.writeMatrix" title="Permalink to this definition">¶</a></dt>
<dd>Function that saves DataMatrix objects to files or file-like
objects. A file handle is a mandatory parameter, along with the data
matrix object you want to use. You can optionally pass more parameters to
getRows to select which columns are saved.</dd></dl>

<dl class="function">
<dt id="datamatrix.elementApply">
<tt class="descclassname">datamatrix.</tt><tt class="descname">elementApply</tt><big>(</big><em>matrix</em>, <em>func</em>, <em>columns=None</em><big>)</big><a class="headerlink" href="#datamatrix.elementApply" title="Permalink to this definition">¶</a></dt>
<dd>Applies a function to each column for each row, and outputs a new
matrix as result. If the function requires any type conversion, that must be
done by the user. If the columns parameter is not None, the function is
applied only to specific columns.</dd></dl>

<dl class="function">
<dt id="datamatrix.matrixApply">
<tt class="descclassname">datamatrix.</tt><tt class="descname">matrixApply</tt><big>(</big><em>matrix</em>, <em>func</em>, <em>what='rows'</em>, <em>resultName='Function result'</em><big>)</big><a class="headerlink" href="#datamatrix.matrixApply" title="Permalink to this definition">¶</a></dt>
<dd>Apply a user-specified function to all rows or all columns. If the
function requires any type conversion, that must be done by the user. The
function must process the row (or the column) and return a single value.
The final result is a DataMatrix instance containing one row (or one
column) with the function results. The name of the column (or row) can be
changed with the resultName parameter.</dd></dl>

<dl class="function">
<dt id="datamatrix.filterMatrix">
<tt class="descclassname">datamatrix.</tt><tt class="descname">filterMatrix</tt><big>(</big><em>matrix</em>, <em>func</em>, <em>column</em><big>)</big><a class="headerlink" href="#datamatrix.filterMatrix" title="Permalink to this definition">¶</a></dt>
<dd>Function which returns a DataMatrix with a column that satisfies
specified criteria. In particular, &#8220;func&#8221; must be a function applied to
each row (on the column of interest) and should return True if the row
needs to be included, and False otherwise.</dd></dl>

<dl class="function">
<dt id="datamatrix.meanRows">
<tt class="descclassname">datamatrix.</tt><tt class="descname">meanRows</tt><big>(</big><em>sourceMatrix</em><big>)</big><a class="headerlink" href="#datamatrix.meanRows" title="Permalink to this definition">¶</a></dt>
<dd>Convenience function to calculate the mean of the rows of a DataMatrix
instance.</dd></dl>

<dl class="function">
<dt id="datamatrix.meanColumns">
<tt class="descclassname">datamatrix.</tt><tt class="descname">meanColumns</tt><big>(</big><em>sourceMatrix</em><big>)</big><a class="headerlink" href="#datamatrix.meanColumns" title="Permalink to this definition">¶</a></dt>
<dd>Convenience function to calculate the mean of the columns of a
DataMatrix instance.</dd></dl>

<dl class="function">
<dt id="datamatrix.transpose">
<tt class="descclassname">datamatrix.</tt><tt class="descname">transpose</tt><big>(</big><em>matrix</em>, <em>identifier='x'</em><big>)</big><a class="headerlink" href="#datamatrix.transpose" title="Permalink to this definition">¶</a></dt>
<dd>Transposes a DataMatrix object: rows become columns and vice versa. The
optional parameter <tt class="docutils literal"><span class="pre">identifier</span></tt> is passed as the resulting matrix&#8217;s
identifer name.</dd></dl>

<dl class="function">
<dt id="datamatrix.apply">
<tt class="descclassname">datamatrix.</tt><tt class="descname">apply</tt><big>(</big><em>matrix</em>, <em>func</em>, <em>column</em>, <em>whole=False</em><big>)</big><a class="headerlink" href="#datamatrix.apply" title="Permalink to this definition">¶</a></dt>
<dd>Applies a function to a specific column. Rows are not supported (yet).
The operation is performed in-place. If the parameter &#8220;whole&#8221; is specified,
the function is applied to all the column at once, rather than to each of
its members.</dd></dl>

<dl class="function">
<dt id="datamatrix.cbind">
<tt class="descclassname">datamatrix.</tt><tt class="descname">cbind</tt><big>(</big><em>*args</em><big>)</big><a class="headerlink" href="#datamatrix.cbind" title="Permalink to this definition">¶</a></dt>
<dd>Joins a list of matrices by their columns. They must have the same length.
Additionally, the two matrices must not have equal column names.
Returns a DataMatrix instance of the joined result.</dd></dl>

<dl class="function">
<dt id="datamatrix.rbind">
<tt class="descclassname">datamatrix.</tt><tt class="descname">rbind</tt><big>(</big><em>first_matrix</em>, <em>second_matrix</em><big>)</big><a class="headerlink" href="#datamatrix.rbind" title="Permalink to this definition">¶</a></dt>
<dd>Joins two matrices by their rows. The number of columns of the two
matrices must be identical. Returns a new DataMatrix instance with the
joined result.</dd></dl>

<dl class="function">
<dt id="datamatrix.subset">
<tt class="descclassname">datamatrix.</tt><tt class="descname">subset</tt><big>(</big><em>matrix</em>, <em>column_list</em><big>)</big><a class="headerlink" href="#datamatrix.subset" title="Permalink to this definition">¶</a></dt>
<dd>Creates a new matrix with only a subset of the columns present, as
specified by the columns_list parameter.</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="">Module reference</a><ul>
<li><a class="reference external" href="#datamatrix">DataMatrix</a></li>
<li><a class="reference external" href="#emptymatrix">EmptyMatrix</a></li>
<li><a class="reference external" href="#functions">Functions</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="license.html"
                                  title="previous chapter">License</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/reference.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="license.html" title="License"
             >previous</a> |</li>
        <li><a href="index.html">DataMatrix v0.9 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2008-2009, Luca Beltrame and Giovanni Marco Dall&#39;Olio.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.3.
    </div>
  </body>
</html>