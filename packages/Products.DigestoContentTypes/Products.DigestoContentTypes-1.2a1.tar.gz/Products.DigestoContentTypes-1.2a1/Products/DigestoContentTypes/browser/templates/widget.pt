<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"                                                           
      i18n:domain="plone">

<div>

<script type="text/javascript" src="++resource++sequence.js">
</script>

<p tal:define="form_value view/_getFormValue">
  <input type="hidden" name="foo.marker" id="foo.marker"
         tal:define="marker string:${view/name}.marker"
         tal:attributes="name marker; id marker" />
  <tal:loop tal:repeat="item form_value">
    <input type="hidden" name="foo" id="value.0.foo" value="item"
           tal:condition="item"
           tal:attributes="name string:${view/name};
                           id string:value.${repeat/item/index}.${view/name};
                           value item" />
  </tal:loop>
  <input type="hidden" id="foo" tal:attributes="id view/name" />
  <select id="select.foo" size="5"
          tal:attributes="id string:select.${view/name};
                          size python:min(max(len(form_value), 5), 12)">
    <tal:loop tal:repeat="item form_value">
      <option tal:condition="item" tal:content="item"
              tal:attributes="value item">item</option>
    </tal:loop>
  </select>
</p>

<p>
  <input type="text" id="input.foo"
         i18n:attributes="value"
         tal:attributes="id string:input.${view/name}"
         value="Click here to add an item" onfocus="this.value=''" />
</p>
<p>
  <button
      type="button" onclick="sequenceAddItem('foo')"
      i18n:translate="add_button_label"
      tal:attributes="onclick string:sequenceAddItem('${view/name}')">
    Add
  </button>
  <button
      type="button" onclick="sequenceRemoveItem('foo')"
      i18n:translate="remove_button_label"
      i18n:domain="plone"
      tal:attributes="onclick string:sequenceRemoveItem('${view/name}')">
    Remove
  </button>
</p>

</div>

</html>
