
<!doctype html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module OpenGL.images</title>
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong><a href="OpenGL.html"><font color="#ffffff">OpenGL</font></a>.images</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/var/pylive/src/OpenGL-dev/OpenGL-ctypes/OpenGL/images.py">/var/pylive/src/OpenGL-dev/OpenGL-ctypes/OpenGL/images.py</a></font></td></tr></table>
    <p><tt>Image/texture&nbsp;implementation&nbsp;code<br>
&nbsp;<br>
This&nbsp;module&nbsp;provides&nbsp;the&nbsp;Pan-OpenGL&nbsp;operations&nbsp;required&nbsp;to&nbsp;support&nbsp;OpenGL<br>
image&nbsp;handling.&nbsp;&nbsp;Most&nbsp;of&nbsp;this&nbsp;code&nbsp;is&nbsp;simply&nbsp;boilerplate&nbsp;code&nbsp;that&nbsp;sets&nbsp;<br>
OpenGL&nbsp;parameters&nbsp;such&nbsp;that&nbsp;normal&nbsp;Pythonic&nbsp;assumptions&nbsp;about&nbsp;data-ordering<br>
are&nbsp;met&nbsp;to&nbsp;allow&nbsp;easier&nbsp;interaction&nbsp;with&nbsp;other&nbsp;projects&nbsp;(such&nbsp;as&nbsp;PIL&nbsp;or&nbsp;<br>
Numpy).<br>
&nbsp;<br>
Generally&nbsp;speaking,&nbsp;there&nbsp;are&nbsp;3&nbsp;pieces&nbsp;of&nbsp;information&nbsp;which&nbsp;control&nbsp;how&nbsp;<br>
an&nbsp;image&nbsp;is&nbsp;processed&nbsp;in&nbsp;the&nbsp;system:<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;format&nbsp;--&nbsp;this&nbsp;is&nbsp;the&nbsp;pixel&nbsp;format,&nbsp;such&nbsp;as&nbsp;GL_RGB/GL_RED/GL_ABGR_EXT<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dims&nbsp;--&nbsp;tuple&nbsp;of&nbsp;dimensions&nbsp;for&nbsp;the&nbsp;image,&nbsp;(width,height,depth)&nbsp;order&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type&nbsp;--&nbsp;the&nbsp;storage&nbsp;data-type&nbsp;for&nbsp;the&nbsp;image,&nbsp;normally&nbsp;GL_UNSIGNED_BYTE&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when&nbsp;working&nbsp;in&nbsp;Python,&nbsp;but&nbsp;all&nbsp;of&nbsp;the&nbsp;standard&nbsp;OpenGL&nbsp;types&nbsp;for&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;images&nbsp;can&nbsp;be&nbsp;used&nbsp;if&nbsp;you&nbsp;happen&nbsp;to&nbsp;have&nbsp;your&nbsp;data&nbsp;in&nbsp;some&nbsp;exotic<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;format<br>
&nbsp;<br>
Attributes&nbsp;of&nbsp;Note:<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FORMAT_BITS,&nbsp;TYPE_TO_BITS&nbsp;--&nbsp;used&nbsp;to&nbsp;calculate&nbsp;how&nbsp;many&nbsp;units&nbsp;of&nbsp;a&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;given&nbsp;storage&nbsp;type&nbsp;are&nbsp;required&nbsp;to&nbsp;store&nbsp;a&nbsp;unit&nbsp;in&nbsp;a&nbsp;given&nbsp;format<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TYPE_TO_ARRAYTYPE&nbsp;--&nbsp;maps&nbsp;Image&nbsp;storage&nbsp;types&nbsp;to&nbsp;their&nbsp;array&nbsp;data-type<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constants,&nbsp;i.e.&nbsp;maps&nbsp;GL_UNSIGNED_SHORT_4_4_4_4&nbsp;to&nbsp;GL_UNSIGNED_SHORT<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;so&nbsp;that&nbsp;we&nbsp;can&nbsp;use&nbsp;the&nbsp;standard&nbsp;array&nbsp;types&nbsp;for&nbsp;manipulating&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;image&nbsp;arrays.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RANK_PACKINGS&nbsp;--&nbsp;commands&nbsp;required&nbsp;to&nbsp;set&nbsp;up&nbsp;default&nbsp;array-transfer&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;operations&nbsp;for&nbsp;an&nbsp;array&nbsp;of&nbsp;the&nbsp;specified&nbsp;rank.<br>
&nbsp;<br>
New&nbsp;image&nbsp;formats&nbsp;and&nbsp;types&nbsp;will&nbsp;need&nbsp;to&nbsp;be&nbsp;registered&nbsp;here&nbsp;to&nbsp;be&nbsp;supported,<br>
this&nbsp;means&nbsp;that&nbsp;extension&nbsp;modules&nbsp;which&nbsp;add&nbsp;image&nbsp;types/formats&nbsp;need&nbsp;to&nbsp;alter&nbsp;<br>
the&nbsp;tables&nbsp;described&nbsp;above!<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;XXX&nbsp;Should&nbsp;be&nbsp;an&nbsp;API&nbsp;to&nbsp;handle&nbsp;that&nbsp;instead&nbsp;of&nbsp;direct&nbsp;modification.</tt></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#fffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="OpenGL.arrays.html">OpenGL.arrays</a><br>
</td><td width="25%" valign=top><a href="ctypes.html">ctypes</a><br>
</td><td width="25%" valign=top><a href="OpenGL.raw.GL.html">OpenGL.raw.GL</a><br>
</td><td width="25%" valign=top></td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-SetupPixelRead"><strong>SetupPixelRead</strong></a>(format, dims, type)</dt><dd><tt>Setup&nbsp;transfer&nbsp;mode&nbsp;for&nbsp;a&nbsp;read&nbsp;into&nbsp;a&nbsp;numpy&nbsp;array&nbsp;return&nbsp;the&nbsp;array<br>
&nbsp;<br>
Calls&nbsp;setupDefaultTransferMode,&nbsp;sets&nbsp;rankPacking&nbsp;and&nbsp;then&nbsp;<br>
returns&nbsp;a&nbsp;createTargetArray&nbsp;for&nbsp;the&nbsp;parameters.</tt></dd></dl>
 <dl><dt><a name="-createTargetArray"><strong>createTargetArray</strong></a>(format, dims, type)</dt><dd><tt>Create&nbsp;storage&nbsp;array&nbsp;for&nbsp;given&nbsp;parameters<br>
&nbsp;<br>
If&nbsp;storage&nbsp;type&nbsp;requires&nbsp;&gt;&nbsp;1&nbsp;unit&nbsp;per&nbsp;format&nbsp;pixel,&nbsp;then&nbsp;dims&nbsp;will&nbsp;be<br>
extended&nbsp;by&nbsp;1,&nbsp;so&nbsp;in&nbsp;the&nbsp;common&nbsp;case&nbsp;of&nbsp;RGB&nbsp;and&nbsp;GL_UNSIGNED_BYTE&nbsp;you&nbsp;<br>
will&nbsp;wind&nbsp;up&nbsp;with&nbsp;an&nbsp;array&nbsp;of&nbsp;dims&nbsp;+&nbsp;(3,)&nbsp;dimensions.<br>
&nbsp;<br>
Note&nbsp;that&nbsp;the&nbsp;base&nbsp;storage&nbsp;type&nbsp;must&nbsp;provide&nbsp;a&nbsp;zeros&nbsp;method.&nbsp;&nbsp;The&nbsp;zeros<br>
method&nbsp;relies&nbsp;on&nbsp;their&nbsp;being&nbsp;a&nbsp;registered&nbsp;default&nbsp;array-implementation&nbsp;for&nbsp;<br>
the&nbsp;storage&nbsp;type.&nbsp;&nbsp;The&nbsp;default&nbsp;installation&nbsp;of&nbsp;OpenGL-ctypes&nbsp;will&nbsp;use&nbsp;<br>
Numpy&nbsp;arrays&nbsp;for&nbsp;returning&nbsp;the&nbsp;result.</tt></dd></dl>
 <dl><dt><a name="-formatToBitCount"><strong>formatToBitCount</strong></a>(format)</dt><dd><tt>Given&nbsp;an&nbsp;OpenGL&nbsp;image&nbsp;format&nbsp;specification,&nbsp;get&nbsp;bits/pixel</tt></dd></dl>
 <dl><dt><a name="-rankPacking"><strong>rankPacking</strong></a>(rank)</dt><dd><tt>Set&nbsp;the&nbsp;pixel-transfer&nbsp;modes&nbsp;for&nbsp;a&nbsp;given&nbsp;image&nbsp;"rank"&nbsp;(#&nbsp;of&nbsp;dims)<br>
&nbsp;<br>
Uses&nbsp;RANK_PACKINGS&nbsp;table&nbsp;to&nbsp;issue&nbsp;calls&nbsp;to&nbsp;glPixelStorei</tt></dd></dl>
 <dl><dt><a name="-setupDefaultTransferMode"><strong>setupDefaultTransferMode</strong></a>()</dt><dd><tt>Set&nbsp;pixel&nbsp;transfer&nbsp;mode&nbsp;to&nbsp;assumed&nbsp;internal&nbsp;structure&nbsp;of&nbsp;arrays<br>
&nbsp;<br>
Basically&nbsp;OpenGL-ctypes&nbsp;(and&nbsp;PyOpenGL)&nbsp;assume&nbsp;that&nbsp;your&nbsp;image&nbsp;data&nbsp;is&nbsp;in&nbsp;<br>
non-byte-swapped&nbsp;order,&nbsp;with&nbsp;big-endian&nbsp;ordering&nbsp;of&nbsp;bytes&nbsp;(though&nbsp;that&nbsp;<br>
seldom&nbsp;matters&nbsp;in&nbsp;image&nbsp;data).&nbsp;&nbsp;These&nbsp;assumptions&nbsp;are&nbsp;normally&nbsp;correct&nbsp;<br>
when&nbsp;dealing&nbsp;with&nbsp;Python&nbsp;libraries&nbsp;which&nbsp;expose&nbsp;byte-arrays.</tt></dd></dl>
 <dl><dt><a name="-typeToBitCount"><strong>typeToBitCount</strong></a>(type)</dt><dd><tt>Given&nbsp;an&nbsp;OpenGL&nbsp;image&nbsp;type&nbsp;specification,&nbsp;get&nbsp;bits/recording&nbsp;element</tt></dd></dl>
</td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#55aa55">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Data</strong></big></font></td></tr>
    
<tr><td bgcolor="#55aa55"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><strong>FORMAT_BITS</strong> = {GL_COLOR_INDEX: 8, GL_STENCIL_INDEX: 8, GL_DEPTH_COMPONENT: 8, GL_RED: 8, GL_GREEN: 8, GL_BLUE: 8, GL_ALPHA: 8, GL_RGB: 24, GL_RGBA: 32, GL_LUMINANCE: 8, ...}<br>
<strong>RANK_PACKINGS</strong> = {1: [(&lt;CFunctionType object at 0x2aaab2848a78&gt;, GL_PACK_SKIP_PIXELS, 0)], 2: [(&lt;CFunctionType object at 0x2aaab2848a78&gt;, GL_PACK_ROW_LENGTH, 0), (&lt;CFunctionType object at 0x2aaab2848a78&gt;, GL_PACK_SKIP_ROWS, 0), (&lt;CFunctionType object at 0x2aaab2848a78&gt;, GL_PACK_ALIGNMENT, 1)], 3: [(&lt;CFunctionType object at 0x2aaab2848a78&gt;, GL_PACK_SKIP_IMAGES, 0), (&lt;CFunctionType object at 0x2aaab2848a78&gt;, GL_PACK_IMAGE_HEIGHT, 0)], 4: [(&lt;CFunctionType object at 0x2aaab2848a78&gt;, GL_PACK_SKIP_VOLUMES_SGIS, 0), (&lt;CFunctionType object at 0x2aaab2848a78&gt;, GL_PACK_IMAGE_DEPTH_SGIS, 0)]}<br>
<strong>TYPE_TO_ARRAYTYPE</strong> = {GL_BYTE: GL_BYTE, GL_UNSIGNED_BYTE: GL_UNSIGNED_BYTE, GL_SHORT: GL_SHORT, GL_UNSIGNED_SHORT: GL_UNSIGNED_SHORT, GL_INT: GL_INT, GL_UNSIGNED_INT: GL_UNSIGNED_INT, GL_FLOAT: GL_FLOAT, GL_DOUBLE: GL_DOUBLE, GL_UNSIGNED_BYTE_3_3_2: GL_UNSIGNED_BYTE, GL_UNSIGNED_SHORT_4_4_4_4: GL_UNSIGNED_SHORT, ...}<br>
<strong>TYPE_TO_BITS</strong> = {GL_BYTE: 8, GL_UNSIGNED_BYTE: 8, GL_SHORT: 16, GL_UNSIGNED_SHORT: 16, GL_INT: 32, GL_UNSIGNED_INT: 32, GL_FLOAT: 32, GL_DOUBLE: 64, GL_UNSIGNED_BYTE_3_3_2: 8, GL_UNSIGNED_SHORT_4_4_4_4: 16, ...}</td></tr></table>
</body></html>