<tal:widget
	tal:define="value options/value;
	            fieldname options/name;
	            exists python: value is not None;">
	<span tal:condition="exists">
		<img tal:attributes="src string:${request/URL}/@@file/${fieldname}/${value/filename}" /><br />
		<a tal:content="value/filename"
			tal:attributes="href string:${request/URL}/@@file/${fieldname}/${value/filename}">Filename</a>
		<span class="discreet"> &mdash; <span tal:define="sizekb python:value.getSize()/1024" tal:replace="sizekb">100</span> KB</span>
	</span>
	<span tal:condition="not:exists" class="discreet">
		No image
	</span>
</tal:widget>