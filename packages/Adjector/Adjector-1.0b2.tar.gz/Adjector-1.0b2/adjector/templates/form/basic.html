<!--!
**********************************************************************
| Copyright 2009-2010 David Isaacson, Stou Sandalski, Information Capsid
|
| This file is part of the program Adjector.
|
| Adjector is free software: you can redistribute it and/or modify
| it under the terms of the GNU General Public License as published by
| the Free Software Foundation, either version 2 of the License, or
| (at your option) version 3 of the License.
|
| Adjector is distributed in the hope that it will be useful,
| but WITHOUT ANY WARRANTY; without even the implied warranty of
| MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
| GNU General Public License for more details.
|
| You should have received a copy of the GNU General Public License
| along with Adjector. If not, see <http://www.gnu.org/licenses/>.
|
**********************************************************************
-->

<form xmlns='http://www.w3.org/1999/xhtml'
      xmlns:py="http://genshi.edgewall.org/"
      xmlns:xi='http://www.w3.org/2001/XInclude'
      id="${id}"
      name="${name}"
      action="${action}"
      method="${method}"
      class="${css_class}"
      py:attrs='attrs'>
      
    <!--! Define display_field -->
    <xi:include href='widgets/display_field.html' />
    
    <!--! Hidden Fields -->
    <div>
        <div py:if='hidden_fields' py:for='field in hidden_fields' class='field_hidden'>
            <div py:if='show_children_errors and error and not field.show_error' 
                class='field_error' py:content='error_for(field)'/>
            ${field.display(value_for(field), **args_for(field))}
        </div>
    </div>
    
    <!--!div py:if='not error' class='required_msg'>Bold fields are required</div-->
    <div py:if='error' class='error_msg'>Please fix the error(s) below</div>
    
    <table>
        <tr py:for='field in c' py:if='field not in hidden_fields and (value_of("edit") or not getattr(field, "edit_only", False)) and getattr(field, "type", None) != "submit"' class='field_unit'>
           ${display_field(field)}
        </tr>
    </table>
    
    <div class='buttons'>
        <div py:if='value_of("edit") and hasattr(c, "delete")' class='right'>
            ${display_child('delete')}
        </div>
        ${display_child('submit')}
    </div>
    
</form>
