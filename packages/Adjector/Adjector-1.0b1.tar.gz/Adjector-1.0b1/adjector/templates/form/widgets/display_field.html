<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:py="http://genshi.edgewall.org/"
      xmlns:xi='http://www.w3.org/2001/XInclude'
      py:strip=''>

    <py:def function='display_field(field)'>
        <td>
            <label py:if='field.label_text'
                   id='${field.id}.label'
                   class='field_label ${(field.is_required or getattr(field, "required", None)) and "required" or ""}'
                   for='${field.id}'
                   py:content='Markup(field.label_text)' />
        </td>
        <td class='field_container'>
            <div py:if='getattr(field, "css_class", None) == "textarea" and show_children_errors and error and not field.show_error'
                 class='field_error'
                 py:content='error_for(field)' />
            <div py:if='getattr(field, "css_class", None) == "textarea" and getattr(field, "help_text", None)'
                 class='field_info'
                 py:content='Markup(field.help_text)' />
            <div py:if='not hasattr(field, "help_text") and child_args.has_key(field._id) and child_args[field._id].get("help_text")'
                 class='field_info'
                 py:content='Markup(child_args[field._id]["help_text"])' />
            <span class='field_data'
                 py:content='display_child(field)' />
            <span py:if='getattr(field, "css_class", None) != "textarea" and getattr(field, "help_text", None)'
                 class='field_info'
                 py:content='Markup(field.help_text)' />
            <span py:if='getattr(field, "css_class", None) != "textarea" and show_children_errors and error and not field.show_error'
                 class='field_error'
                 py:content='error_for(field)' />
       </td>
    </py:def>
    
    <py:def function='display_inline_checkbox(field, whole_row=False)'>
        <td py:if='not whole_row' />
        <td colspan='${"2" if whole_row else "1"}'>
    
            <!--! The Field -->
            <span class='field_data checkbox_inline'
                  py:content='display_child(field)'/>
                  
            <!--! The Label -->
            <label py:if='field.label_text'
                   id='${field.id}.label'
                   class='field_label ${(field.is_required or getattr(field, "required", None)) and "required" or ""}'
                   for='${field.id}'
                   py:content='Markup(field.label_text)' />
            <span py:if='getattr(field, "help_text", None)'
                 class='field_info'
                 py:content='Markup(field.help_text)' />

            <!--! The Error -->
            <span py:if='show_children_errors and error and not field.show_error'
                 class='field_error'
                 py:content='error_for(field)' />
        </td>
    </py:def>
    
</html>
