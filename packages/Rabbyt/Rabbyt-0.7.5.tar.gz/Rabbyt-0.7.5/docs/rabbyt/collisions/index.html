<html>
<head>
<title>rabbyt.collisions - Rabbyt Reference</title>
</head>
<body>

<a href="../../rabbyt/">Documentation Index</a>
<h1>rabbyt.collisions</h1>
<p>This module provides some functions for collision detection.</p>







<div class="section">
<h2>Functions</h2>

<div class="section">
    <h3 >collide</h3>
    <p><tt class="docutils literal"><span class="pre">collide(objects)</span> <span class="pre">-&gt;</span> <span class="pre">list</span> <span class="pre">of</span> <span class="pre">collisions</span></tt></p>
<p>Collides <tt class="docutils literal"><span class="pre">objects</span></tt>, first using <tt class="docutils literal"><span class="pre">rdc()</span></tt> and then using
<tt class="docutils literal"><span class="pre">brute_force()</span></tt>.</p>
<p>Each object should have the attributes <tt class="docutils literal"><span class="pre">x</span></tt>, <tt class="docutils literal"><span class="pre">y</span></tt>, <tt class="docutils literal"><span class="pre">bounding_radius</span></tt>,
and <tt class="docutils literal"><span class="pre">bounding_radius_squared</span></tt>.</p>

</div>

<div class="section">
    <h3 >rdc</h3>
    <p><tt class="docutils literal"><span class="pre">rdc(objects,</span> <span class="pre">[max_depth,]</span> <span class="pre">[min_split])</span> <span class="pre">-&gt;</span> <span class="pre">list</span> <span class="pre">of</span> <span class="pre">collision</span> <span class="pre">groups</span></tt></p>
<p>Uses the Recursive Dimensional Clustering algorithm to find groups of
colliding objects.</p>
<p><tt class="docutils literal"><span class="pre">objects</span></tt> should be a list of objects.  Each object should have the
attributes <tt class="docutils literal"><span class="pre">x</span></tt>, <tt class="docutils literal"><span class="pre">y</span></tt>, and <tt class="docutils literal"><span class="pre">bounding_radius</span></tt>.</p>
<p>If the number of objects in a collision group is less than <tt class="docutils literal"><span class="pre">min_split</span></tt>,
recursion will stop.  This defaults to <tt class="docutils literal"><span class="pre">1</span></tt>, but in practice, it is
usually faster to just use a brute force method once a group gets down
to <tt class="docutils literal"><span class="pre">10</span></tt> objects.</p>
<p><tt class="docutils literal"><span class="pre">max_depth</span></tt> is the maximum number of recursions to make.  It defaults to
<tt class="docutils literal"><span class="pre">0</span></tt>, which is infinite.</p>
<p>Instead of returning individual collisions, <tt class="docutils literal"><span class="pre">rdc()</span></tt> returns groups
(lists) of colliding objects.  For example, if <tt class="docutils literal"><span class="pre">A</span></tt> collides with <tt class="docutils literal"><span class="pre">B</span></tt>
and <tt class="docutils literal"><span class="pre">B</span></tt> collides with <tt class="docutils literal"><span class="pre">C</span></tt>, one of the groups will be <tt class="docutils literal"><span class="pre">[A,</span> <span class="pre">B,</span> <span class="pre">C]</span></tt>,
even though <tt class="docutils literal"><span class="pre">A</span></tt> and <tt class="docutils literal"><span class="pre">C</span></tt> don't directly collide.</p>
<p>Also, each object is returned at most once.  If it is in one group, it won't
be in any other.  An object without any collisions isn't returned at all.</p>

</div>

<div class="section">
    <h3 >brute_force</h3>
    <p><tt class="docutils literal"><span class="pre">brute_force(objects)</span> <span class="pre">-&gt;</span> <span class="pre">list</span> <span class="pre">of</span> <span class="pre">collisions</span></tt></p>
<p>Finds collisions between <tt class="docutils literal"><span class="pre">objects</span></tt> using a brute force algorithm.</p>
<p><tt class="docutils literal"><span class="pre">objects</span></tt> should be a list of objects, each of which have the attributes
<tt class="docutils literal"><span class="pre">x</span></tt>, <tt class="docutils literal"><span class="pre">y</span></tt>, and <tt class="docutils literal"><span class="pre">bounding_radius_squared</span></tt>.  Each object is checked
against every other object.</p>
<p>For example, if <tt class="docutils literal"><span class="pre">A</span></tt> collides with <tt class="docutils literal"><span class="pre">B</span></tt>, <tt class="docutils literal"><span class="pre">B</span></tt> collides with <tt class="docutils literal"><span class="pre">C</span></tt>, and
<tt class="docutils literal"><span class="pre">D</span></tt> doesn't collide with anything, the result will be:
<tt class="docutils literal"><span class="pre">[(A,</span> <span class="pre">B),</span> <span class="pre">(B,</span> <span class="pre">C)]</span></tt>.</p>

</div>

</div>



</body>
</html>