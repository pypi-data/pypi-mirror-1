source file: <b>/opt/devel/celery/testproj/../celery/tests/test_discovery.py</b><br>


file stats: <b>17 lines, 17 executed: 100.0% covered</b>
<pre>
<font color="green">   1. import unittest</font>
<font color="green">   2. from django.conf import settings</font>
<font color="green">   3. from celery.discovery import autodiscover</font>
<font color="green">   4. from celery.task import tasks</font>
<font color="black">   5. </font>
<font color="green">   6. </font>
<font color="green">   7. class TestDiscovery(unittest.TestCase):</font>
<font color="green">   8. </font>
<font color="green">   9.     def assertDiscovery(self):</font>
<font color="green">  10.         apps = autodiscover()</font>
<font color="green">  11.         self.assertTrue(apps)</font>
<font color="green">  12.         tasks.autodiscover()</font>
<font color="green">  13.         self.assertTrue(&quot;c.unittest.SomeAppTask&quot; in tasks)</font>
<font color="green">  14.         self.assertEquals(tasks[&quot;c.unittest.SomeAppTask&quot;].run(), 42)</font>
<font color="green">  15. </font>
<font color="green">  16.     def test_discovery(self):</font>
<font color="green">  17.         if &quot;someapp&quot; in settings.INSTALLED_APPS:</font>
<font color="green">  18.             self.assertDiscovery()</font>
<font color="black">  19. </font>
</pre>

