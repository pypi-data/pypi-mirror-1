[app:main]
use = egg:Paste#urlmap
/images = thumbs_app
/ = middlewares

# a standalone application to serve files in image_dir. The application is a
# static application wrapped with the iw.thumbs middleware
[app:thumbs_app]
use = egg:iw.thumbs
url_regexp = ^/+(?P<width>[0-9]+)x(?P<height>[0-9]+)/{0,1}(?P<path>/.+)
image_dir = %(here)s/images
cache_dir = %(here)s/images_cache

[pipeline:middlewares]
pipeline = thumbs named_thumbs test_app

# an example tho override the default regexp
[filter:thumbs]
use = egg:iw.thumbs
url_regexp = ^/+(?P<width>[0-9]+)x(?P<height>[0-9]+)/{0,1}(?P<path>/.+)
image_dir = %(here)s/images
cache_dir = %(here)s/images_cache

# another example using sizes names
[filter:named_thumbs]
use = egg:iw.thumbs
url_regexp = ^/(?P<size>%s)(?P<path>/.+)
url_parser = iw.thumbs.url:size_parser
image_dir = %(here)s/images
cache_dir = %(here)s/images_cache
sizes = 
    thumb = 200x200
    large = 600x600

[app:test_app]
use = egg:Paste#static
document_root = %(here)s/

[server:main]
use = egg:Paste#http
host = 0.0.0.0
