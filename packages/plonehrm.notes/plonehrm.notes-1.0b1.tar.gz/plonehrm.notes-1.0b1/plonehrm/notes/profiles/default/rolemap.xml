<?xml version="1.0"?>
<rolemap>
  <roles>
    <!--  We define two extra roles. -->
    <role name="HrmManager"/>
    <role name="WorklocationManager"/>
  </roles>
  <permissions>

    <!-- Our special view permission. Only the right people may see it. -->
    <permission name="plonehrm: View hrm content" acquire="True">
      <role name="Manager"/>
      <role name="HrmManager"/>
      <role name="WorklocationManager"/>
    </permission>

    <!-- "plonehrm: Add worklocation" is kept the same as plone's "add portal
         content". -->
    <permission name="plonehrm: Add worklocation" acquire="True">
      <role name="Manager"/>
      <role name="Owner"/>
      <role name="Contributor"/>
    </permission>

    <!-- An employee and the directly-installed employee module objects are
         only addable by hrm managers. -->
    <permission name="plonehrm: Add employee" acquire="True">
      <role name="Manager"/>
      <role name="HrmManager"/>
    </permission>
    <permission name="plonehrm: Add personaldata" acquire="True">
      <role name="Manager"/>
      <role name="HrmManager"/>
    </permission>
    <permission name="plonehrm: Add checklist" acquire="True">
      <role name="Manager"/>
      <role name="HrmManager"/>
    </permission>
    <permission name="plonehrm: Add manager checklist" acquire="True">
      <role name="Manager"/>
      <role name="HrmManager"/>
    </permission>

    <!-- Certain tasks are only allowed to the hrm managers, not to the
         worklocation managers. For example, the adding of contracts. -->
    <permission name="plonehrm: Add contract" acquire="True">
      <role name="Manager"/>
      <role name="HrmManager"/>
    </permission>
    <permission name="plonehrm: Modify contract" acquire="True">
      <role name="Manager"/>
      <role name="HrmManager"/>
    </permission>
    <permission name="plonehrm: Modify manager checklist" acquire="True">
      <role name="Manager"/>
      <role name="HrmManager"/>
    </permission>

    <!-- The worklocation manager is allowed to do, for example:
         * An employee's telephone number or address.
         * Adding a short note.
         * Doing a performance interview.
         * Checking off checklist items that are not hrmmanager-only.
         (In each case, the hrm manager can also do it.)
    -->
    <permission name="plonehrm: Modify personaldata" acquire="True">
      <role name="Manager"/>
      <role name="HrmManager"/>
      <role name="WorklocationManager"/>
    </permission>
    <permission name="plonehrm: Add note" acquire="True">
      <role name="Manager"/>
      <role name="HrmManager"/>
      <role name="WorklocationManager"/>
    </permission>
    <permission name="plonehrm: Modify note" acquire="True">
      <role name="Manager"/>
      <role name="HrmManager"/>
      <role name="WorklocationManager"/>
    </permission>
    <permission name="plonehrm: Add performance interview" acquire="True">
      <role name="Manager"/>
      <role name="HrmManager"/>
      <role name="WorklocationManager"/>
    </permission>
    <permission name="plonehrm: Modify performance interview" acquire="True">
      <role name="Manager"/>
      <role name="HrmManager"/>
      <role name="WorklocationManager"/>
    </permission>
    <permission name="plonehrm: Modify checklist" acquire="True">
      <role name="Manager"/>
      <role name="HrmManager"/>
      <role name="WorklocationManager"/>
    </permission>

  </permissions>
</rolemap>
