<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US"
      lang="en-US"
      i18n:domain="eXtremeManagement">

  <metal:block use-macro="here/global_defines/macros/defines" />
  <body>
    <metal:block metal:define-macro="header">
      <h1 class="documentFirstHeading"
          i18n:translate="header_customers">
        Customer info
      </h1>
      <div class="documentDescription"
           tal:condition="here/Description"
           tal:content="here/Description">
        description
      </div>
    </metal:block>

    <metal:block metal:define-macro="body">

      <table class="listing"
             border="1"
             width="80%"
             cellpadding="0"
             cellspacing="0">

        <tr>
          <th class="customer_info_header"
              i18n:translate="listingheader_Fullname">Fullname</th>
          <td tal:content="here/getName" />
        </tr>
        <tr>
          <th class="customer_info_header"
              i18n:translate="listingheader_address">Address</th>
          <td tal:content="here/getAddress" />
        </tr>
        <tr>
          <th class="customer_info_header"
              i18n:translate="listingheader_zipCode">Zip code</th>
          <td tal:content="here/getZipCode" />
        </tr>
        <tr>
          <th class="customer_info_header"
              i18n:translate="listingheader_city">City</th>
          <td tal:content="here/getCity" />
        </tr>
        <tr>
          <th class="customer_info_header"
              i18n:translate="listingheader_country">Country</th>
          <td tal:content="here/getCountry" />
        </tr>
        <tr>
          <th class="customer_info_header"
              i18n:translate="listingheader_Phone">Phone</th>
          <td tal:content="here/getPhone" />
        </tr>
        <tr>
          <th class="customer_info_header"
              i18n:translate="listingheader_fax">Fax</th>
          <td>
            <span tal:condition="here/getFax"
                  tal:replace="here/getFax">Fax</span>
            <tal:nothing tal:condition="not: here/getFax">....
            </tal:nothing>
          </td>
        </tr>
        <tr>
          <th class="customer_info_header"
              i18n:translate="listingheader_website">Website</th>
          <td>
            <a tal:condition="here/getWebsite"
               tal:attributes="href here/getWebsite"
               tal:content="here/getWebsite"
               title="Visit the web site"
               i18n:attributes="title visit_the_website" />
            <tal:nothing tal:condition="not: here/getWebsite">...
            </tal:nothing>
          </td>
        </tr>
        <tr>
          <th class="customer_info_header"
              i18n:translate="listingheader_comments">Comments</th>
          <td>
            <span tal:condition="here/Description"
                  tal:replace="here/Description">Comments</span>
            <tal:nothing tal:condition="not: here/Description">...
            </tal:nothing>
          </td>
        </tr>
      </table>

      <div tal:define="projMembers python:here.contentValues(filter={'portal_type': 'ProjectMember'})"
           tal:condition="projMembers">

        <h1 i18n:translate="header_project_members">
          Project members
        </h1>

        <table class="listing"
               cellspacing="0"
               cellpadding="0"
               width="100%"
               border="1">

          <thead>
            <tr class="header_projectmember_listing">
              <th i18n:translate="listingheader_name">Name</th>
              <th i18n:translate="listingheader_phone">Phone</th>
              <th i18n:translate="listingheader_email">Email</th>
            </tr>
          </thead>
          <tbody>
            <tr tal:repeat="member projMembers">
              <tal:block tal:condition="python: test(member.getFullname == '',0,1)">
                <td>
                  <a tal:attributes="href string:${member/absolute_url}">
                    <img tal:replace="structure context/user.gif" />
                    <span tal:replace="member/getFullname">Name</span>
                  </a>
                </td>
                <td tal:content="member/getPhone" />
                <td>
                  <a class="link-plain"
                     tal:attributes="href string:mailto:${member/getEmail}"
                     title="Send a mail to this user"
                     i18n:attributes="title">
                    <img src="mail_icon.gif"
                         alt="" />
                    <span tal:replace="member/getEmail">Email</span>
                  </a>
                </td>
              </tal:block>
            </tr>
          </tbody>
        </table>
      </div>
    </metal:block>
    <metal:block metal:define-macro="folderlisting" />
  </body>
</html>
