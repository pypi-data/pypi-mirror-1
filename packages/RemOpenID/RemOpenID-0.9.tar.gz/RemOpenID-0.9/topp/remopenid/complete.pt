<tal:block metal:define-macro="master"
           tal:define="errors options/state/getErrors|request/errors|python:{};
                       Iterator python:modules['Products.Archetypes'].IndexIterator;
                       tabindex tabindex|python:Iterator(pos=7000);
                       fields view/fields;
                       portal_type python:here.getPortalTypeName().lower();
                       edit_template python:'%s_edit' % portal_type;
                       edit_macros python:path('here/%s/macros|here/edit_macros/macros' % edit_template);">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="topp.remopenid">

  <metal:block
     fill-slot="top_slot"
     tal:define="dummy  python:request.set('disable_border', 1)" />

    <metal:block fill-slot="javascript_head_slot">
      <tal:block
          define="macro here/archetypes_custom_js/macros/javascript_head | nothing"
          condition="macro">
        <metal:block use-macro="macro" />
      </tal:block>
    </metal:block>

  <body>
      <div metal:fill-slot="main">
        <div metal:define-macro="main" tal:omit-tag="">

          <metal:slot define-slot="heading_completion_form">
            <h1 i18n:translate="heading_completion_form">Complete Your Registration</h1>
          </metal:slot>

          <p>
             Please take a moment to complete your registration.<br />

             <em>NOTE:</em>  If you do not provide at least a user name
             and an email address, your account will not be activated.
          </p>

          <form name="edit_form"
                id="member-completion-form"
                method="post"
                enctype="multipart/form-data"
                tal:attributes="action python:'%s/complete' % here.absolute_url()">

              <tal:fields repeat="field fields">
                  <metal:fieldMacro
                      use-macro="python: here.widget(field.getName(), mode='edit')" />
              </tal:fields>

              <input
                  type="hidden"
                  name="form.submitted"
                  value="1" />
              <input
                  type="hidden"
                  name="came_from_prefs"
                  value=""
                  tal:attributes="value request/came_from_prefs|nothing" />

              <div class="field formControls">

                <metal:slot define-slot="controls_registration_form">
                  <label>&nbsp;</label>
                  <metal:slot define-slot="register_button_registration_form">
                    <input
                        class="context register"
                        tabindex=""
                        type="submit"
                        name="form.button.register"
                        i18n:attributes="value"
                        value="Register"
                        tal:attributes="tabindex tabindex/next;" />
                  </metal:slot>
                </metal:slot>
              </div>
          </form>
        </div>
      </div>
  </body>
</html>

</tal:block>
