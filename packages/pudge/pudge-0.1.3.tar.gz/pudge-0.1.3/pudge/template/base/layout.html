<?xml version="1.0"?>
<?python
import pudge

def initialize(t):
   if not hasattr(t, 'title'):
       t.title = 'Untitled'
   t.doc_title = t.generator.index_document['title']
?>
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:py="http://purl.org/kid/ns#"
      py:def="layout">
  
  <head>
    <title>${title}</title>
    <link rel="stylesheet" type="text/css" href="layout.css"/>
  </head>
  <body>
    <div id="page">
    <div py:slot="top_nav_slot" id='top-nav'>
        <h1 id="doc-title"><a rel="index" href="index.html">${doc_title}</a></h1>
        
        <ul id="nav-trac" py:if="generator.trac_url">
          <?python base_url = generator.trac_url ?>
          <li py:for="txt, stem, title in generator.trac_links">
            <a href="${base_url}${stem}"
               title="${title}">${txt}</a>
          </li>
        </ul>
    </div>
    
    <div id="main-content" py:content="content()"/>
    
    <div id="footer">
      <?python
      license = generator.get_document('doc-license')
      ?>
      <p id="pudge">
        <small>
        Built with
        <a href="http://lesscode.org/projects/pudge/">
          Pudge/${pudge.__version__}</a>
        </small>
      </p>

      <p id="doc-license" 
         py:if="license">
        <small>
        This documentation is licensed under the 
        <a href="${license['basename']}.html" 
           title="Documentation License"
           >${license['title']}</a>
        </small>
      </p>
    </div>
    </div>
  </body>

</html>
