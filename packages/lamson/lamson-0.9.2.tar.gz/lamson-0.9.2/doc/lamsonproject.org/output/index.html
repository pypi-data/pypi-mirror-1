<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />	
		<title>LamsonProject: Lamson The Python SMTP Server</title>
		<link rel="stylesheet" href="/styles/global.css" type="text/css" charset="utf-8" />
		<!--[if IE 7]>
		<style type="text/css" media="screen">
			div#column_left ul.sidebar_menu li div.color{
				display: none;
			}
		</style>
		<![endif]-->
		
	</head>
	<body>
		<div id="content_centered">			
			<div id="header">
				<h1><img id="logo" src="/images/lamson.png" alt="Lamson Project - Pipes and aliases are so 1970." /></h1>
				<ul id="header_menu">
					<li><a href="/">Home</a></li>
					<li><a href="/blog/">News</a></li>
                    <li><a href="/feed.xml">Feed</a></li>
					<li><a href="/download.html">Download</a></li>
					<li><a href="/docs/">Documentation</a></li>
					<li><a href="/docs/api/">API</a></li>
				</ul>
			</div>


			<!-- ATTENTION: The entire #masthead div should be removed for every page *other than* the home page. -->
			<div id="masthead">
				<div class="features">
					<h2>Features</h2>
					<ul>
						<li>
							<p>Avoid aliases forever! Lamson uses friendly regular expressions and FSM-based routing.</p>
						</li>
						<li>
							<p>Lamson uses SQLAlchemy to talk to an RDBMS instead of a bizarre combination of flat-files and hashtables!</p>
						</li>
						<li>
							<p>Get up and running quickly. Lamson can be installed and running in 30 seconds.</p>
						</li>
					</ul>
					<a id="getstarted" href="/docs/getting_started.html">Get Started &raquo;</a>
				</div>
				<div class="content">
					<h2>The Python SMTP Server</h2>
					<p class="lightened padded">
						We've all been there, mucking around in the sendmail m4 macros trying one more time to get the damn mailing list to update for the new users. Every time we say, "This sucks, I want to rewrite this stupid thing." Yet, when we're done, we simply crawl back to our caves covered in our sendmail wounds.
					</p>
					<p class="lightened">
						Lamson's goal is to put an end to the hell that is "e-mail application development". Rather than stay suck in the 1970s, Lamson adopts modern web application framework design and uses a proven scripting language (Python).
					</p>
				</div>
			</div>

            <div id="main_content">
                <h1>Lamson The Python SMTP Server</h1>
                <p>Rather than stay stuck in the 1970's, Lamson adopts modern web application
framework design and uses a proven scripting language (Python).</p>

<pre class="code">
def START(message, blog_name=None, address=None, host=None):
    pending_id = confirmation.push(message)
    confirm_address = confirmation.register(message, blog_name, host, pending_id)
    msg = view.respond("confirm.msg", locals())
    relay.deliver(msg)

    return NEW_USER
</pre>

<p>Instead of hideous aliases files (that you never remember to update) 
Lamson uses friendly regular expressions and routing decorators that make 
configuring how email is handled trivial.</p>

<pre class="code">
@route("(blog_name)@osb\\.(host)")
def START(message, blog_name=None, address=None, host=None):
    ...


@route("(blog_name)-confirm-(id_number)@osb\\.(host)", id_number="[a-z0-9]+")
def NEW_USER(message, blog_name=None, id_number=None, host=None):
    ...


@route("(blog_name)@osb\\.(host)")
@route("(blog_name)-(action)@osb\\.(host)", action="[a-z]+")
def POSTING(message, blog_name=None, host=None, action=None):
    ...


@route("(blog_name)@osb\\.(host)")
@stateless
def INDEXER(message, blog_name=None, host=None):
    ...
</pre>

<p>Rather than bizarre flat file "databases" and hashtable stores, Lamson uses a real
Object-Relation Mapping system (SQLAlchemy) to talk to an RDBMS, but also lets
you use any database system you can get a library for.  It makes no assumptions
about what you use, it just makes SQLAlchemy easier.</p>

<pre class="code">
table = Table(table_name, metadata, 
        Column('id', Integer, primary_key=True),
        Column('recipient', String(50), nullable=False),
        Column('sender', String(50), nullable=False),
        Column('state', String(50), nullable=False, default="START"),
        Column('fsm', String(50), nullable=False),
        Column("last_modified", DateTime,
            default=datetime.datetime.now,
            onupdate=datetime.datetime.now,
            nullable=False)
)
mapper(FSMState, table)
</pre>

<p>Everything about Lamson is modern, rejecting any part of the gargantuan e-mail standards
that doesn't make sense in today's world of giant attachments to MS Exchange(TM) servers
through spam blockers trying their best to defend the world.</p>


<h2>The 30 Second Introduction</h2>

If you have Python and easy_install already, then try this out:

<pre class="code">
$ easy_install lamson
$ lamson gen -project mymailserver
$ cd mymailserver
$ lamson start
$ lamson log
$ nosetests
$ lamson help -for send
$ lamson send -sender me@mydomain.com -to test@test.com \
        -subject "My test." -body "Hi there." -port 8823
$ less logs/lamson.log
$ mutt -F muttrc
$ lamson stop -ALL run
</pre>

<p>You now have a working base Lamson setup ready for you to work on with everything you need installed.</p>

<h2>Next Steps</h2>

<p>Grab <a href="/download.html">the code</a> and you can read through the 
<a href="/docs/getting_started.html">quick start</a> documentation.  After you've gone through
that, best thing to do is read the code to the examples/osb example included in
the <a href="/releases/">source distribution</a> and read the rest of the
<a href="/docs">documentation</a> on this site.</p>

<p>At any point, you can get help for all available Lamson commands with:</p>

<pre class="code">
$ lamson help
</pre>

<p>You can get individual command help with:</p>

<pre class="code">
$ lamson help -for send
</pre>

<p>Finally, if you really want to get started using Lamson to implement your dream email
application, but are completely lost, then you can <a href="/contact.html">contact me</a> for help.</p>



			</div>

			<div id="column_left">
				<ul class="sidebar_menu">
					<li>
						<div class="item">
							<div class="color" style="background-color: #ff0000;">&nbsp;</div>
							<a href="/blog/">Latest News</a>
						</div>
					</li>
					<li>
						<div class="item">
							<div class="color" style="background-color: #ff9900;">&nbsp;</div>
							<a href="/download.html">Download the Gear</a>
						</div>
					</li>
					<li>
						<div class="item">
							<div class="color" style="background-color: #99cc00;">&nbsp;</div>
							<a href="/docs/getting_started.html">Getting Started</a>
						</div>
					</li>
					<li>
						<div class="item">
							<div class="color" style="background-color: #3399ff;">&nbsp;</div>
							<a href="/docs/">Documentation</a>
						</div>
					</li>
					<li>
						<div class="item">
							<div class="color" style="background-color: #ff3399;">&nbsp;</div>
							<a href="/docs/faq.html">Frequently Asked Questions</a>
						</div>
					</li>
					<li>
						<div class="item">
							<div class="color" style="background-color: #006699;">&nbsp;</div>
							<a href="/about.html">About Lamson</a>
						</div>
					</li>
					<li>
						<div class="item">
							<div class="color" style="background-color: #0099cc;">&nbsp;</div>
							<a href="/contact.html">Getting Help with Lamson</a>
						</div>
					</li>
				</ul>
				
				<div class="sidebar_item">
					<h3>Quick Start</h3>
					<p>See the download instructions for information on getting lamson, and read the getting started instructions to start your own application in less than 10 minutes.</p>
                </div>

                <br/>

				<div class="sidebar_item">
					<h3>Mailing Lists</h3>
                    <p>Lamson hosts its own <a href="/lists/">mailing lists</a> as well as provides a free open mailing list 
                    service for anyone who needs one.  Simply send an email to the list you want at lists.lamsonproject.org and it will
                    get you started.</p>
				</div>
				
			</div>
			
			<div id="footer">
				<div class="footer_content">
                    Lamson Project(TM) and all material on this site Copyright &copy; 2009 <a href="http://zedshaw.com/" title="Zed Shaw's blog">Zed Shaw</a> unless otherwise stated.<br/>
                    Website Designed by <a href="http://kenkeiter.com/">Ken Keiter</a> and donated to the LamsonProject.
				</div>
			</div>
			
			<!-- end:centered_content -->
		</div>
	</body>
</html>
	
