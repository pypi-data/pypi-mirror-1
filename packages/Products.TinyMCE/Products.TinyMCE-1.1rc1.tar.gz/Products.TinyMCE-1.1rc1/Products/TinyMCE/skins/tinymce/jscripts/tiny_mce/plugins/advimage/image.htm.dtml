<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html id="region-conent" xmlns="http://www.w3.org/1999/xhtml">
<dtml-with base_properties>
<dtml-call "REQUEST.set('portal_url', portal_url())">
<head>
	<title>{#advimage_dlg.dialog_title}</title>
	<script type="text/javascript" src="../../tiny_mce_popup.js"></script>
	<script type="text/javascript" src="../../utils/mctabs.js"></script>
	<script type="text/javascript" src="../../utils/form_utils.js"></script>
	<script type="text/javascript" src="js/image.js"></script>
</head>
<body id="advimage" style="display: none">
	<div class="dialog-wrapper">
		<fieldset id="general_panel">
			<legend>{#advimage_dlg.dialog_title}</legend>
			<form>

				<fieldset class="column" style="width: 120px;">
					<legend>Libraries</legend>
		            <ul class="configlets">
		                <li>
							<a href="javascript:ImageDialog.displayPanel('internal_panel'); ImageDialog.getFolderListing('<dtml-var portal_url>', 'tinymce-jsonimagefolderlisting');">
							    <img alt="" src="<dtml-var portal_url>/logoIcon.gif"/> Home
							</a>
						</li>
		                <li>
							<a href="javascript:ImageDialog.displayPanel('internal_panel'); ImageDialog.getCurrentFolderListing();">
							    <img alt="" src="<dtml-var portal_url>/site_icon.gif"/> Current Folder
							</a>
						</li>
		                <!--li>
							<a href="javascript:ImageDialog.displayPanel('internal_panel');">
							    <img alt="" src="<dtml-var portal_url>/popup_calendar.gif"/> Recent Items
							</a>
						</li-->
		            </ul>
                <div class="field">
                  <label for="searchtext">Search</label>
                  <div class="widget">
                    <input type="text" name="searchtext" id="searchtext" value="" onkeyup="ImageDialog.checkSearch(event);" size="12"/>
                    <input type="button" style="margin-top: 4px;" value="Search" class="searchButton" onclick="ImageDialog.getFolderListing(tinyMCEPopup.editor.settings.portal_url, 'tinymce-jsonlinkablesearch');"/>
                  </div>
                </div>
				</fieldset>

				<fieldset id="internal_panel" class="subPanel column" style="width: 296px;">
					<legend>{#advimage_dlg.image_list}</legend>
					<div class="field">
						<div id="internalpath" class="formHelp" style="text-align: right;"></div>
						<label for="internallink">{#advimage_dlg.image_list}</label>
						<a id="uponelevel" class="link-parent" style="line-height: 1em;" href="javascript:void(0)"> Up one level </a>
						<div id="internallinkcontainer" class="widget radioscrolllist input-border" style="height: 260px;">
						</div>
					</div>
				</fieldset>

				<fieldset id="internal_details_panel" class="subPanel column" style="width: 190px;">
					<legend>Details</legend>
					<div class="field">
						<label>{#advimage_dlg.preview}</label>
						<div class="widget">
							<div id="previewimagecontainer">
							</div>
						</div>
					</div>

					<div class="field">
						<label id="altlabel" for="alt">{#advimage_dlg.alt}</label>
						<div class="widget">
							<input id="alt" name="alt" type="text" value="" size="20" />
						</div>
					</div>
								
					<div class="field">
						<label id="alignlabel" for="align">{#advimage_dlg.align}</label>
						<div class="widget">
							<select id="classes" name="classes"> 
								<option value="image-inline">Inline</option>
								<option value="image-left">{#advimage_dlg.align_left}</option>
								<option value="image-right">{#advimage_dlg.align_right}</option>
							</select>
						</div>
					</div>

					<div class="field">
						<div class="widget">
							<input type="checkbox" name="caption" id="caption"/> <label for="caption">Caption</label> 
						</div>
					</div>

					<div class="field">
						<label id="dimensionslabel" for="dimensions">{#advimage_dlg.dimensions}</label>
						<div class="widget">
							<select id="dimensions" name="dimensions"> 
								<option value="">Original</option> 
								<option value="image_large">Large (768x768)</option>
								<option value="image_preview">Preview (400x400)</option>
								<option value="image_mini">Mini (200x200)</option>
								<option value="image_thumb">Thumb (128x128)</option>
								<option value="image_tile">Tile (64x64)</option>
								<option value="image_icon">Icon (32x32)</option>
								<option value="image_listing">Listing (16x16)</option>
							</select>
						</div>
					</div>
				</fieldset>
			</form>
	
			<fieldset id="upload_panel" class="subPanel column" style="width: 190px; display: none;">
				<legend>Upload file</legend>
				<form name="upload_form" id="upload_form" method="post" target="upload_iframe" enctype="multipart/form-data">
					<div class="field">
						<label for="uploadfile">File</label>
						<div class="widget">
							<input type="file" name="uploadfile" id="uploadfile" style="width: 100%" size="15" />
						</div>
					</div>

					<div class="field">
						<label for="uploadtitle">{#advimage_dlg.title}</label>
						<div class="widget">
							<input type="text" name="uploadtitle" id="uploadtitle" value="" size="25" />
						</div>
					</div>

					<div class="field">
						<label for="uploaddescription">Description</label>
						<div class="widget">
							<textarea wrap="soft" cols="10" rows="6" id="uploaddescription" name="uploaddescription"></textarea>
						</div>
					</div>

					<input type="button" id="uploadbutton" class="context" name="uploadbutton" value="Upload" onclick="document.forms[1].submit();"/>
				</form>
				<iframe style="display: none;" width="0" scrolling="off" height="0" frameborder="0" id="upload_iframe" name="upload_iframe" src="javascript:"></iframe>
			</fieldset>
		</fieldset>

		<div class="visualClear"><!-- --></div>
		
	    <form onsubmit="ImageDialog.insert();return false;" action="#"> 
			<div class="mceActionPanel formControls">
				<span class="actionButtons">
					<input type="submit" id="insert" class="context" name="insert" value="{#insert}" />
					<input type="button" id="cancel" class="context" name="cancel" value="{#cancel}" onclick="tinyMCEPopup.close();" />
					<input type="button" id="upload" class="standalone" name="upload" value="Upload file" onclick="ImageDialog.displayPanel('upload_panel');" />
				</span>
			</div>
		</form>
	</div>
</body>
</dtml-with>
</html> 
