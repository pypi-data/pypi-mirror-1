<ul tal:condition="view/enabled" id="portalview-menubar" class="portalViewMenuBar"
    tal:define="menuitems view/menuitems|nothing">
  <li tal:repeat="item menuitems" 
      tal:attributes="class python:not item['subitems'] and 'portalViewMenuBarLink' or 'portalViewMenuBarItem';">
    <a href="#"
       tal:condition="item/text|nothing"
       tal:attributes="href item/href;
                       title item/title|nothing;
                       accesskey item/accesskey|nothing;"
       tal:content="item/text">Menu item</a>
    <ul tal:condition="item/subitems|nothing" style="display: none;">
      <li tal:repeat="subitem item/subitems" class="portalViewMenuBarSubItem">
        <a href="#"
           tal:condition="subitem/text|nothing"
           tal:attributes="href subitem/href;
                           title subitem/title|nothing;
                           accesskey subitem/accesskey|nothing;"
           tal:content="subitem/text">Submenu item</a>
      </li>
    </ul>
  </li>
</ul>
