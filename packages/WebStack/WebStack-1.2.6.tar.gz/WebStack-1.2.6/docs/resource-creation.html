<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type" />
  <title>How Resources are Created</title>
  <link href="styles.css" rel="stylesheet" type="text/css" />
</head>
<body>
<h1>How Resources are Created
</h1>
<p>In the <code>MyApplication</code>
<a href="resources.html">example</a> (and in many applications),
the only
thing we need to
consider is
what our code does, not how objects are created from the <code>MyResource</code>
class and how the <code>respond</code>
method is invoked. However, the mechanisms behind all these things are
not magic - the <a href="deploying.html">adapter
code</a> is responsible for all of
this. Let us
turn the diagram of components on its side and investigate what happens
when a request is sent to the application from a user:</p>
<table class="layers"
 style="width: 80%; text-align: left; margin-left: auto; margin-right: auto;"
 border="0" cellpadding="5" cellspacing="0">
  <tbody>
    <tr>
      <th
 style="border-width: 1px 1px 0px; text-align: center; vertical-align: middle; background-color: rgb(192, 192, 192); width: 30%; border-top-style: solid; border-left-style: solid;">Server
environment</th>
      <th
 style="border-width: 1px; text-align: center; vertical-align: middle; border-left-style: solid; border-top-style: solid; width: 30%; background-color: rgb(102, 203, 255);">Adapter
      </th>
      <th
 style="text-align: center; vertical-align: middle; border-top-style: solid; border-left-style: solid; border-right-style: solid; border-top-width: 1px; border-left-width: 1px; border-right-width: 1px; background-color: rgb(193, 255, 102); width: 40%;">Application
      </th>
    </tr>
    <tr>
      <td
 style="background-color: rgb(192, 192, 192); border-left-style: solid; border-left-width: 1px;"
 align="undefined" valign="undefined"><span class="method">The request
is received and sent to
the adapter... </span></td>
      <td
 style="background-color: rgb(102, 203, 255); border-left-style: solid; border-left-width: 1px;"
 align="undefined" valign="undefined"><span class="method">The adapter
creates a resource object
in the application... </span></td>
      <td
 style="background-color: rgb(193, 255, 102); border-left-style: solid; border-right-style: solid; border-left-width: 1px; border-right-width: 1px;"
 align="undefined" valign="undefined"><span class="method">A resource
object is
created and initialised. </span></td>
    </tr>
    <tr>
      <td
 style="background-color: rgb(192, 192, 192); border-left-style: solid; border-bottom-style: solid; border-left-width: 1px; border-right-width: 1px; border-bottom-width: 1px;"><br />
      </td>
      <td
 style="background-color: rgb(102, 203, 255); border-left-style: solid; border-bottom-style: solid; border-left-width: 1px; border-bottom-width: 1px;"
 align="undefined" valign="undefined"><span class="method">The adapter
calls the <code>respond</code> method on the new resource...</span></td>
      <td
 style="background-color: rgb(193, 255, 102); border-left-style: solid; border-right-style: solid; border-bottom-style: solid; border-left-width: 1px; border-right-width: 1px; border-bottom-width: 1px;"
 align="undefined" valign="undefined"><span class="method">The code
within the resource's <code>respond</code> method is executed. </span></td>
    </tr>
  </tbody>
</table>
<h2>The Role of the Adapter</h2>
<p>So it is the responsibility of the adapter to create at least one
resource object so that the application code may be executed when a
request is received from a user. This is described in the <a
 href="deploying.html">deployment documentation</a>.</p>
<h2>Creating Many Resources</h2>
<p>In more
complicated applications, there may
be a
need to create a number of resource objects and possibly to do so
dynamically within an application itself, but this is not usually
interesting or relevant to think about when writing your first
application - see <a href="paths-filesystem.html">"Treating the Path
Like
a Filesystem"</a> for a
discussion of creating new resource objects both in the adapter code
and dynamically within applications.</p>
</body>
</html>
