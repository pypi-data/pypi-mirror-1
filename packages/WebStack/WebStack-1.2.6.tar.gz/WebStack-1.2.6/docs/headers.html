<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
  <meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type" />
  <title>Request Headers</title>
  <link href="styles.css" rel="stylesheet" type="text/css" /></head>
<body>
<h1>Request Headers</h1>

<p>Request headers are pieces of information that describe certain aspects of a request, such as:</p>
<ul>
  <li>The location to which the request is being sent.</li>
  <li>The type of information in the request body.</li>
  <li>Preferences about which kinds of information the sender would like to receive in return.</li>
</ul>
<p>The location and related query information is conveniently accessible through <a href="paths.html">path</a> information and <a href="parameters-headers.html">request header parameter</a> information. Other types of header information are made available through other WebStack API methods.</p>
<h2>Content Types</h2>
<p>When a Web application sends some information in a response, it
describes the content type of that information, and this is described
in the "Responses and Presentation" document. However, it is also
possible that information sent to the application is also described
using a content type, and such details may be investigated using code
similar to the following:</p>

<pre>class MyResource:<br />    def respond(self, trans):<br />        content_type = trans.get_content_type()   # returns a WebStack.Generic.ContentType object</pre>

<p>Unfortunately, such information is not always provided by Web browsers.</p>
<h2>Content Preferences</h2>
<p>Sometimes, Web browsers describe the kinds of information that
they are willing to receive, and WebStack provides various means to
query such preferences:</p>

<pre>        languages = trans.get_content_languages() # returns a list of language codes<br />        charsets = trans.get_content_charsets()   # returns a list of character set identifiers<br /></pre>
<p>This information permits us to send content which matches the
expectations of the user, or at least the expectations of the user's
software.</p>
<h2>Other Headers</h2>
<p>Various other pieces of information may be attached to the request
as headers, and such information can be accessed through the general
header access methods as described below. Each header has a particular
name which is associated with a corresponding value.</p>
<div class="WebStack">
<h3>WebStack API - Accessing Header Information</h3>

<p>Transaction objects provide the following methods to access request header information:</p>
<dl>
  <dt><code>get_headers</code></dt>
    <dd>This returns a
      dictionary mapping header names to single string values.<br />
</dd>
  <dt><code>get_header_values</code></dt>
    <dd>Given a header name as parameter, this method returns a list of string values associated with that name.</dd><dt><code>get_content_type</code></dt>
  <dd>This returns a content type object (typically <code>WebStack.Generic.ContentType</code>) describing the incoming request body content.</dd>
  <dt><code>get_content_languages</code></dt>
  <dd>This returns a list of language identifiers, in descending order
of preference, indicating in which languages the sender of the request
would prefer to receive information.</dd>
  <dt><code>get_content_charsets</code></dt>
  <dd>This returns a list of character set identifiers, in descending
order of preference, indicating in which character sets the sender of
the request would prefer to receive information.</dd>

</dl>
<p>It should be noted that the <code>get_headers</code> and <code>get_header_values</code> methods
present a slightly different view of the available header information,
in that only a single header value is made available through the <code>get_headers</code> method for each header name, whereas <code>get_header_values</code> provides potentially many values for the same header name. </p>

</div></body></html>
