<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
  <meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type" />
  <title>Encoding and Decoding Path Values</title>
  <link href="styles.css" rel="stylesheet" type="text/css" /></head>
<body>
<h1>Encoding and Decoding Path Values</h1><p>On some occasions it can
be necessary to manually decode path values, producing genuine Unicode
objects, and then to encode them, producing plain strings that can be
used in response headers and other places. For such occasions, some
transaction methods are available:</p><div class="WebStack">
<h3>WebStack API - Encoding and Decoding Path Values</h3>
<p>WebStack provides the following methods to transform path values:</p>
<dl><dt><code>decode_path</code></dt><dd>This method accepts a path containing "URL encoded" information (as defined in the <a href="paths.html">"URLs and Paths"</a>
document) and, using an optional encoding parameter, returns a Unicode
object containing genuine character values in place of the "URL
encoded" values.</dd><dt><code>encode_path</code></dt><dd>This method
accepts a Unicode object containing the path and an optional encoding
parameter; it reverses the process carried out by the <code>decode_path</code> method.</dd></dl>
</div><p>Generally, the <code>decode_path</code> method is of little interest; its only relatively common application might be to decode query strings:</p><pre>qs = trans.get_query_string()                # eg. "a=%E6"<br />new_qs = trans.decode_path(qs, "iso-8859-1") #     producing "a=ז"</pre><p>Such operations are generally better performed using the <a href="parameters.html">request parameter methods</a>.</p><p>The <code>encode_path</code>
method is slightly more useful: since various transaction methods
return values which have already been transformed into Unicode objects,
we must consider the use of <code>encode_path</code> to produce values
which are suitable for feeding into other methods. For example, having
obtained a path, we may wish to cause a <a href="redirection.html">redirect</a> to another location
based on that path:</p><pre>path = trans.get_path_without_query("iso-8859-1") # eg. "/app/resource"<br />path += "/זרו;"<br />new_path = trans.encode_path(path, "iso-8859-1")  #     producing "/app/resource/%E6%F8%E5"<br />trans.redirect(new_path)</pre><p>It
is essential to encode the path in such situations because the
underlying mechanisms do not support the full range of Unicode
characters. Some cases where this limitation exists are listed in the <a href="encodings.html">"Character Encodings"</a> document.</p></body></html>
