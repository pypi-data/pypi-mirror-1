<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>WebStack.Resources.ResourceMap.MapResource</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css"></link>
</head>
<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">

<!-- =========== START OF NAVBAR =========== -->
<table class="navbar" border="0" width="100%" cellpadding="0" bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="center">
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="trees.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="indices.html">Index</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <font size="-1"><b class="breadcrumbs">
        Package&nbsp;WebStack ::
        <a href="WebStack.Resources-module.html">Package&nbsp;Resources</a> ::
        <a href="WebStack.Resources.ResourceMap-module.html">Module&nbsp;ResourceMap</a> ::
        Class&nbsp;MapResource
      </b></font></br>
    </td>
    <td><table cellpadding="0" cellspacing="0">
      <tr><td align="right"><font size="-2">[<a href="../private/WebStack.Resources.ResourceMap.MapResource-class.html">show&nbsp;private</a>&nbsp;|&nbsp;hide&nbsp;private]</font></td></tr>
      <tr><td align="right"><font size="-2">[<a href="frames.html"target="_top">frames</a>&nbsp;|&nbsp;<a href="WebStack.Resources.ResourceMap.MapResource-class.html" target="_top">no&nbsp;frames</a>]</font></td></tr>
    </table></td>
</tr></table>

<!-- =========== START OF CLASS DESCRIPTION =========== -->
<h2 class="class">Class MapResource</h2>

<hr/>

<pre class="literalblock">
A resource mapping names to other resources.
</pre>
<hr/>


<!-- =========== START OF METHOD SUMMARY =========== -->
<table class="summary" border="1" cellpadding="3" cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="summary">
  <th colspan="2">Method Summary</th></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="WebStack.Resources.ResourceMap.MapResource-class.html#__init__" class="summary-sig-name"><code>__init__</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>mapping</span>,
          <span class=summary-sig-arg>pass_through</span>,
          <span class=summary-sig-arg>directory_redirects</span>,
          <span class=summary-sig-arg>path_encoding</span>,
          <span class=summary-sig-arg>urlencoding</span>)</span></code>
<br />
Initialise the resource with a 'mapping' of names to resources.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="WebStack.Resources.ResourceMap.MapResource-class.html#respond" class="summary-sig-name"><code>respond</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>trans</span>)</span></code>
<br />
Using the path information from the given transaction 'trans', invoke
mapped resources.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="WebStack.Resources.ResourceMap.MapResource-class.html#send_error" class="summary-sig-name"><code>send_error</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>trans</span>)</span></code>
<br />
Send the error using the given 'trans'.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="WebStack.Resources.ResourceMap.MapResource-class.html#send_redirect" class="summary-sig-name"><code>send_redirect</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>trans</span>)</span></code>
<br />
Send a redirect using the given 'trans', adding a &quot;/&quot; character to the
end of the request path.</td></tr>
</table><br />


<!-- =========== START OF CLASS VARIABLE SUMMARY =========== -->
<table class="summary" border="1" cellpadding="3" cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="summary">
  <th colspan="2">Class Variable Summary</th></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1"><code>str</code></font></td>
<td><b><a href="WebStack.Resources.ResourceMap.MapResource-class.html#path_encoding"><code>path_encoding</code></a></b> = <span title="'utf-8'"><code><span class="variable-quote">'</span>utf-8<span class="variable-quote">'</span>                                  </code>
</span></td></tr>
</table><br />


<!-- =========== START OF METHOD DETAILS =========== -->
<table class="details" border="1" cellpadding="3" cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="details">
  <th colspan="2">Method Details</th></tr>
</table>

<a name="__init__"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">__init__</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>mapping</span>,
          <span class=sig-arg>pass_through</span>=<span class=sig-default>0</span>,
          <span class=sig-arg>directory_redirects</span>=<span class=sig-default>1</span>,
          <span class=sig-arg>path_encoding</span>=<span class=sig-default>None</span>,
          <span class=sig-arg>urlencoding</span>=<span class=sig-default>None</span>)</span>
    <br /><i>(Constructor)</i>
  </h3>
<pre class="literalblock">
Initialise the resource with a 'mapping' of names to resources. The
'mapping' should be a dictionary-like object employing simple names
without &quot;/&quot; characters; the special value None is used to specify a
&quot;catch all&quot; resource which receives all requests whose virtual path
info does not match any of the names in the mapping. For example:

mapping is {&quot;mammals&quot; : ..., &quot;reptiles&quot; : ..., None : ...}

/mammals/cat -&gt; matches &quot;mammals&quot;

/reptiles/python -&gt; matches &quot;reptiles&quot;

/creatures/goblin -&gt; no match, handled by None

When this resource matches a name in the virtual path info to one of the
names in the mapping, it removes the section of the virtual path info
corresponding to that name before dispatching to the corresponding
resource. For example:

/mammals/dog -&gt; match with &quot;mammals&quot; in mapping -&gt; /dog

By default, where the first part of the virtual path info does not
correspond to any of the names in the mapping, the first piece of the
virtual path info is removed before dispatching to the &quot;catch all&quot;
resource. For example:

/creatures/unicorn -&gt; no match -&gt; /unicorn

However, the optional 'pass_through' parameter, if set to a true value
(which is not the default setting), changes the above behaviour in cases
where no matching name is found: in such cases, no part of the virtual
path info is removed, and the request is dispatched to the &quot;catch all&quot;
resource unchanged. For example:

/creatures/unicorn -&gt; no match -&gt; /creatures/unicorn

With 'pass_through' set to a true value, care must be taken if this
resource is set as its own &quot;catch all&quot; resource. For example:

map_resource = MapResource(...)

map_resource.mapping[None] = map_resource

The optional 'directory_redirects' parameter, if set to a true value (as
is the default setting), causes a redirect adding a trailing &quot;/&quot;
character if the request path does not end with such a character.

The optional 'path_encoding' (for which 'urlencoding' is a synonym) is
used to decode &quot;URL encoded&quot; character values in the request path, and
overrides the default encoding wherever possible.
</pre>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="respond"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">respond</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>trans</span>)</span>
  </h3>
<pre class="literalblock">
Using the path information from the given transaction 'trans', invoke
mapped resources. Otherwise return an error condition.
</pre>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="send_error"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">send_error</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>trans</span>)</span>
  </h3>
<pre class="literalblock">
Send the error using the given 'trans'.
</pre>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="send_redirect"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">send_redirect</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>trans</span>)</span>
  </h3>
<pre class="literalblock">
Send a redirect using the given 'trans', adding a &quot;/&quot; character to the
end of the request path.
</pre>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>
<br />


<!-- =========== START OF CLASS VARIABLE DETAILS =========== -->
<table class="details" border="1" cellpadding="3" cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="details">
  <th colspan="2">Class Variable Details</th></tr>
</table>
<table width="100%" class="var-details" bgcolor="#e0e0e0"><tr><td>
<a name="path_encoding"></a>
<h3>path_encoding</h3>
<dl>
  <dt></dt>
  <dd>
    <dl>
      <dt><b>Type:</b></dt>
      <dd>
          <code>str</code>

      </dd>
<span title="'utf-8'">      <dt><b>Value:</b></dt>
      <dd><table><tr><td>
<pre class="variable">
<span class="variable-quote">'</span>utf-8<span class="variable-quote">'</span>                                                                </pre>
        </td></tr></table></dd>
</span>    </dl>
  </dd>
</dl></td></tr></table>
<br />


<!-- =========== START OF NAVBAR =========== -->
<table class="navbar" border="0" width="100%" cellpadding="0" bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="center">
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="trees.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="indices.html">Index</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar" width="100%"></th>
  </tr>
</table>

<table border="0" cellpadding="0" cellspacing="0" width="100%">
  <tr>
    <td align="left"><font size="-2">Generated by Epydoc 2.1 on Wed Jan 10 23:28:13 2007</font></td>
    <td align="right"><a href="http://epydoc.sourceforge.net"
                      ><font size="-2">http://epydoc.sf.net</font></a></td>
  </tr>
</table>
</body>
</html>
