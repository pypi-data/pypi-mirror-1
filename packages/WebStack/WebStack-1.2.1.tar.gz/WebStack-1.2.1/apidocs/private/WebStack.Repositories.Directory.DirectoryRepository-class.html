<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>WebStack.Repositories.Directory.DirectoryRepository</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css"></link>
</head>
<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">

<!-- =========== START OF NAVBAR =========== -->
<table class="navbar" border="0" width="100%" cellpadding="0" bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="center">
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="trees.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="indices.html">Index</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <font size="-1"><b class="breadcrumbs">
        Package&nbsp;WebStack ::
        <a href="WebStack.Repositories-module.html">Package&nbsp;Repositories</a> ::
        <a href="WebStack.Repositories.Directory-module.html">Module&nbsp;Directory</a> ::
        Class&nbsp;DirectoryRepository
      </b></font></br>
    </td>
    <td><table cellpadding="0" cellspacing="0">
      <tr><td align="right"><font size="-2">[show&nbsp;private&nbsp;|&nbsp;<a href="../public/WebStack.Repositories.Directory.DirectoryRepository-class.html">hide&nbsp;private</a>]</font></td></tr>
      <tr><td align="right"><font size="-2">[<a href="frames.html"target="_top">frames</a>&nbsp;|&nbsp;<a href="WebStack.Repositories.Directory.DirectoryRepository-class.html" target="_top">no&nbsp;frames</a>]</font></td></tr>
    </table></td>
</tr></table>

<!-- =========== START OF CLASS DESCRIPTION =========== -->
<h2 class="class">Class DirectoryRepository</h2>

<hr/>

<pre class="literalblock">
A directory repository providing session-like access to files.
</pre>
<hr/>


<!-- =========== START OF METHOD SUMMARY =========== -->
<table class="summary" border="1" cellpadding="3" cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="summary">
  <th colspan="2">Method Summary</th></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="WebStack.Repositories.Directory.DirectoryRepository-class.html#__init__" class="summary-sig-name"><code>__init__</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>path</span>,
          <span class=summary-sig-arg>fsencoding</span>,
          <span class=summary-sig-arg>delay</span>)</span></code>
<br />
Initialise the repository using the given 'path' to indicate the
location of the repository.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="WebStack.Repositories.Directory.DirectoryRepository-class.html#__delitem__" class="summary-sig-name"><code>__delitem__</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>key</span>)</span></code>
<br />
Remove the file associated with the given 'key'.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="WebStack.Repositories.Directory.DirectoryRepository-class.html#__getitem__" class="summary-sig-name"><code>__getitem__</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>key</span>)</span></code>
<br />
Return the contents of the file associated with the given 'key'.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="WebStack.Repositories.Directory.DirectoryRepository-class.html#__setitem__" class="summary-sig-name"><code>__setitem__</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>key</span>,
          <span class=summary-sig-arg>value</span>)</span></code>
<br />
Set the contents of the file associated with the given 'key' using the
given 'value'.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="WebStack.Repositories.Directory.DirectoryRepository-class.html#edit_path" class="summary-sig-name"><code>edit_path</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>key</span>)</span></code>
<br />
Return the full path to the 'key' in the filesystem provided that the
file associated with the 'key' is locked for editing.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="WebStack.Repositories.Directory.DirectoryRepository-class.html#full_path" class="summary-sig-name"><code>full_path</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>key</span>,
          <span class=summary-sig-arg>edit</span>)</span></code>
<br />
Return the full path to the 'key' in the filesystem.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="WebStack.Repositories.Directory.DirectoryRepository-class.html#has_key" class="summary-sig-name"><code>has_key</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>key</span>)</span></code>
<br />
Return whether a file with the name specified by 'key is stored in the
repository.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="WebStack.Repositories.Directory.DirectoryRepository-class.html#items" class="summary-sig-name"><code>items</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Return a list of (name, value) tuples for the files stored in the
repository.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="WebStack.Repositories.Directory.DirectoryRepository-class.html#keys" class="summary-sig-name"><code>keys</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Return the names of the files stored in the repository.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="WebStack.Repositories.Directory.DirectoryRepository-class.html#lock" class="summary-sig-name"><code>lock</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>key</span>,
          <span class=summary-sig-arg>create</span>,
          <span class=summary-sig-arg>opener</span>)</span></code>
<br />
Lock the file associated with the given 'key'.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="WebStack.Repositories.Directory.DirectoryRepository-class.html#unlock" class="summary-sig-name"><code>unlock</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>key</span>)</span></code>
<br />
Unlock the file associated with the given 'key'.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="WebStack.Repositories.Directory.DirectoryRepository-class.html#values" class="summary-sig-name"><code>values</code></a>(<span class=summary-sig-arg>self</span>)</span></code>
<br />
Return the contents of the files stored in the repository.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="../private/WebStack.Repositories.Directory.DirectoryRepository-class.html#_convert_fsname" class="summary-sig-name"><code>_convert_fsname</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>name</span>)</span></code>
<br />
Convert the given 'name' as a plain string in the filesystem encoding to
a Unicode object.</td></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1">&nbsp;</font></td>
  <td><code><span class="summary-sig"><a href="../private/WebStack.Repositories.Directory.DirectoryRepository-class.html#_convert_name" class="summary-sig-name"><code>_convert_name</code></a>(<span class=summary-sig-arg>self</span>,
          <span class=summary-sig-arg>name</span>)</span></code>
<br />
Convert the given 'name' to a plain string in the filesystem encoding.</td></tr>
</table><br />


<!-- =========== START OF CLASS VARIABLE SUMMARY =========== -->
<table class="summary" border="1" cellpadding="3" cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="summary">
  <th colspan="2">Class Variable Summary</th></tr>
<tr><td align="right" valign="top" width="15%"><font size="-1"><code>str</code></font></td>
<td><b><a href="WebStack.Repositories.Directory.DirectoryRepository-class.html#new_filename"><code>new_filename</code></a></b> = <span title="'__new__'"><code><span class="variable-quote">'</span>__new__<span class="variable-quote">'</span>                                 </code>
</span></td></tr>
</table><br />


<!-- =========== START OF METHOD DETAILS =========== -->
<table class="details" border="1" cellpadding="3" cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="details">
  <th colspan="2">Method Details</th></tr>
</table>

<a name="__init__"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">__init__</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>path</span>,
          <span class=sig-arg>fsencoding</span>=<span class=sig-default>None</span>,
          <span class=sig-arg>delay</span>=<span class=sig-default>1</span>)</span>
    <br /><i>(Constructor)</i>
  </h3>
<pre class="literalblock">
Initialise the repository using the given 'path' to indicate the
location of the repository. If no such location exists in the filesystem
an attempt will be made to create the directory.

The optional 'fsencoding' parameter can be used to assert a particular
character encoding used by the filesystem to represent filenames. By
default, the default encoding is detected (or Unicode objects are used
if appropriate).

The optional 'delay' argument specifies the time in seconds between each
poll of an opened repository file when that file is found to be locked
for editing.
</pre>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="__delitem__"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">__delitem__</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>key</span>)</span>
    <br /><i>(Index deletion operator)</i>
  </h3>
<pre class="literalblock">
Remove the file associated with the given 'key'.
</pre>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="__getitem__"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">__getitem__</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>key</span>)</span>
    <br /><i>(Indexing operator)</i>
  </h3>
<pre class="literalblock">
Return the contents of the file associated with the given 'key'.
</pre>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="__setitem__"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">__setitem__</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>key</span>,
          <span class=sig-arg>value</span>)</span>
    <br /><i>(Index assignment operator)</i>
  </h3>
<pre class="literalblock">
Set the contents of the file associated with the given 'key' using the
given 'value'.
</pre>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="edit_path"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">edit_path</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>key</span>)</span>
  </h3>
<pre class="literalblock">
Return the full path to the 'key' in the filesystem provided that the
file associated with the 'key' is locked for editing.
</pre>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="full_path"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">full_path</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>key</span>,
          <span class=sig-arg>edit</span>=<span class=sig-default>0</span>)</span>
  </h3>
<pre class="literalblock">
Return the full path to the 'key' in the filesystem. If the optional
'edit' parameter is set to a true value, the returned path will refer to
the editable version of the file.
</pre>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="has_key"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">has_key</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>key</span>)</span>
  </h3>
<pre class="literalblock">
Return whether a file with the name specified by 'key is stored in the
repository.
</pre>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="items"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">items</span>(<span class=sig-arg>self</span>)</span>
  </h3>
<pre class="literalblock">
Return a list of (name, value) tuples for the files stored in the
repository.
</pre>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="keys"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">keys</span>(<span class=sig-arg>self</span>)</span>
  </h3>
<pre class="literalblock">
Return the names of the files stored in the repository.
</pre>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="lock"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">lock</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>key</span>,
          <span class=sig-arg>create</span>=<span class=sig-default>0</span>,
          <span class=sig-arg>opener</span>=<span class=sig-default>None</span>)</span>
  </h3>
<pre class="literalblock">
Lock the file associated with the given 'key'. If the optional 'create'
parameter is set to a true value (unlike the default), the file will be
created if it did not already exist; otherwise, a KeyError will be
raised.

If the optional 'opener' parameter is specified, it will be used to
create any new file in the case where 'create' is set to a true value;
otherwise, the standard 'open' function will be used to create the file.

Return the full path to the editable file.
</pre>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="unlock"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">unlock</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>key</span>)</span>
  </h3>
<pre class="literalblock">
Unlock the file associated with the given 'key'.

Important note: this method should be used in a finally clause in order
to avoid files being locked and never being unlocked by the same process
because an unhandled exception was raised.
</pre>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="values"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">values</span>(<span class=sig-arg>self</span>)</span>
  </h3>
<pre class="literalblock">
Return the contents of the files stored in the repository.
</pre>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="_convert_fsname"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">_convert_fsname</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>name</span>)</span>
  </h3>
<pre class="literalblock">
Convert the given 'name' as a plain string in the filesystem encoding to
a Unicode object.
</pre>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>

<a name="_convert_name"></a>
<table width="100%" class="func-details" bgcolor="#e0e0e0"><tr><td>
  <h3><span class="sig"><span class="sig-name">_convert_name</span>(<span class=sig-arg>self</span>,
          <span class=sig-arg>name</span>)</span>
  </h3>
<pre class="literalblock">
Convert the given 'name' to a plain string in the filesystem encoding.
</pre>
  <dl><dt></dt><dd>
  </dd></dl>
</td></tr></table>
<br />


<!-- =========== START OF CLASS VARIABLE DETAILS =========== -->
<table class="details" border="1" cellpadding="3" cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="details">
  <th colspan="2">Class Variable Details</th></tr>
</table>
<table width="100%" class="var-details" bgcolor="#e0e0e0"><tr><td>
<a name="new_filename"></a>
<h3>new_filename</h3>
<dl>
  <dt></dt>
  <dd>
    <dl>
      <dt><b>Type:</b></dt>
      <dd>
          <code>str</code>

      </dd>
<span title="'__new__'">      <dt><b>Value:</b></dt>
      <dd><table><tr><td>
<pre class="variable">
<span class="variable-quote">'</span>__new__<span class="variable-quote">'</span>                                                              </pre>
        </td></tr></table></dd>
</span>    </dl>
  </dd>
</dl></td></tr></table>
<br />


<!-- =========== START OF NAVBAR =========== -->
<table class="navbar" border="0" width="100%" cellpadding="0" bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="center">
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="trees.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="indices.html">Index</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar" width="100%"></th>
  </tr>
</table>

<table border="0" cellpadding="0" cellspacing="0" width="100%">
  <tr>
    <td align="left"><font size="-2">Generated by Epydoc 2.1 on Thu Jan 18 23:51:26 2007</font></td>
    <td align="right"><a href="http://epydoc.sourceforge.net"
                      ><font size="-2">http://epydoc.sf.net</font></a></td>
  </tr>
</table>
</body>
</html>
