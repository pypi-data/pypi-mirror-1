==============
 XSLTemplates
==============

XSLTemplate is a simple XSLT based templating system that was created
in order to use XSLT for WSGI web applications. The goal is to have a
simple means of using XSLT for templating as well as provide an
obvious and simple way of extending template via traditional XSLT
extension functions and elements.

As it is based on 4Suite, all the 4Suite documentation can be used as
a basis for creating extensions. Also, XSLTemplate comes with some
basic extensions specific to web applications.

.. contents::


Basic Usage
===========

To use XSLTemplates insert the middleware into your WSGI stack.::

    >>> import os, amara
    >>> from webob import Request, Response
    >>> here = os.path.abspath('.')
    >>> from xsltemplates import TemplateMiddleware
    >>> app_conf = {'template_directory': os.path.join(here, 'xslt')}
    >>> def simple_wsgi_app(environ, start_response):
    ...     xml = '''<?xml version="1.0"?>
    ... <entry xmlns="http://www.w3.org/2005/Atom">
    ...   <title>Hello XSLTemplates World</title>
    ...   <id>tag:2007-08-24;XSLTemplatesDocs</id>
    ...   <content type="xhtml">
    ...     <div xmlns="http://www.w3.org/1999/xhtml">
    ...       <p>Hello World!</p>
    ...     </div>
    ...   </content>
    ... </entry>'''
    ...     x = amara.parse(xml)
    ...     environ['xsltemplate.template'] = 'test-atom.xslt'
    ...     start_response('200 OK', [('Content-Type', 'text/html')])
    ...     return [xml]
    >>> app = simple_wsgi_app
    >>> app = TemplateMiddleware(app_conf, app)
    >>> req = Request.blank('/blog/My_Article/')
    >>> status, headers, content = req.call_application(app)
    >>> print ''.join(content)
    <html xmlns:a="http://www.w3.org/2005/Atom">
      <body bgcolor="#FFFFFF">
        <h1>Hello XSLTemplates World</h1>
      </body>
    </html>

The XSLTemplates middleware will transform the output via the XSLT
file declared in the "xsltemplates.template" item in the environ
dictionary. 

