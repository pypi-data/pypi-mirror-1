<?xml version='1.0' encoding="ISO-8859-1" ?>
<WFS_Capabilities 
   version="1.0.0" 
   updateSequence="0" 
   xmlns="http://www.opengis.net/wfs" 
   xmlns:ogc="http://www.opengis.net/ogc" 
   xmlns:tal="http://xml.zope.org/namespaces/tal"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xsi:schemaLocation="http://www.opengis.net/wfs http://schemas.opengeospatial.net/wfs/1.0.0/WFS-capabilities.xsd">

<Service>
  <Name tal:content="view/name">MapServer WFS</Name>
  <Title tal:content="view/title">title</Title>
  <Abstract tal:content="view/abstract">abstract</Abstract>
  <OnlineResource tal:content="view/onlineresource">url</OnlineResource>
</Service>

<Capability>
  <Request>
    <GetCapabilities>
      <DCPType>
        <HTTP>
          <Get tal:attributes="onlineResource view/onlineresource" />
        </HTTP>
      </DCPType>
      <DCPType>
        <HTTP>
          <Post tal:attributes="onlineResource view/onlineresource" />
        </HTTP>
      </DCPType>
    </GetCapabilities>
    <DescribeFeatureType>
      <SchemaDescriptionLanguage>
        <XMLSCHEMA/>
        <SFE_XMLSCHEMA/>
      </SchemaDescriptionLanguage>
      <DCPType>
        <HTTP>
          <Get tal:attributes="onlineResource view/onlineresource" />
        </HTTP>
      </DCPType>
      <DCPType>
        <HTTP>
          <Post tal:attributes="onlineResource view/onlineresource" />
        </HTTP>
      </DCPType>
    </DescribeFeatureType>
    <GetFeature>
      <ResultFormat>
        <GML2/>
        <GML3/>
      </ResultFormat>
      <DCPType>
        <HTTP>
          <Get tal:attributes="onlineResource view/onlineresource" />
        </HTTP>
      </DCPType>
      <DCPType>
        <HTTP>
          <Post tal:attributes="onlineResource view/onlineresource" />
        </HTTP>
      </DCPType>
    </GetFeature>
  </Request>
</Capability>

<FeatureTypeList>
  <Operations>
    <Query/>
  </Operations>
  <tal:boucle tal:define="ftypes python:view.getFeaturetypesInfo()" tal:repeat="featuretype python:ftypes.keys()">
    <FeatureType>
      <Name tal:content="featuretype">Feature Type Name</Name>
      <Title/>
      <SRS tal:content="view/srs">SRS Name</SRS>
      <LatLongBoundingBox tal:define="bbox python:view.getTupleBoundingBoxFeatureType(featuretype)" tal:attributes="minx python:bbox[0];miny python:bbox[1];maxx python:bbox[2];maxy python:bbox[3]"/>
    </FeatureType>
  </tal:boucle>
</FeatureTypeList>

<ogc:Filter_Capabilities>
  <ogc:Spatial_Capabilities>
    <ogc:Spatial_Operators>
      <ogc:Intersect/>
      <ogc:DWithin/>
      <ogc:BBOX/>
    </ogc:Spatial_Operators>
  </ogc:Spatial_Capabilities>
  <ogc:Scalar_Capabilities>
    <ogc:Logical_Operators />
    <ogc:Comparison_Operators>
      <ogc:Simple_Comparisons />
      <ogc:Like />
      <ogc:Between />
    </ogc:Comparison_Operators>
  </ogc:Scalar_Capabilities>
</ogc:Filter_Capabilities>

</WFS_Capabilities>
