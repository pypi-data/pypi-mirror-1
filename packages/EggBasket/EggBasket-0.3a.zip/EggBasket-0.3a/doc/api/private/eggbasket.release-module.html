<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>eggbasket.release</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css"></link>
</head>
<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">

<!-- =========== START OF NAVBAR =========== -->
<table class="navbar" border="0" width="100%" cellpadding="0" bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="center">
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="eggbasket-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="trees.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="indices.html">Index</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar" align="right" width="100%">
      <table border="0" cellpadding="0" cellspacing="0">
      <tr><th class="navbar" align="center">
        <p class="nomargin">
          <a class="navbar" target="_top" href="http://chrisarndt.de/projects/eggbasket/">EggBasket</a>
      </p></th></tr></table>
    </th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <font size="-1"><b class="breadcrumbs">
        <a href="eggbasket-module.html">Package&nbsp;eggbasket</a> ::
        Module&nbsp;release
      </b></font></br>
    </td>
    <td><table cellpadding="0" cellspacing="0">
      <tr><td align="right"><font size="-2">[show&nbsp;private&nbsp;|&nbsp;<a href="../public/eggbasket.release-module.html">hide&nbsp;private</a>]</font></td></tr>
      <tr><td align="right"><font size="-2">[<a href="frames.html"target="_top">frames</a>&nbsp;|&nbsp;<a href="eggbasket.release-module.html" target="_top">no&nbsp;frames</a>]</font></td></tr>
    </table></td>
</tr></table>

<!-- =========== START OF MODULE DESCRIPTION =========== -->
<h2 class="module">Module eggbasket.release</h2>

<p>A simple, lightweight Python Package Index (aka Cheeseshop) clone.</p>
<div class="section">
<h1 class="heading"><a id="overview" name="overview">Overview</a></h1>
<p><a class="rst-reference" href="http://chrisarndt.de/projects/eggbasket/">EggBasket</a> is a web application which provides a service similar and compatible
to the <a class="rst-reference" href="http://cheeseshop.python.org/pypi/">Python Package Index</a> (aka Cheeseshop). It allows you to maintain your
own local repository of Python packages required by your installations.</p>
<p>It is implemented using the <a class="rst-reference" href="http://www.turbogears.org/">TurboGears</a> web framework, <a class="rst-reference" href="http://genshi.edgewall.org/">Genshi</a> and <a class="rst-reference" href="http://www.sqlalchemy.org/">SQLAlchemy</a>.</p>
<div class="warning">
<p class="first admonition-title">Warning</p>
<p class="last">This is still alpha-stage software. All the basic operations necessary
to support a setuptools-based infrastructure are there, but some
convenience features are missing and the software has not been tested
extensively. <strong>Use at your own risk!</strong></p>
</div>
</div>
<div class="section">
<h1 class="heading"><a id="features" name="features">Features</a></h1>
<ul>
<li><p class="first">Can be used by setuptools/easy_install as the package index and repository.</p>
</li>
<li><p class="first">Supports distutils <tt class="docutils literal"><span class="pre">upload</span></tt> protocol.</p>
</li>
<li><p class="first">Has simple role-based permission system to restrict package uploads (but see
TODO).</p>
</li>
<li><p class="first">Requires only SQLite database (included with Python 2.5).</p>
</li>
<li><p class="first">Is able to read and display meta data from the following distribution package
formats (source and binary):</p>
<p><tt class="docutils literal"><span class="pre">.egg</span></tt>, <tt class="docutils literal"><span class="pre">.tar</span></tt>, <tt class="docutils literal"><span class="pre">.tar.bz2</span></tt>, <tt class="docutils literal"><span class="pre">.tar.gz</span></tt>, <tt class="docutils literal"><span class="pre">.tgz</span></tt>, <tt class="docutils literal"><span class="pre">.zip</span></tt></p>
</li>
<li><p class="first">Any other file format can be configured to be listed under the distribution
files for a package (by default this includes <tt class="docutils literal"><span class="pre">.exe</span></tt> and <tt class="docutils literal"><span class="pre">.rpm</span></tt> and
<tt class="docutils literal"><span class="pre">.tar.Z</span></tt> files in addition to the filetypes listed above).</p>
</li>
<li><p class="first">Can be run without any configuration by just starting it from within a
directory containing package directories (see &quot;Usage&quot;).</p>
</li>
</ul>
</div>
<div class="section">
<h1 class="heading"><a id="todo" name="todo">Todo</a></h1>
<ul class="rst-simple">
<li>Improve permission system to allow closed-shop repositories on an open
network or uploading for anonymous users.</li>
<li>Add support for MD5 check sums and GPG signatures.</li>
<li>Add more error and sanity checks to the upload handling.</li>
<li>Add pagination to the main package list.</li>
<li>Support deletion of packages through web interface.</li>
<li>Cache package listings and meta data.</li>
<li>Add admin interface for adding users and groups and setting configuration
values (use dbspockets?).</li>
</ul>
</div>
<div class="section">
<h1 class="heading"><a id="acknowledgments" name="acknowledgments">Acknowledgments</a></h1>
<p>This application is a re-implementation (almost no shared code) of the
<a class="rst-reference" href="http://cheeseshop.python.org/pypi/haufe.eggserver">haufe.eggserver</a> Grok application with some improvements.</p>
</div>
<div class="section">
<h1 class="heading"><a id="installation" name="installation">Installation</a></h1>
<p>To install <a class="rst-reference" href="http://chrisarndt.de/projects/eggbasket/">EggBasket</a> from the <a class="rst-reference" href="http://cheeseshop.python.org/pypi/">Cheeseshop</a> use <a class="rst-reference" href="http://peak.telecommunity.com/DevCenter/EasyInstall">easy_install</a>:</p>
<pre class="literal-block">
[sudo] easy_install EggBasket
</pre>
<p>This requires the <a class="rst-reference" href="http://peak.telecommunity.com/DevCenter/setuptools">setuptools</a> package to be installed. If you have not done so
already, download the <a class="rst-reference" href="http://peak.telecommunity.com/dist/ez_setup.py">ez_setup.py</a> script and run it to install setuptools.</p>
</div>
<div class="section">
<h1 class="heading"><a id="usage" name="usage">Usage</a></h1>
<ul>
<li><p class="first">Your packages should all reside under a common root directory, with a
sub-directory for each package with the same base name as the distribution.
The sub-directories should each contain the egg files and source archives for
all available versions of the package. The package diretories will be created
by the application when using the upload command (see below).</p>
</li>
<li><p class="first">To start the application server, open a terminal, change to the directory
which contains the packages and then run:</p>
<pre class="literal-block">
eggbasket-server [&lt;config file&gt;]
</pre>
<p>You can also set the location of the package root directory in the
configuration with the <tt class="docutils literal"><span class="pre">eggbasket.package_root</span></tt> setting and start the
server anywheer you want.</p>
<p>If no configuration file is specified on the command line, the default
configuration file included in the egg will be used. The default
configuration file can also be found in the source distribution and be
adapted for your environment.</p>
<p>The server either needs write permissions to directory where it is started,
or you need to change the path to the database and the access log in the
configuration so they can be written by the server.</p>
</li>
<li><p class="first">To stop the server just hit Control-C in the terminal or kill the process.</p>
</li>
<li><p class="first">You can look at the package index with your web browser by opening the URL
<tt class="docutils literal"><span class="pre">http://localhost:3442/</span></tt>. The default port <tt class="docutils literal"><span class="pre">3442</span></tt> can be changed by
setting the <tt class="docutils literal"><span class="pre">server.socket_port</span></tt> option in the configuration file.</p>
</li>
<li><p class="first">You can instruct <a class="rst-reference" href="http://peak.telecommunity.com/DevCenter/EasyInstall">easy_install</a> to search &amp; download packages from your
package repository by specifying the URL to your server with the <tt class="docutils literal"><span class="pre">-i</span></tt>
option:</p>
<pre class="literal-block">
easy_install -i http://localhost:8080/ PACKAGE_NAME
</pre>
</li>
<li><p class="first">You can upload a package to your repository with the distutils <tt class="docutils literal"><span class="pre">upload</span></tt>
command, for example:</p>
<pre class="literal-block">
python setup.py bdist_egg upload -r http://localhost:3442/upload
</pre>
<p>This command will ask for your username and password on the server. You can
store these and the repository URL in your <tt class="docutils literal"><span class="pre">.pypirc</span></tt> file. See the
<a class="rst-reference" href="http://docs.python.org/dist/package-upload.html">distutils documentation</a> for more information.</p>
</li>
<li><p class="first">By default, uploading is restricted to users in a group that has the
<tt class="docutils literal"><span class="pre">upload</span></tt> permission. You can create an appropriate user, group and
permission in the database by giving the <tt class="docutils literal"><span class="pre">--init</span></tt> option to the
<tt class="docutils literal"><span class="pre">eggbasket-server</span></tt> command:</p>
<pre class="literal-block">
eggbasket-server --init [&lt;config file&gt;]
</pre>
<p>This will create a user with user_name/password &quot;admin&quot;, who belongs to the
group &quot;maintainer&quot;, which has the &quot;upload&quot; permission. The database to use
will be read from the config file.</p>
<p>See the TurboGears documentation on <a class="rst-reference" href="http://docs.turbogears.org/1.0/GettingStartedWithIdentity">Identity</a> for background information.</p>
</li>
<li><p class="first">Of course you can always just copy package distribution files manually in the
filesystem to your repository or upload them to the appropriate place with
<tt class="docutils literal"><span class="pre">scp</span></tt> etc. The application will find and list new files without the need to
&quot;register&quot; them as is necessary with the original PyPI.</p>
</li>
</ul>
</div>
<hr/>

<!-- =========== START OF NAVBAR =========== -->
<table class="navbar" border="0" width="100%" cellpadding="0" bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="center">
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="eggbasket-module.html">Home</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="trees.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="indices.html">Index</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar">&nbsp;&nbsp;&nbsp;<a class="navbar" href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>
    <th class="navbar" align="right" width="100%">
      <table border="0" cellpadding="0" cellspacing="0">
      <tr><th class="navbar" align="center">
        <p class="nomargin">
          <a class="navbar" target="_top" href="http://chrisarndt.de/projects/eggbasket/">EggBasket</a>
      </p></th></tr></table>
    </th>
  </tr>
</table>

<table border="0" cellpadding="0" cellspacing="0" width="100%">
  <tr>
    <td align="left"><font size="-2">Generated by Epydoc 2.1 on Thu Apr 10 17:21:32 2008</font></td>
    <td align="right"><a href="http://epydoc.sourceforge.net"
                      ><font size="-2">http://epydoc.sf.net</font></a></td>
  </tr>
</table>
</body>
</html>
