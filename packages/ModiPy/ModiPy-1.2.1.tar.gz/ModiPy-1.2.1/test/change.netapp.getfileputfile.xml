<!-- a test changeset for getting a file from a NetApp filer -->

<config xmlns:xi="http://www.w3.org/2001/XInclude">

<!-- include change templates I want to use -->
<!--
<xi:include href="../templates/netapp.zapi.get-file.template.xml"/>
-->

<!-- define my provisioner -->
<provisioner
  name='netapp_zapi_provisioner'
  module='modipy.netapp'
  type='ZAPIProvisioner'
  command_timeout='30'>
</provisioner>

<!-- define some devices I want to provision to -->
<device name='testfiler'>
  <ipaddress>siteA-fashda-01</ipaddress>
</device>

<!--
<change name="getfile" module='modipy.netapp' type="ZAPIChange">
  <target>testfiler</target>

  <impl>
    <getfile>
      <remotepath>/etc/hosts</remotepath>
      <localpath>%(device.name)s-etc-hosts</localpath>
    </getfile>
  </impl>

</change>
-->

<change name="putfile" module='modipy.netapp' type="ZAPIChange">
  <target>testfiler</target>

  <impl>
    <putfile>
      <localpath>jpw-testfile</localpath>
      <remotepath append='True'>/etc/jpwtest</remotepath>
    </putfile>
  </impl>

</change>

</config>