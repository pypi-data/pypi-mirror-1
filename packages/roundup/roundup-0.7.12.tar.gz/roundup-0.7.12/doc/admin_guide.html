<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.3.0: http://docutils.sourceforge.net/" />
<title>Administration Guide</title>
<link rel="stylesheet" href="default.css" type="text/css" />
</head>
<body>
<div class="document" id="administration-guide">
<h1 class="title">Administration Guide</h1>
<table class="docinfo" frame="void" rules="none">
<col class="docinfo-name" />
<col class="docinfo-content" />
<tbody valign="top">
<tr><th class="docinfo-name">Version:</th>
<td>$Revision$</td></tr>
</tbody>
</table>
<div class="contents topic" id="contents">
<p class="topic-title"><a name="contents">Contents</a></p>
<ul class="simple">
<li><a class="reference" href="#what-does-roundup-install" id="id1" name="id1">What does Roundup install?</a></li>
<li><a class="reference" href="#users-and-security" id="id2" name="id2">Users and Security</a></li>
<li><a class="reference" href="#tasks" id="id3" name="id3">Tasks</a><ul>
<li><a class="reference" href="#tracker-backup" id="id4" name="id4">Tracker Backup</a></li>
<li><a class="reference" href="#software-upgrade" id="id5" name="id5">Software Upgrade</a></li>
<li><a class="reference" href="#migrating-backends" id="id6" name="id6">Migrating Backends</a></li>
<li><a class="reference" href="#moving-a-tracker" id="id7" name="id7">Moving a Tracker</a></li>
</ul>
</li>
<li><a class="reference" href="#running-the-servers" id="id8" name="id8">Running the Servers</a><ul>
<li><a class="reference" href="#unix" id="id9" name="id9">Unix</a></li>
<li><a class="reference" href="#windows" id="id10" name="id10">Windows</a><ul>
<li><a class="reference" href="#running-the-mail-gateway-script" id="id11" name="id11">Running the Mail Gateway Script</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="what-does-roundup-install">
<h1><a class="toc-backref" href="#id1" name="what-does-roundup-install">What does Roundup install?</a></h1>
<p>There's two &quot;installations&quot; that we talk about when using Roundup:</p>
<ol class="arabic">
<li><p class="first">The installation of the software and its support files. This uses the
standard Python mechanism called &quot;distutils&quot; and thus Roundup's core code,
executable scripts and support data files are installed in Python's
directories. On Windows, this is typically:</p>
<dl>
<dt>Scripts</dt>
<dd><p class="first last"><tt class="literal"><span class="pre">&lt;python</span> <span class="pre">dir&gt;\scripts\...</span></tt></p>
</dd>
<dt>Core code</dt>
<dd><p class="first last"><tt class="literal"><span class="pre">&lt;python</span> <span class="pre">dir&gt;\lib\site-packages\roundup\...</span></tt></p>
</dd>
<dt>Support files</dt>
<dd><p class="first last"><tt class="literal"><span class="pre">&lt;python</span> <span class="pre">dir&gt;\share\roundup\...</span></tt></p>
</dd>
</dl>
<p>and on Unix-like systems (eg. Linux):</p>
<dl>
<dt>Scripts</dt>
<dd><p class="first last"><tt class="literal"><span class="pre">&lt;python</span> <span class="pre">root&gt;/bin/...</span></tt></p>
</dd>
<dt>Core code</dt>
<dd><p class="first last"><tt class="literal"><span class="pre">&lt;python</span> <span class="pre">root&gt;/lib-&lt;python</span> <span class="pre">version&gt;/site-packages/roundup/...</span></tt></p>
</dd>
<dt>Support files</dt>
<dd><p class="first last"><tt class="literal"><span class="pre">&lt;python</span> <span class="pre">root&gt;/share/roundup/...</span></tt></p>
</dd>
</dl>
</li>
<li><p class="first">The installation of a specific tracker. When invoking the roundup-admin
&quot;inst&quot; (and &quot;init&quot;) commands, you're creating a new Roundup tracker. This
installs configuration files, HTML templates, detector code and a new
database. You have complete control over where this stuff goes through
both choosing your &quot;tracker home&quot; and the DATABASE variable in
config.py.</p>
</li>
</ol>
</div>
<div class="section" id="users-and-security">
<h1><a class="toc-backref" href="#id2" name="users-and-security">Users and Security</a></h1>
<p>Roundup holds its own user database which primarily contains a username,
password and email address for the user. Roundup <em>must</em> have its own user
listing, in order to maintain internal consistency of its data. It is a
relatively simple exercise to update this listing on a regular basis, or on
demand, so that it matches an external listing (eg. unix passwd file, LDAP,
etc.)</p>
<p>Roundup identifies users in a number of ways:</p>
<ol class="arabic simple">
<li>Through the web, users may be identified by either HTTP Basic
Authentication or cookie authentication. If you are running the web
server (roundup-server) through another HTTP server (eg. apache or IIS)
then that server may require HTTP Basic Authentication, and it will pass
the <tt class="literal"><span class="pre">REMOTE_USER</span></tt> variable through to Roundup. If this variable is not
present, then Roundup defaults to using its own cookie-based login
mechanism.</li>
<li>In email messages handled by roundup-mailgw, users are identified by the
From address in the message.</li>
</ol>
<p>In both cases, Roundup's behaviour when dealing with unknown users is
controlled by Permissions defined in the &quot;SECURITY SETTINGS&quot; section of the
tracker's <tt class="literal"><span class="pre">dbinit.py</span></tt> module:</p>
<dl>
<dt>Web Registration</dt>
<dd>If granted to the Anonymous Role, then anonymous users will be able to
register through the web.</dd>
<dt>Email Registration</dt>
<dd>If granted to the Anonymous Role, then email messages from unknown users
will result in those users being registered with the tracker.</dd>
</dl>
<p>More information about how to customise your tracker's security settings
may be found in the <a class="reference" href="customizing.html">customisation documentation</a>.</p>
</div>
<div class="section" id="tasks">
<h1><a class="toc-backref" href="#id3" name="tasks">Tasks</a></h1>
<p>Maintenance of Roundup can involve one of the following:</p>
<ol class="arabic simple">
<li><a class="reference" href="#tracker-backup">tracker backup</a></li>
<li><a class="reference" href="#software-upgrade">software upgrade</a></li>
<li><a class="reference" href="#migrating-backends">migrating backends</a></li>
<li><a class="reference" href="#moving-a-tracker">moving a tracker</a></li>
</ol>
<div class="section" id="tracker-backup">
<h2><a class="toc-backref" href="#id4" name="tracker-backup">Tracker Backup</a></h2>
<p>Stop the web and email frontends and to copy the contents of the tracker home
directory to some other place using standard backup tools.</p>
</div>
<div class="section" id="software-upgrade">
<h2><a class="toc-backref" href="#id5" name="software-upgrade">Software Upgrade</a></h2>
<p>Always make a backup of your tracker before upgrading software. Steps you may
take:</p>
<ol class="arabic simple">
<li>ensure that the unit tests run on your system</li>
<li>copy your tracker home to a new directory</li>
<li>follow the steps in the upgrading documentation for the new version of
the software</li>
<li>test each of the admin tool, web interface and mail gateway using the new
version of the software</li>
<li>stop the production web and email frontends</li>
<li>perform the upgrade steps on the existing tracker directory</li>
<li>upgrade the software</li>
<li>restart your tracker</li>
</ol>
</div>
<div class="section" id="migrating-backends">
<h2><a class="toc-backref" href="#id6" name="migrating-backends">Migrating Backends</a></h2>
<ol class="arabic simple">
<li>stop the existing tracker web and email frontends (preventing changes)</li>
<li>use the roundup-admin tool &quot;export&quot; command to export the contents of
your tracker to disk</li>
<li>copy the tracker home to a new directory</li>
<li>change the backend used in the tracker home <tt class="literal"><span class="pre">select_db.py</span></tt> file</li>
<li>delete the &quot;db&quot; directory from the new directory</li>
<li>use the roundup-admin &quot;import&quot; command to import the previous export with
the new tracker home</li>
<li>test each of the admin tool, web interface and mail gateway using the new
backend</li>
<li>move the old tracker home out of the way (rename to &quot;tracker.old&quot;) and 
move the new tracker home into its place</li>
<li>restart web and email frontends</li>
</ol>
</div>
<div class="section" id="moving-a-tracker">
<h2><a class="toc-backref" href="#id7" name="moving-a-tracker">Moving a Tracker</a></h2>
<p>If you're moving the tracker to a similar machine, you should:</p>
<ol class="arabic simple">
<li>install Roundup on the new machine and test that it works there,</li>
<li>stop the existing tracker web and email frontends (preventing changes),</li>
<li>copy the tracker home directory over to the new machine, and</li>
<li>start the tracker web and email frontends on the new machine.</li>
</ol>
<p>Most of the backends are actually portable across platforms (ie. from Unix to
Windows to Mac). If this isn't the case (ie. the tracker doesn't work when
moved using the above steps) then you'll need to:</p>
<ol class="arabic simple">
<li>install Roundup on the new machine and test that it works there,</li>
<li>stop the existing tracker web and email frontends (preventing changes),</li>
<li>use the roundup-admin tool &quot;export&quot; command to export the contents of
the existing tracker,</li>
<li>copy the export to the new machine,</li>
<li>use the roundup-admin &quot;import&quot; command to import the tracker on the new
machine, and</li>
<li>start the tracker web and email frontends on the new machine.</li>
</ol>
</div>
</div>
<div class="section" id="running-the-servers">
<h1><a class="toc-backref" href="#id8" name="running-the-servers">Running the Servers</a></h1>
<div class="section" id="unix">
<h2><a class="toc-backref" href="#id9" name="unix">Unix</a></h2>
<p>On Unix systems, use the scripts/server-ctl script to control the
roundup-server server. Copy it somewhere and edit the variables at the top
to reflect your specific installation.</p>
</div>
<div class="section" id="windows">
<h2><a class="toc-backref" href="#id10" name="windows">Windows</a></h2>
<p>On Windows, the roundup-server program runs as a Windows Service, and 
therefore may be controlled through the Services control panel.</p>
<p>TODO: info how to bring up the services panel.</p>
<p>TODO: how to start the server in &quot;service&quot; mode.</p>
<p>On windows, use:</p>
<pre class="literal-block">
roundup-server -c stop
</pre>
<p>to stop the running server.</p>
<div class="section" id="running-the-mail-gateway-script">
<h3><a class="toc-backref" href="#id11" name="running-the-mail-gateway-script">Running the Mail Gateway Script</a></h3>
<p>The mail gateway script should be scheduled to run regularly on your
Windows server. Normally this will result in a window popping up. The
solution to this is to:</p>
<ol class="arabic simple">
<li>Create a new local account on the Roundup server</li>
<li>Set the scheduled task to run in the context of this user instead
of your normal login</li>
</ol>
<hr />
<p>Back to <a class="reference" href="index.html">Table of Contents</a></p>
</div>
</div>
</div>
</div>
<hr class="footer"/>
<div class="footer">
Generated on: 2004-06-08.
</div>
</body>
</html>
