<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.3.5: http://docutils.sourceforge.net/" />
<title>PostgreSQL/psycopg Backend</title>
<link rel="stylesheet" href="default.css" type="text/css" />
</head>
<body>
<h1 class="title">PostgreSQL/psycopg Backend</h1>
<div class="document" id="postgresql-psycopg-backend">
<p>This are notes about PostqreSQL backend based on the psycopg adapter for
Roundup issue tracker.</p>
<div class="section" id="prerequisites">
<h1><a name="prerequisites">Prerequisites</a></h1>
<p>To use PostgreSQL as backend for storing roundup data, you should
additionally install:</p>
<ol class="arabic simple">
<li>PostgreSQL 7.x - <a class="reference" href="http://www.postgresql.org/">http://www.postgresql.org/</a></li>
<li>The psycopg python interface to PostgreSQL:
<a class="reference" href="http://initd.org/software/initd/psycopg">http://initd.org/software/initd/psycopg</a></li>
</ol>
</div>
<div class="section" id="running-the-postgresql-unit-tests">
<h1><a name="running-the-postgresql-unit-tests">Running the PostgreSQL unit tests</a></h1>
<p>The user that you're running the tests as will need to be able to access
the postgresql database on the local machine and create and drop
databases. Edit the <tt class="literal"><span class="pre">test/test_postgresql.py</span></tt> database connection info if
you wish to test against a different database.</p>
<p>The test database will be called &quot;rounduptest&quot;.</p>
</div>
<div class="section" id="using-the-tsearch2-indexer">
<h1><a name="using-the-tsearch2-indexer">Using the tsearch2 indexer</a></h1>
<p>You have the option of using a different indexer for full-text searches. It is
based on <a class="reference" href="http://www.sai.msu.su/~megera/postgres/gist/tsearch/V2/">tsearch2</a>, a module for PostgreSQL 7.3 and above. It is faster and
more scalable than the standard indexer. The tsearch2 indexer is a good choice
if you have over a 1000 issues in one tracker.</p>
<div class="section" id="installation">
<h2><a name="installation">Installation</a></h2>
<p>tsearch2 is available from the contrib subtree of the PostgreSQL source tree
starting with PostgreSQL 7.4. This means installing tsearch2 on Debian is
simple:</p>
<pre class="literal-block">
apt-get install postgresql-contrib
</pre>
<p>FreeBSD is equally simple:</p>
<pre class="literal-block">
pkg_add -r postgresql-contrib
</pre>
<p>RPM packages for Fedora Core are available from all PostgreSQL ftp <a class="reference" href="http://www.postgresql.org/download/mirrors-ftp">mirrors</a>.
Packages for Suse, Mandrake and others are available from those distributors.</p>
<p>If you're compiling from source, I'm assuming you already know how to build and
install the main PostgreSQL source. Once you've done that, running the
following commands in the 'contrib' directory will build and install tsearch2:</p>
<pre class="literal-block">
make all
make install
</pre>
</div>
<div class="section" id="configuring-roundup">
<h2><a name="configuring-roundup">Configuring Roundup</a></h2>
<p>Roundup implements tsearch2 as a distinct backend from the postgresql backend.
Switching to tsearch2 is the same process as <a class="reference" href="admin_guide.html#migrating-backends">migrating to any other backend</a>.</p>
</div>
</div>
<div class="section" id="credit">
<h1><a name="credit">Credit</a></h1>
<p>The postgresql backend was originally submitted by Federico Di Gregorio
&lt;<a class="reference" href="mailto:fog&#64;initd.org">fog&#64;initd.org</a>&gt;</p>
</div>
</div>
<hr class="footer" />
<div class="footer">
Generated on: 2005-03-03.
</div>
</body>
</html>
