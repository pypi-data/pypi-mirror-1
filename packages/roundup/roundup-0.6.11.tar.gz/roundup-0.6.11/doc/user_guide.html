<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.2.9: http://docutils.sourceforge.net/" />
<title>User Guide</title>
<link rel="stylesheet" href="default.css" type="text/css" />
</head>
<body>
<div class="document" id="user-guide">
<h1 class="title">User Guide</h1>
<table class="docinfo" frame="void" rules="none">
<col class="docinfo-name" />
<col class="docinfo-content" />
<tbody valign="top">
<tr><th class="docinfo-name">Version:</th>
<td>$Revision$</td></tr>
</tbody>
</table>
<div class="contents topic" id="contents">
<p class="topic-title"><a name="contents">Contents</a></p>
<ul class="simple">
<li><a class="reference" href="#your-tracker-in-a-nutshell" id="id1" name="id1">Your Tracker in a Nutshell</a><ul>
<li><a class="reference" href="#accessing-the-tracker" id="id2" name="id2">Accessing the Tracker</a></li>
<li><a class="reference" href="#issue-life-cycles-in-roundup" id="id3" name="id3">Issue life cycles in Roundup</a></li>
<li><a class="reference" href="#entering-values-in-your-tracker" id="id4" name="id4">Entering values in your Tracker</a><ul>
<li><a class="reference" href="#string-and-numeric-properties" id="id5" name="id5">String and Numeric properties</a></li>
<li><a class="reference" href="#boolean-properties" id="id6" name="id6">Boolean properties</a></li>
<li><a class="reference" href="#constrained-link-and-multilink-properties" id="id7" name="id7">Constrained (link and multilink) properties</a></li>
<li><a class="reference" href="#date-properties" id="id8" name="id8">Date properties</a></li>
<li><a class="reference" href="#interval-properties" id="id9" name="id9">Interval properties</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference" href="#web-interface" id="id10" name="id10">Web Interface</a><ul>
<li><a class="reference" href="#lists-of-items" id="id11" name="id11">Lists of Items</a></li>
<li><a class="reference" href="#display-edit-or-entry-of-an-item" id="id12" name="id12">Display, edit or entry of an item</a></li>
<li><a class="reference" href="#searching-page" id="id13" name="id13">Searching Page</a><ul>
<li><a class="reference" href="#under-the-covers" id="id14" name="id14">Under the covers</a></li>
</ul>
</li>
<li><a class="reference" href="#access-controls" id="id15" name="id15">Access Controls</a></li>
</ul>
</li>
<li><a class="reference" href="#e-mail-gateway" id="id16" name="id16">E-Mail Gateway</a><ul>
<li><a class="reference" href="#subject-line-information" id="id17" name="id17">Subject-line information</a><ul>
<li><a class="reference" href="#setting-properties" id="id18" name="id18">Setting Properties</a></li>
<li><a class="reference" href="#automatic-properties" id="id19" name="id19">Automatic Properties</a></li>
</ul>
</li>
<li><a class="reference" href="#sender-identification" id="id20" name="id20">Sender identification</a></li>
<li><a class="reference" href="#e-mail-message-content" id="id21" name="id21">E-Mail Message Content</a><ul>
<li><a class="reference" href="#message-summary" id="id22" name="id22">Message summary</a></li>
</ul>
</li>
<li><a class="reference" href="#address-handling" id="id23" name="id23">Address handling</a><ul>
<li><a class="reference" href="#nosy-list" id="id24" name="id24">Nosy List</a></li>
</ul>
</li>
<li><a class="reference" href="#mail-gateway-script-command-line" id="id25" name="id25">Mail gateway script command line</a></li>
</ul>
</li>
<li><a class="reference" href="#command-line-tool" id="id26" name="id26">Command Line Tool</a><ul>
<li><a class="reference" href="#using-with-the-shell" id="id27" name="id27">Using with the shell</a></li>
</ul>
</li>
</ul>
</div>
<p>Note: this document will refer to <em>issues</em> as the primary store of
information in the tracker. This is the default of the classic template,
but may vary in any given installation.</p>
<div class="section" id="your-tracker-in-a-nutshell">
<h1><a class="toc-backref" href="#id1" name="your-tracker-in-a-nutshell">Your Tracker in a Nutshell</a></h1>
<p>Your tracker holds information about issues in bundles we call <em>items</em>.
An item may be an <em>issue</em> (a bug or feature request) or a <em>user</em>. The
issue-ness or user-ness is called the item's <em>class</em>. So, for bug
reports and features, the class is &quot;issue&quot;, and for users the class is
&quot;user&quot;.</p>
<p>Each item in the tracker has an id number that identifies it along with
its item class. To identify a particular issue or user, we combine the
class with the number to create a unique label, so that user 1 (who,
incidentally, is <em>always</em> the &quot;admin&quot; user) is referred to as &quot;user1&quot;.
Issue number 315 is referred to as &quot;issue315&quot;. We call that label the
item's <em>designator</em>.</p>
<div class="section" id="accessing-the-tracker">
<h2><a class="toc-backref" href="#id2" name="accessing-the-tracker">Accessing the Tracker</a></h2>
<p>You may access your tracker through one of three ways:</p>
<ol class="arabic simple">
<li>through the <a class="reference" href="#web-interface">web interface</a>,</li>
<li>through the <a class="reference" href="#e-mail-gateway">e-mail gateway</a>, or</li>
<li>using the <a class="reference" href="#command-line-tool">command line tool</a>.</li>
</ol>
<p>The last is usually only used by administrators. Most users will use the
web and email interfaces. All three are explained below.</p>
</div>
<div class="section" id="issue-life-cycles-in-roundup">
<h2><a class="toc-backref" href="#id3" name="issue-life-cycles-in-roundup">Issue life cycles in Roundup</a></h2>
<p>New issues may be submitted via the web or email.</p>
<p>By default, the issue will have the status &quot;unread&quot;. If another message
is received for the issue, its status will change to &quot;chatting&quot;.</p>
<p>The &quot;home&quot; page for a tracker will generally display all issues which
are not &quot;resolved.</p>
<p>If an issue is closed, and a new message is received then it'll be
reopened to the state of &quot;chatting&quot;.</p>
</div>
<div class="section" id="entering-values-in-your-tracker">
<h2><a class="toc-backref" href="#id4" name="entering-values-in-your-tracker">Entering values in your Tracker</a></h2>
<p>All interfaces to your tracker use the same format for entering values.
This means the web interface for entering a new issue, the web interface
for searching issues, the email interface and even the command-line
administration tool.</p>
<div class="section" id="string-and-numeric-properties">
<h3><a class="toc-backref" href="#id5" name="string-and-numeric-properties">String and Numeric properties</a></h3>
<p>These fields just take a simple text value, like <tt class="literal"><span class="pre">It's</span> <span class="pre">broken</span></tt>.</p>
</div>
<div class="section" id="boolean-properties">
<h3><a class="toc-backref" href="#id6" name="boolean-properties">Boolean properties</a></h3>
<p>These fields take a value which indicates &quot;yes&quot;/&quot;no&quot;, &quot;true&quot;/&quot;false&quot;,
&quot;1&quot;/&quot;0&quot; or &quot;on&quot;/&quot;off&quot;.</p>
</div>
<div class="section" id="constrained-link-and-multilink-properties">
<h3><a class="toc-backref" href="#id7" name="constrained-link-and-multilink-properties">Constrained (link and multilink) properties</a></h3>
<p>Fields like &quot;Assigned To&quot; and &quot;Topics&quot; hold references to items in other
classes (&quot;user&quot; and &quot;keyword&quot; in those two cases.)</p>
<p>Sometimes, the selection is done through a menu, like in the &quot;Assigned
To&quot; field.</p>
<p>Where the input is not a simple menu selection, we use a comma-separated
list of values to indicated which values of &quot;user&quot; or &quot;keyword&quot; are
interesting. The values may be either numeric ids or the names of items.
The special value &quot;-1&quot; may be used to match items where the property is
not set. For example, the following searches on the issues:</p>
<dl>
<dt><tt class="literal"><span class="pre">assignedto=richard,george</span></tt></dt>
<dd>match issues which are assigned to richard or george.</dd>
<dt><tt class="literal"><span class="pre">assignedto=-1</span></tt></dt>
<dd>match issues that are not assigned to a user.</dd>
<dt><tt class="literal"><span class="pre">assignedto=2,3,40</span></tt></dt>
<dd>match issues that are assigned to users 2, 3 or 40.</dd>
<dt><tt class="literal"><span class="pre">topic=user</span> <span class="pre">interface</span></tt></dt>
<dd>match issues with the keyword &quot;user interface&quot; in their topic list</dd>
<dt><tt class="literal"><span class="pre">topic=web</span> <span class="pre">interface,email</span> <span class="pre">interface</span></tt></dt>
<dd>match issues with the keyword &quot;web interface&quot; or &quot;email interface&quot; in
their topic list</dd>
<dt><tt class="literal"><span class="pre">topic=-1</span></tt></dt>
<dd>match issues with no topics set</dd>
</dl>
</div>
<div class="section" id="date-properties">
<h3><a class="toc-backref" href="#id8" name="date-properties">Date properties</a></h3>
<p>Some fields in the search page (e.g. &quot;Activity&quot; or &quot;Creation date&quot;) hold
dates.  A plain date entered as a search field will match that date
exactly in the database.  We may also accept ranges of dates. You can
specify range of dates in one of two formats:</p>
<ol class="arabic">
<li><p class="first">English syntax:</p>
<pre class="literal-block">
[From &lt;value&gt;][To &lt;value&gt;]
</pre>
<p>Keywords &quot;From&quot; and &quot;To&quot; are case insensitive. Keyword &quot;From&quot; is
optional.</p>
</li>
<li><p class="first">&quot;Geek&quot; syntax:</p>
<pre class="literal-block">
[&lt;value&gt;];[&lt;value&gt;]
</pre>
</li>
</ol>
<p>Either first or second <tt class="literal"><span class="pre">&lt;value&gt;</span></tt> can be omitted in both syntaxes.</p>
<p>For example, if you enter string &quot;from 9:00&quot; to &quot;Creation date&quot; field,
roundup will find  all issues, that were created today since 9 AM.</p>
<p>Searching of &quot;-2m; -1m&quot; on activity field gives you issues which were
active between period of time since 2 months up-till month ago.</p>
<p>Other possible examples (consider local time is Sat Mar  8 22:07:48
2003):</p>
<pre class="literal-block">
&gt;&gt;&gt; Range(&quot;from 2-12 to 4-2&quot;)
&lt;Range from 2003-02-12.00:00:00 to 2003-04-02.00:00:00&gt;

&gt;&gt;&gt; Range(&quot;FROM 18:00 TO +2m&quot;)
&lt;Range from 2003-03-08.18:00:00 to 2003-05-08.20:07:48&gt;

&gt;&gt;&gt; Range(&quot;12:00;&quot;)
&lt;Range from 2003-03-08.12:00:00 to None&gt;

&gt;&gt;&gt; Range(&quot;tO +3d&quot;)
&lt;Range from None to 2003-03-11.20:07:48&gt;

&gt;&gt;&gt; Range(&quot;2002-11-10; 2002-12-12&quot;)
&lt;Range from 2002-11-10.00:00:00 to 2002-12-12.00:00:00&gt;

&gt;&gt;&gt; Range(&quot;; 20:00 +1d&quot;)
&lt;Range from None to 2003-03-09.20:00:00&gt;

&gt;&gt;&gt; Range(&quot;2003&quot;)
&lt;Range from 2003-01-01.00:00:00 to 2003-12-31.23:59:59&gt;

&gt;&gt;&gt; Range(&quot;2003-04&quot;)
&lt;Range from 2003-04-01.00:00:00 to 2003-04-30.23:59:59&gt;
</pre>
</div>
<div class="section" id="interval-properties">
<h3><a class="toc-backref" href="#id9" name="interval-properties">Interval properties</a></h3>
<p>XXX explain...</p>
<p>When searching on interval properties use the same syntax as for dates.</p>
</div>
</div>
</div>
<div class="section" id="web-interface">
<h1><a class="toc-backref" href="#id10" name="web-interface">Web Interface</a></h1>
<p>Note: this document contains screenshots of the default look and feel.
Your site may have a slightly (or very) different look, but the
functionality will be very similar, and the concepts still hold.</p>
<p>The web interface is broken up into the following parts:</p>
<ol class="arabic simple">
<li><a class="reference" href="#lists-of-items">lists of items</a>,</li>
<li><a class="reference" href="#display-edit-or-entry-of-an-item">display, edit or entry of an item</a>, and</li>
<li><a class="reference" href="#searching-page">searching page</a>.</li>
</ol>
<div class="section" id="lists-of-items">
<h2><a class="toc-backref" href="#id11" name="lists-of-items">Lists of Items</a></h2>
<p>The first thing you'll see when you log into Roundup will be a list of
open (ie. not resolved) issues. This list has been generated by a bunch
of controls <a class="reference" href="#under-the-covers">under the covers</a> but for now, you can see something like:</p>
<!-- img: images/index_logged_out.png -->
<p>The screen is divided up into three sections:</p>
<!-- img: images/page_layout.png -->
<p>you may either register or log in. Registration takes you to:</p>
<!-- img: images/registration.png -->
<p>Once you're logged in, the screen changes slightly to:</p>
<!-- img: images/index_logged_in.png -->
<p>Note that the sidebar menu has changed slightly, so you can now get to
your &quot;My Details&quot; page:</p>
<!-- img: images/my_details.png -->
<p>Note the new information on this page - the history.</p>
</div>
<div class="section" id="display-edit-or-entry-of-an-item">
<h2><a class="toc-backref" href="#id12" name="display-edit-or-entry-of-an-item">Display, edit or entry of an item</a></h2>
<p>Create a new issue with &quot;create new&quot; under the issue subheading. This
will take you to:</p>
<!-- img: images/new_issue.png -->
<p>The <a class="reference" href="#nosy-list">nosy list</a> is explained below. Enter some information and click
&quot;submit new entry&quot; and you'll be rewarded with:</p>
<!-- img: images/new_issue_created.png -->
<p>or, if you don't enter all the required information (or some other error
occurs) you'll get something like:</p>
<!-- img: images/new_issue_error.png -->
</div>
<div class="section" id="searching-page">
<h2><a class="toc-backref" href="#id13" name="searching-page">Searching Page</a></h2>
<p>See <a class="reference" href="#entering-values-in-your-tracker">entering values in your tracker</a> for an explanation of what you
may type into the search form.</p>
<div class="section" id="under-the-covers">
<h3><a class="toc-backref" href="#id14" name="under-the-covers">Under the covers</a></h3>
<p>The searching page converts your selections into the following
arguments:</p>
<table class="table" frame="border" rules="all">
<colgroup>
<col width="14%" />
<col width="86%" />
</colgroup>
<thead valign="bottom">
<tr><th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>:sort</td>
<td>sort by prop name, optionally preceeded with '-' to give
descending or nothing for ascending sorting.</td>
</tr>
<tr><td>:group</td>
<td>group by prop name, optionally preceeded with '-' or to sort
in descending or nothing for ascending order.</td>
</tr>
<tr><td>:filter</td>
<td>selects which props should be displayed in the filter
section. Default is all.</td>
</tr>
<tr><td>:columns</td>
<td>selects the columns that should be displayed. Default is
all.</td>
</tr>
<tr><td>propname</td>
<td>selects the values the item properties given by propname must
have (very basic search/filter).</td>
</tr>
</tbody>
</table>
<p>You may manually write URLS that contain these arguments, like so
(whitespace has been added for clarity):</p>
<pre class="literal-block">
/issue?status=unread,in-progress,resolved&amp;
    topic=security,ui&amp;
    :group=priority&amp;
    :sort=-activity&amp;
    :filters=status,topic&amp;
    :columns=title,status,fixer
</pre>
</div>
</div>
<div class="section" id="access-controls">
<h2><a class="toc-backref" href="#id15" name="access-controls">Access Controls</a></h2>
<p>User access is controlled through Permissions. These are are grouped
into Roles, and users have a comma-separated list of Roles assigned to
them.</p>
<p>Permissions divide access controls up into answering questions like:</p>
<ul class="simple">
<li>may the user edit issues (&quot;Edit&quot;, &quot;issue&quot;)</li>
<li>is the user allowed to use the web interface (&quot;Web Access&quot;)</li>
<li>may the user edit other user's Roles through the web (&quot;Web Roles&quot;)</li>
</ul>
<p>Any number of new Permissions and Roles may be created as described in
the customisation documentation. Examples of new access controls are:</p>
<ul class="simple">
<li>only managers may sign off issues as complete</li>
<li>don't give users who register through email web access</li>
<li>let some users edit the details of all users</li>
</ul>
</div>
</div>
<div class="section" id="e-mail-gateway">
<h1><a class="toc-backref" href="#id16" name="e-mail-gateway">E-Mail Gateway</a></h1>
<p>E-mail sent to Roundup is examined for several pieces of information:</p>
<ol class="arabic simple">
<li><a class="reference" href="#subject-line-information">subject-line information</a> identifying the purpose of the e-mail</li>
<li><a class="reference" href="#sender-identification">sender identification</a> using the sender of the message</li>
<li><a class="reference" href="#e-mail-message-content">e-mail message content</a> which is to be extracted</li>
<li>e-mail attachments which should be associated with the message</li>
</ol>
<div class="section" id="subject-line-information">
<h2><a class="toc-backref" href="#id17" name="subject-line-information">Subject-line information</a></h2>
<p>The subject line of the incoming message is examined to find one of:</p>
<ol class="arabic simple">
<li>the item that the message is responding to,</li>
<li>the type of item the message should create, or</li>
<li>we default the item class and try some trickiness</li>
</ol>
<p>If the subject line contains a prefix in <tt class="literal"><span class="pre">[square</span> <span class="pre">brackets]</span></tt> then
we're looking at case 1 or 2 above. Note that any &quot;re:&quot; or &quot;fwd:&quot;
prefixes are stripped off the subject line before we start looking for
real information.</p>
<p>If an item designator (class name and id number, for example
<tt class="literal"><span class="pre">issue123</span></tt>) is found there, a new &quot;msg&quot; item is added to the
&quot;messages&quot; property for that item, and any new &quot;file&quot; items are added to
the &quot;files&quot; property for the item.</p>
<p>If just an item class name is found there, we attempt to create a new
item of that class with its &quot;messages&quot; property initialized to contain
the new &quot;msg&quot; item and its &quot;files&quot; property initialized to contain any
new &quot;file&quot; items.</p>
<p>The third case above - where no <tt class="literal"><span class="pre">[information]</span></tt> is provided, the
tracker's <tt class="literal"><span class="pre">MAIL_DEFAULT_CLASS</span></tt> configuration variable defines what
class of item the message relates to. We try to match the subject line
to an existing item of the default class, and if there's a match, the
message is related to that matched item. If not, then a new item of the
default class is created.</p>
<div class="section" id="setting-properties">
<h3><a class="toc-backref" href="#id18" name="setting-properties">Setting Properties</a></h3>
<p>The e-mail interface also provides a simple way to set properties on
items. At the end of the subject line, propname=value pairs can be
specified in square brackets, using the same conventions as for the
roundup set shell command.</p>
<p>For example,</p>
<ul>
<li><p class="first">setting the priority of an issue:</p>
<pre class="literal-block">
Subject: Re: [issue1] the coffee machine is broken! [priority=urgent]
</pre>
</li>
<li><p class="first">adding yourself to a nosy list:</p>
<pre class="literal-block">
Subject: Re: [issue2] we're out of widgets [nosy=+richard]
</pre>
</li>
<li><p class="first">setting the nosy list to just you and cliff:</p>
<pre class="literal-block">
Subject: Re: [issue2] we're out of widgets [nosy=richard,cliff]
</pre>
</li>
<li><p class="first">removing yourself from a nosy list and setting the priority:</p>
<pre class="literal-block">
Subject: Re: [issue2] we're out of widgets [nosy=-richard;priority=bug]
</pre>
</li>
</ul>
<p>In all cases, the message relates to issue 2. The <tt class="literal"><span class="pre">Re:</span></tt> prefix is
stripped off.</p>
</div>
<div class="section" id="automatic-properties">
<h3><a class="toc-backref" href="#id19" name="automatic-properties">Automatic Properties</a></h3>
<dl>
<dt><strong>status of new issues</strong></dt>
<dd>When a new message is received that is not identified as being related
to an existing issue, it creates a new issue. The status of the new
issue is defaulted to &quot;unread&quot;.</dd>
<dt><strong>reopening of resolved issues</strong></dt>
<dd>When a message is is received for a resolved issue, the issue status is
automatically reset to &quot;chatting&quot; to indicate new information has been
received.</dd>
</dl>
</div>
</div>
<div class="section" id="sender-identification">
<h2><a class="toc-backref" href="#id20" name="sender-identification">Sender identification</a></h2>
<p>If the sender of an email is unknown to Roundup (looking up both user
primary email addresses and their alternate addresses) then a new user
will be created. The new user will have their username set to the &quot;user&quot;
part of &quot;<a class="reference" href="mailto:user&#64;domain">user&#64;domain</a>&quot; in their email address. Their password will be
completely randomised, and they'll have to visit the web interface to
have it changed. Note that some sites don't allow web access by users
who register via email like this.</p>
</div>
<div class="section" id="e-mail-message-content">
<h2><a class="toc-backref" href="#id21" name="e-mail-message-content">E-Mail Message Content</a></h2>
<p>Roundup only associates plain text (MIME type <tt class="literal"><span class="pre">text/plain</span></tt>) as
messages for items. Any other parts of a message are associated as
downloadable files. If no plain text part is found, the message is
rejected.</p>
<p>To do this, incoming messages are examined for multiple parts:</p>
<ul class="simple">
<li>In a multipart/mixed message or part, each subpart is extracted and
examined. The text/plain subparts are assembled to form the textual
body of the message, to be stored in the file associated with a &quot;msg&quot;
class item. Any parts of other types are each stored in separate files
and given &quot;file&quot; class items that are linked to the &quot;msg&quot; item.</li>
<li>In a multipart/alternative message or part, we look for a text/plain
subpart and ignore the other parts.</li>
</ul>
<p>If the message is a response to a previous message, and contains quoted
sections, then these will be stripped out of the message if the
<tt class="literal"><span class="pre">EMAIL_KEEP_QUOTED_TEXT</span></tt> configuration variable is set to <tt class="literal"><span class="pre">'no'</span></tt>.</p>
<div class="section" id="message-summary">
<h3><a class="toc-backref" href="#id22" name="message-summary">Message summary</a></h3>
<p>The &quot;summary&quot; property on message items is taken from the first
non-quoting section in the message body. The message body is divided
into sections by blank lines. Sections where the second and all
subsequent lines begin with a &quot;&gt;&quot; or &quot;|&quot; character are considered
&quot;quoting sections&quot;. The first line of the first non-quoting section
becomes the summary of the message.</p>
</div>
</div>
<div class="section" id="address-handling">
<h2><a class="toc-backref" href="#id23" name="address-handling">Address handling</a></h2>
<p>All of the addresses in the <tt class="literal"><span class="pre">To:</span></tt> and <tt class="literal"><span class="pre">Cc:</span></tt> headers of the incoming
message are looked up among the tracker users, and the corresponding
users are placed in the &quot;recipients&quot; property on the new &quot;msg&quot; item. The
address in the <tt class="literal"><span class="pre">From:</span></tt> header similarly determines the &quot;author&quot;
property of the new &quot;msg&quot; item. The default handling for addresses that
don't have corresponding users is to create new users with no passwords
and a username equal to the address.</p>
<p>The addresses mentioned in the <tt class="literal"><span class="pre">To:</span></tt>, <tt class="literal"><span class="pre">From:</span></tt> and <tt class="literal"><span class="pre">Cc:</span></tt> headers of
the message may be added to the <a class="reference" href="#nosy-list">nosy list</a> depending on:</p>
<dl>
<dt><tt class="literal"><span class="pre">ADD_AUTHOR_TO_NOSY</span></tt></dt>
<dd>Does the author of a message get placed on the nosy list automatically?
If 'new' is used, then the author will only be added when a message
creates a new issue. If 'yes', then the author will be added on
followups too. If 'no', they're never added to the nosy.</dd>
<dt><tt class="literal"><span class="pre">ADD_RECIPIENTS_TO_NOSY</span></tt></dt>
<dd>Do the recipients (To:, Cc:) of a message get placed on the nosy list?
If 'new' is used, then the recipients will only be added when a message
creates a new issue. If 'yes', then the recipients will be added on
followups too. If 'no', they're never added to the nosy.</dd>
</dl>
<div class="section" id="nosy-list">
<h3><a class="toc-backref" href="#id24" name="nosy-list">Nosy List</a></h3>
<p>Roundup watches for additions to the &quot;messages&quot; property of items.</p>
<p>When a new message is added, it is sent to all the users on the &quot;nosy&quot;
list for the item that are not already on the &quot;recipients&quot; list of the
message. Those users are then appended to the &quot;recipients&quot; property on
the message, so multiple copies of a message are never sent to the same
user. The journal recorded by the hyperdatabase on the &quot;recipients&quot;
property then provides a log of when the message was sent to whom.</p>
<p>If the author of the message is also in the nosy list for the item that
the message is attached to, then the config var <tt class="literal"><span class="pre">MESSAGES_TO_AUTHOR</span></tt>
is queried to determine if they get a nosy list copy of the message too.</p>
</div>
</div>
<div class="section" id="mail-gateway-script-command-line">
<h2><a class="toc-backref" href="#id25" name="mail-gateway-script-command-line">Mail gateway script command line</a></h2>
<p>The roundup mail gateway may be called in one of three ways:</p>
<blockquote>
<ul class="simple">
<li>with an instance home as the only argument,</li>
<li>with both an instance home and a mail spool file, or</li>
<li>with both an instance home and a pop server account.</li>
</ul>
</blockquote>
<p>It also supports optional -C and -S arguments that allows you to set a
fields for a class created by the roundup-mailgw. The default class if
not specified is msg, but the other classes: issue, file, user can also
be used. The -S or --set options uses the same
property=value[;property=value] notation accepted by the command line
roundup command or the commands that can be given on the Subject line of
an email message.</p>
<p>It can let you set the type of the message on a per email address basis.</p>
<dl>
<dt>PIPE:</dt>
<dd>In the first case, the mail gateway reads a single message from the
standard input and submits the message to the roundup.mailgw module.</dd>
<dt>UNIX mailbox:</dt>
<dd><p class="first">In the second case, the gateway reads all messages from the mail spool
file and submits each in turn to the roundup.mailgw module. The file is
emptied once all messages have been successfully handled. The file is
specified as:</p>
<pre class="last literal-block">
mailbox /path/to/mailbox
</pre>
</dd>
<dt>POP:</dt>
<dd><p class="first">In the third case, the gateway reads all messages from the POP server
specified and submits each in turn to the roundup.mailgw module. The
server is specified as:</p>
<pre class="literal-block">
pop username:password&#64;server
</pre>
<p>The username and password may be omitted:</p>
<pre class="literal-block">
pop username&#64;server
pop server
</pre>
<p class="last">are both valid. The username and/or password will be prompted for if
not supplied on the command-line.</p>
</dd>
<dt>APOP:</dt>
<dd><p class="first">Same as POP, but using Authenticated POP:</p>
<pre class="last literal-block">
apop username:password&#64;server
</pre>
</dd>
</dl>
</div>
</div>
<div class="section" id="command-line-tool">
<h1><a class="toc-backref" href="#id26" name="command-line-tool">Command Line Tool</a></h1>
<p>The basic usage is:</p>
<pre class="literal-block">
Usage: roundup-admin [options] [&lt;command&gt; &lt;arguments&gt;]

Options:
 -i instance home  -- specify the issue tracker &quot;home directory&quot; to administer
 -u                -- the user[:password] to use for commands
 -d                -- print full designators not just class id numbers
 -c                -- when outputting lists of data, comma-separate them.
              Same as '-S &quot;,&quot;'.
 -S &lt;string&gt;       -- when outputting lists of data, string-separate them
 -s                -- when outputting lists of data, space-separate them.
              Same as '-S &quot; &quot;'.

 Only one of -s, -c or -S can be specified.

Help:
 roundup-admin -h
 roundup-admin help                       -- this help
 roundup-admin help &lt;command&gt;             -- command-specific help
 roundup-admin help all                   -- all available help

Commands: 
 commit
 create classname property=value ...
 display designator[,designator]*
 export [class[,class]] export_dir
 find classname propname=value ...
 get property designator[,designator]*
 help topic
 history designator
 import import_dir
 initialise [adminpw]
 install [template [backend [admin password]]]
 list classname [property]
 pack period | date
 reindex
 retire designator[,designator]*
 rollback
 security [Role name]
 set items property=value property=value ...
 specification classname
 table classname [property[,property]*]
Commands may be abbreviated as long as the abbreviation matches only one
command, e.g. l == li == lis == list.
</pre>
<p>All commands (except help) require a tracker specifier. This is just the
path to the roundup tracker you're working with. A roundup tracker is
where roundup keeps the database and configuration file that defines an
issue tracker. It may be thought of as the issue tracker's &quot;home
directory&quot;. It may be specified in the environment variable
<tt class="literal"><span class="pre">TRACKER_HOME</span></tt> or on the command line as &quot;<tt class="literal"><span class="pre">-i</span> <span class="pre">tracker</span></tt>&quot;.</p>
<p>A designator is a classname and an itemid concatenated, eg. bug1,
user10, ... Property values are represented as strings in command
arguments and in the printed results:</p>
<ul>
<li><p class="first">Strings are, well, strings.</p>
</li>
<li><p class="first">Password values will display as their encoded value.</p>
</li>
<li><p class="first">Date values are printed in the full date format in the local time
zone, and accepted in the full format or any of the partial formats
explained below.:</p>
<pre class="literal-block">
Input of...        Means...
&quot;2000-04-17.03:45&quot; 2000-04-17.08:45:00
&quot;2000-04-17&quot;       2000-04-17.00:00:00
&quot;01-25&quot;            yyyy-01-25.00:00:00
&quot;08-13.22:13&quot;      yyyy-08-14.03:13:00
&quot;11-07.09:32:43&quot;   yyyy-11-07.14:32:43
&quot;14:25&quot;            yyyy-mm-dd.19:25:00
&quot;8:47:11&quot;          yyyy-mm-dd.13:47:11
&quot;2003&quot;             2003-01-01.00:00:00
&quot;2003-04&quot;          2003-04-01.00:00:00
&quot;.&quot;                &quot;right now&quot;
</pre>
</li>
<li><p class="first">Link values are printed as item designators. When given as an
argument, item designators and key strings are both accepted.</p>
</li>
<li><p class="first">Multilink values are printed as lists of item designators joined by
commas. When given as an argument, item designators and key strings
are both accepted; an empty string, a single item, or a list of items
joined by commas is accepted.</p>
</li>
</ul>
<p>When multiple items are specified to the roundup get or roundup set
commands, the specified properties are retrieved or set on all the
listed items.  When multiple results are returned by the roundup get or
roundup find commands, they are printed one per line (default) or joined
by commas (with the &quot;<tt class="literal"><span class="pre">-c</span></tt>&quot; option).</p>
<p>Where the command changes data, a login name/password is required. The
login may be specified as either &quot;<tt class="literal"><span class="pre">name</span></tt>&quot; or &quot;<tt class="literal"><span class="pre">name:password</span></tt>&quot;.</p>
<ul class="simple">
<li><tt class="literal"><span class="pre">ROUNDUP_LOGIN</span></tt> environment variable</li>
<li>the &quot;<tt class="literal"><span class="pre">-u</span></tt>&quot; command-line option</li>
</ul>
<p>If either the name or password is not supplied, they are obtained from
the command-line.</p>
<div class="section" id="using-with-the-shell">
<h2><a class="toc-backref" href="#id27" name="using-with-the-shell">Using with the shell</a></h2>
<p>With version 0.6.0 or newer of roundup which supports: multiple
designators to display and the -d, -S and -s flags.</p>
<p>To find all messages regarding chatting issues that contain the word
&quot;spam&quot;, for example, you could execute the following command from the
directory where the database dumps its files:</p>
<pre class="literal-block">
shell% for issue in `roundup-admin -ds find issue status=chatting`; do
&gt; grep -l spam `roundup-admin -ds ' ' get messages $issue`
&gt; done
msg23
msg49
msg50
msg61
shell%
</pre>
<p>Or, using the -dc option, this can be written as a single command:</p>
<pre class="literal-block">
shell% grep -l spam `roundup get messages \
    \`roundup -dc find issue status=chatting\``
msg23
msg49
msg50
msg61
shell%
</pre>
<p>You can also display issue contents:</p>
<pre class="literal-block">
shell% roundup-admin display `roundup-admin -dc get messages \
           issue3,issue1`
files: []
inreplyto: None
recipients: []
author: 1
date: 2003-02-16.21:23:03
messageid: None
summary: jkdskldjf
files: []
inreplyto: None
recipients: []
author: 1
date: 2003-02-15.01:59:11
messageid: None
summary: jlkfjadsf    
</pre>
<p>or status:</p>
<pre class="literal-block">
shell% roundup-admin get name `/tools/roundup/bin/roundup-admin \
      -dc -i /var/roundup/sysadmin get status issue3,issue1`
unread
deferred
</pre>
<p>or status on a single line:</p>
<pre class="literal-block">
shell% echo `roundup-admin get name \`/tools/roundup/bin/roundup-admin \
         -dc -i /var/roundup/sysadmin get status issue3,issue1\``
unread deferred
</pre>
<p>which is the same as:</p>
<pre class="literal-block">
shell% roundup-admin -s get name `/tools/roundup/bin/roundup-admin \
         -dc -i /var/roundup/sysadmin get status issue3,issue1`
unread deferred
</pre>
<p>Also the tautological:</p>
<pre class="literal-block">
shell% roundup-admin get name \
   `roundup-admin -dc get status \`roundup-admin -dc find issue \
       status=chatting\``
chatting
chatting
</pre>
<p>Remember the roundup commands that accept multiple designators accept
them ',' separated so using '-dc' is almost always required.</p>
<hr />
<p>Back to <a class="reference" href="index.html">Table of Contents</a></p>
</div>
</div>
</div>
<hr class="footer"/>
<div class="footer">
Generated on: 2004-02-25.
</div>
</body>
</html>
