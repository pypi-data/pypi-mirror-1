<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.2.9: http://docutils.sourceforge.net/" />
<title>Installing Roundup</title>
<link rel="stylesheet" href="default.css" type="text/css" />
</head>
<body>
<div class="document" id="installing-roundup">
<h1 class="title">Installing Roundup</h1>
<table class="docinfo" frame="void" rules="none">
<col class="docinfo-name" />
<col class="docinfo-content" />
<tbody valign="top">
<tr><th class="docinfo-name">Version:</th>
<td>$Revision$</td></tr>
</tbody>
</table>
<div class="contents topic" id="contents">
<p class="topic-title"><a name="contents">Contents</a></p>
<ul class="simple">
<li><a class="reference" href="#overview" id="id1" name="id1">Overview</a></li>
<li><a class="reference" href="#prerequisites" id="id2" name="id2">Prerequisites</a><ul>
<li><a class="reference" href="#install-the-csv-module" id="id3" name="id3">Install the &quot;CSV&quot; module</a></li>
</ul>
</li>
<li><a class="reference" href="#getting-roundup" id="id4" name="id4">Getting Roundup</a><ul>
<li><a class="reference" href="#testing-your-python" id="id5" name="id5">Testing your Python</a></li>
</ul>
</li>
<li><a class="reference" href="#for-the-really-impatient" id="id6" name="id6">For The Really Impatient</a></li>
<li><a class="reference" href="#installation" id="id7" name="id7">Installation</a><ul>
<li><a class="reference" href="#basic-installation-steps" id="id8" name="id8">Basic Installation Steps</a></li>
<li><a class="reference" href="#configuring-your-first-tracker" id="id9" name="id9">Configuring your first tracker</a></li>
<li><a class="reference" href="#choosing-your-template" id="id10" name="id10">Choosing Your Template</a><ul>
<li><a class="reference" href="#classic-template" id="id11" name="id11">Classic Template</a></li>
<li><a class="reference" href="#minimal-template" id="id12" name="id12">Minimal Template</a></li>
</ul>
</li>
<li><a class="reference" href="#choosing-your-backend" id="id13" name="id13">Choosing Your Backend</a></li>
<li><a class="reference" href="#configure-a-web-interface" id="id14" name="id14">Configure a Web Interface</a><ul>
<li><a class="reference" href="#web-server-cgi-bin" id="id15" name="id15">Web Server cgi-bin</a></li>
<li><a class="reference" href="#stand-alone-web-server" id="id16" name="id16">Stand-alone Web Server</a></li>
<li><a class="reference" href="#zope-product-zroundup" id="id17" name="id17">Zope Product - ZRoundup</a></li>
</ul>
</li>
<li><a class="reference" href="#configure-an-email-interface" id="id18" name="id18">Configure an Email Interface</a><ul>
<li><a class="reference" href="#as-a-mail-alias-pipe-process" id="id19" name="id19">As a mail alias pipe process</a></li>
<li><a class="reference" href="#as-a-regular-job-using-a-mailbox-source" id="id20" name="id20">As a regular job using a mailbox source</a></li>
<li><a class="reference" href="#as-a-regular-job-using-a-pop-source" id="id21" name="id21">As a regular job using a POP source</a></li>
</ul>
</li>
<li><a class="reference" href="#shared-environment-steps" id="id22" name="id22">Shared Environment Steps</a></li>
<li><a class="reference" href="#additional-language-codecs" id="id23" name="id23">Additional Language Codecs</a></li>
</ul>
</li>
<li><a class="reference" href="#maintenance" id="id24" name="id24">Maintenance</a></li>
<li><a class="reference" href="#upgrading" id="id25" name="id25">Upgrading</a></li>
<li><a class="reference" href="#further-reading" id="id26" name="id26">Further Reading</a></li>
<li><a class="reference" href="#running-multiple-trackers" id="id27" name="id27">Running Multiple Trackers</a></li>
<li><a class="reference" href="#platform-specific-notes" id="id28" name="id28">Platform-Specific Notes</a><ul>
<li><a class="reference" href="#windows-command-line-tools" id="id29" name="id29">Windows command-line tools</a></li>
<li><a class="reference" href="#windows-server" id="id30" name="id30">Windows Server</a></li>
<li><a class="reference" href="#sendmail-smrsh" id="id31" name="id31">Sendmail smrsh</a></li>
<li><a class="reference" href="#linux" id="id32" name="id32">Linux</a></li>
<li><a class="reference" href="#solaris" id="id33" name="id33">Solaris</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="overview">
<h1><a class="toc-backref" href="#id1" name="overview">Overview</a></h1>
<p>Broken out separately, there are several conceptual pieces to a
Roundup installation:</p>
<dl>
<dt>Roundup trackers</dt>
<dd>Trackers consist of issues (be they bug reports or otherwise), tracker
configuration file(s), web HTML files etc. Roundup trackers are initialised
with a &quot;Template&quot; which defines the fields usable/assignable on a
per-issue basis.  Descriptions of the provided templates are given in
<a class="reference" href="#choosing-your-template">choosing your template</a>.</dd>
<dt>Roundup support code</dt>
<dd>Installed into your Python install's lib directory</dd>
<dt>Roundup scripts</dt>
<dd>These include the email gateway, the roundup
HTTP server, the roundup administration command-line interface, etc.</dd>
</dl>
</div>
<div class="section" id="prerequisites">
<h1><a class="toc-backref" href="#id2" name="prerequisites">Prerequisites</a></h1>
<p>Python 2.1.3 or newer with a functioning anydbm or bsddb module. Download the
latest version from <a class="reference" href="http://www.python.org/">http://www.python.org/</a>. It is highly recommended that
users install the latest patch version of python - 2.1.3, 2.2.3 or 2.3.2 -
as these contain many fixes to serious bugs.</p>
<p>If you want to use Berkeley DB bsddb3 with Roundup, use version 3.3.0 or
later. Download the latest version from <a class="reference" href="http://pybsddb.sourceforge.net/">http://pybsddb.sourceforge.net/</a>.</p>
<p>If you're on windows, you will either need to be using the ActiveState python
distribution (at <a class="reference" href="http://www.activestate.com/Products/ActivePython/">http://www.activestate.com/Products/ActivePython/</a>), or you'll
have to install the win32all package separately (get it from
<a class="reference" href="http://starship.python.net/crew/mhammond/win32/">http://starship.python.net/crew/mhammond/win32/</a>).</p>
<p>Non-Python2.3 users may need to <a class="reference" href="#install-the-csv-module">install the &quot;CSV&quot; module</a>.</p>
<div class="section" id="install-the-csv-module">
<h2><a class="toc-backref" href="#id3" name="install-the-csv-module">Install the &quot;CSV&quot; module</a></h2>
<dl>
<dt>Note: CSV stands for Comma-Separated-Value. These files are used by all</dt>
<dd>manner of programs (eg. spreadsheets) to exchange data.</dd>
</dl>
<p>The &quot;CSV&quot; module is required if you wish to import or export data in the
tracker, or if you wish to use the online generic class editing facility.</p>
<p>If you're using a version of Python older than 2.3, then you will need to
install the &quot;CSV&quot; module from <a class="reference" href="http://object-craft.com.au/">Object Craft</a>. Users of Python2.3 and later
don't need to. If you have a C compiler installed, then download the source
and follow their installation instructions (simply <tt class="literal"><span class="pre">python</span> <span class="pre">setup.py</span>
<span class="pre">install</span></tt>.)</p>
<p>If you're on Windows and don't have a C compiler, then you'll need to
download the pre-compiled <tt class="literal"><span class="pre">csv.pyd</span></tt> file and install it. To install, just
copy it to your Python installation in the <tt class="literal"><span class="pre">lib\site-packages</span></tt> directory.
For Python 2.2, this would be:</p>
<pre class="literal-block">
c:\python22\lib\site-packages
</pre>
<p>Once the CSV module is installed, you <em>must</em> restart roundup-server if it
is already running, or the new module won't be detected.</p>
<p>If you're on some other platform and don't have a C compiler, you'll need
to ask for help on the roundup-users mailing list.</p>
</div>
</div>
<div class="section" id="getting-roundup">
<h1><a class="toc-backref" href="#id4" name="getting-roundup">Getting Roundup</a></h1>
<p>Download the latest version from <a class="reference" href="http://roundup.sf.net/">http://roundup.sf.net/</a>.</p>
<div class="section" id="testing-your-python">
<h2><a class="toc-backref" href="#id5" name="testing-your-python">Testing your Python</a></h2>
<p>Once you've unpacked roundup's source, run <tt class="literal"><span class="pre">python</span> <span class="pre">./run_tests</span></tt> in the
source directory and make sure there are no errors. If there are errors,
please let us know!</p>
<p>If the above fails, you may be using the wrong version of python. Try
<tt class="literal"><span class="pre">python2</span> <span class="pre">./run_tests</span></tt>. If that works, you will need to substitute
<tt class="literal"><span class="pre">python2</span></tt> for <tt class="literal"><span class="pre">python</span></tt> in all further commands you use in relation to
Roundup -- from installation and scripts.</p>
</div>
</div>
<div class="section" id="for-the-really-impatient">
<h1><a class="toc-backref" href="#id6" name="for-the-really-impatient">For The Really Impatient</a></h1>
<p>If you just want to give Roundup a whirl Right Now, then simply run
<tt class="literal"><span class="pre">python</span> <span class="pre">demo.py</span></tt>. This will set up a simple demo tracker on your
machine. When it's done, it'll print out a URL to point your web browser
at so you may start playing. Three users will be set up:</p>
<ol class="arabic simple">
<li>anonymous - the &quot;default&quot; user with permission to do very little</li>
<li>demo (password &quot;demo&quot;) - a normal user who may create issues</li>
<li>admin (password &quot;admin&quot;) - an administrative user who has complete
access to the tracker</li>
</ol>
</div>
<div class="section" id="installation">
<h1><a class="toc-backref" href="#id7" name="installation">Installation</a></h1>
<table class="field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Note:</th><td class="field-body">Some systems, such as Debian and NetBSD, already have Roundup
installed. Try running the command &quot;roundup-admin&quot; with no arguments,
and if it runs you may skip the <a class="reference" href="#basic-installation-steps">Basic Installation Steps</a>
below and go straight to <a class="reference" href="#configuring-your-first-tracker">configuring your first tracker</a>.</td>
</tr>
</tbody>
</table>
<p>Set aside 15-30 minutes. Please make sure you're using a supported version of
Python -- see <a class="reference" href="#testing-your-python">testing your python</a>. There's several steps to follow in your
installation:</p>
<ol class="arabic simple">
<li><a class="reference" href="#basic-installation-steps">basic installation steps</a> if Roundup is not installed on your system</li>
<li><a class="reference" href="#configuring-your-first-tracker">configuring your first tracker</a> that all installers must follow</li>
<li>then optionally <a class="reference" href="#configure-a-web-interface">configure a web interface</a></li>
<li>and optionally <a class="reference" href="#configure-an-email-interface">configure an email interface</a></li>
<li><a class="reference" href="#shared-environment-steps">shared environment steps</a> to take if you're installing on a shared
UNIX machine and want to restrict local access to roundup</li>
</ol>
<div class="section" id="basic-installation-steps">
<h2><a class="toc-backref" href="#id8" name="basic-installation-steps">Basic Installation Steps</a></h2>
<p>To install the Roundup support code into your Python tree and
Roundup scripts into /usr/local/bin (substitute that path for whatever is
appropriate on your system). You need to have write permissions
for these locations, eg. being root on unix:</p>
<pre class="literal-block">
python setup.py install
</pre>
<p>If you would like to place the Roundup scripts in a directory other
than <tt class="literal"><span class="pre">/usr/local/bin</span></tt>, then specify the preferred location with
<tt class="literal"><span class="pre">--install-script</span></tt>. For example, to install them in
<tt class="literal"><span class="pre">/opt/roundup/bin</span></tt>:</p>
<pre class="literal-block">
python setup.py install --install-scripts=/opt/roundup/bin
</pre>
<p>You can also use the <tt class="literal"><span class="pre">--prefix</span></tt> option to use a completely different
base directory, if you do not want to use administrator rights. If you
choose to do this, take note of the message at the end of installation
and modify the python path accordingly.</p>
</div>
<div class="section" id="configuring-your-first-tracker">
<h2><a class="toc-backref" href="#id9" name="configuring-your-first-tracker">Configuring your first tracker</a></h2>
<ol class="arabic">
<li><p class="first">To create a Roundup tracker (necessary to do before you can
use the software in any real fashion), you need to set up a &quot;tracker
home&quot;:</p>
<ol class="loweralpha">
<li><p class="first">(Optional) If you intend to keep your roundup trackers
under one top level directory which does not exist yet,
you should create that directory now.  Example:</p>
<pre class="literal-block">
mkdir /opt/roundup/trackers
</pre>
</li>
<li><p class="first">Either add the Roundup script location to your <tt class="literal"><span class="pre">PATH</span></tt>
environment variable or specify the full path to
the command in the next step.</p>
</li>
<li><p class="first">Install a new tracker with the command <tt class="literal"><span class="pre">roundup-admin</span> <span class="pre">install</span></tt>.
You will be asked a series of questions.  Descriptions of the provided
templates can be found in <a class="reference" href="#choosing-your-template">choosing your template</a> below.  Descriptions
of the available backends can be found in <a class="reference" href="#choosing-your-backend">choosing your backend</a>
below.  The questions will be something like (you may have more
templates or backends available):</p>
<pre class="literal-block">
Enter tracker home: /opt/roundup/trackers/support
Templates: classic
Select template [classic]: classic
Back ends: anydbm, bsddb
Select backend [anydbm]: anydbm
</pre>
<p>The &quot;support&quot; part of the tracker name can be anything you want - it
is going to be used as the directory that the tracker information
will be stored in.</p>
<p>You will now be directed to edit the tracker configuration and
initial schema.  At a minimum, you must set <tt class="literal"><span class="pre">MAILHOST</span></tt>,
<tt class="literal"><span class="pre">TRACKER_WEB</span></tt>, <tt class="literal"><span class="pre">MAIL_DOMAIN</span></tt> and <tt class="literal"><span class="pre">ADMIN_EMAIL</span></tt>. Note that the
configuration file uses Python syntax, so almost every value must be
<tt class="literal"><span class="pre">'quoted'</span></tt> using single or double quotes. If you get stuck, and get
configuration file errors, then see the <a class="reference" href="customizing.html#tracker-configuration">tracker configuration</a> section
of the <a class="reference" href="customizing.html">customisation documentation</a>.</p>
<p>If you just want to get set up to test things quickly (and follow
the instructions in step 3 below), you can even just set the
TRACKER_WEB variable to:</p>
<pre class="literal-block">
TRACKER_WEB = 'http://localhost:8080/support/'
</pre>
<p>The URL <em>must</em> end in a '/', or your web interface <em>will not work</em>.
See <a class="reference" href="customizing.html">Customising Roundup</a> for details on configuration and schema
changes. Note that you may change any of the configuration after
you've initialised the tracker - it's just better to have valid values
for this stuff now.</p>
</li>
<li><p class="first">Initialise the tracker database with <tt class="literal"><span class="pre">roundup-admin</span> <span class="pre">initialise</span></tt>.
You will need to supply an admin password at this step. You will be
prompted:</p>
<pre class="literal-block">
Admin Password:
       Confirm:
</pre>
<p>Once this is done, the tracker has been created.</p>
</li>
</ol>
</li>
<li><p class="first">At this point, your tracker is set up, but doesn't have a nice user
interface. To set that up, we need to <a class="reference" href="#configure-a-web-interface">configure a web interface</a> and
optionally <a class="reference" href="#configure-an-email-interface">configure an email interface</a>. If you want to try your
new tracker out, assuming <tt class="literal"><span class="pre">TRACKER_WEB</span></tt> is set to
<tt class="literal"><span class="pre">'http://localhost:8080/support/'</span></tt>, run:</p>
<pre class="literal-block">
roundup-server support=/opt/roundup/trackers/support
</pre>
<p>then direct your web browser at:</p>
<blockquote>
<p><a class="reference" href="http://localhost:8080/support/">http://localhost:8080/support/</a></p>
</blockquote>
<p>and you should see the tracker interface.</p>
</li>
</ol>
</div>
<div class="section" id="choosing-your-template">
<h2><a class="toc-backref" href="#id10" name="choosing-your-template">Choosing Your Template</a></h2>
<div class="section" id="classic-template">
<h3><a class="toc-backref" href="#id11" name="classic-template">Classic Template</a></h3>
<p>The classic template is the one defined in the <a class="reference" href="spec.html">Roundup Specification</a>. It
holds issues which have priorities and statuses. Each issue may also have a
set of messages which are disseminated to the issue's list of nosy users.</p>
</div>
<div class="section" id="minimal-template">
<h3><a class="toc-backref" href="#id12" name="minimal-template">Minimal Template</a></h3>
<p>The minimal template has the minimum setup required for a tracker
installation. That is, it has the configuration files, defines a user database
and the basic HTML interface to that. It's a completely clean slate for you to
create your tracker on.</p>
</div>
</div>
<div class="section" id="choosing-your-backend">
<h2><a class="toc-backref" href="#id13" name="choosing-your-backend">Choosing Your Backend</a></h2>
<p>The actual storage of Roundup tracker information is handled by backends.
There's several to choose from, each with benefits and limitations:</p>
<dl>
<dt><strong>anydbm</strong></dt>
<dd>This backend is guaranteed to work on any system that Python runs on. It
will generally choose the best dbm backend that is available on your system
(from the list dbhash, gdbm, dbm, dumbdbm). It is the least scaleable of all
backends, but performs well enough for a smallish tracker (a couple of
thousand issues, under fifty users, ...).</dd>
<dt><strong>bsddb</strong></dt>
<dd>This effectively the same as anydbm, but uses the bsddb backend. This allows
it to gain some performance and scaling benefits.</dd>
<dt><strong>bsddb3</strong></dt>
<dd>Again, this effectively the same as anydbm, but uses the bsddb3 backend.
This allows it to gain some performance and scaling benefits.</dd>
<dt><strong>sqlite</strong></dt>
<dd>This uses the <a class="reference" href="http://www.hwaci.com/sw/sqlite/">SQLite</a> embedded RDBMS to provide a fast, scaleable backend.
There are no limitations, and it's much faster and more scaleable than the
dbm backends.</dd>
<dt><strong>mysql</strong></dt>
<dd>Backend for popular RDBMS MySQL. According to benchmarks, this backend works
much faster than any of *dbm ones, but slightly slower than metakit and
sqlite. A good scalability is not a property of this backend for now,
though. For more info on backend installation see doc/mysql.txt.</dd>
<dt><strong>metakit</strong></dt>
<dd>This backend is implemented over the <a class="reference" href="http://www.equi4.com/metakit/">metakit</a> storage system, using Mk4Py as
the interface. It scales much better than the dbm backends.</dd>
</dl>
<p>You should be wary of using all but the mysql backend with high-volume trackers 
(requests every second or two) as database locking is done on the whole
database.</p>
<p>You may set your tracker up with the anydbm backend (which is guaranteed to be
available) and switch to one of the other backends at any time using the
instructions in the <a class="reference" href="maintenance.html">maintenance documentation</a>.</p>
</div>
<div class="section" id="configure-a-web-interface">
<h2><a class="toc-backref" href="#id14" name="configure-a-web-interface">Configure a Web Interface</a></h2>
<p>There are three web interfaces to choose from:</p>
<ol class="arabic simple">
<li><a class="reference" href="#web-server-cgi-bin">web server cgi-bin</a></li>
<li><a class="reference" href="#stand-alone-web-server">stand-alone web server</a></li>
<li><a class="reference" href="#zope-product-zroundup">Zope product - ZRoundup</a></li>
</ol>
<p>You may need to give the web server user permission to access the tracker home
- see the <a class="reference" href="#shared-environment-steps">shared environment steps</a> for information. You may also need to
configure your system in some way - see <a class="reference" href="#platform-specific-notes">platform-specific notes</a>.</p>
<div class="section" id="web-server-cgi-bin">
<h3><a class="toc-backref" href="#id15" name="web-server-cgi-bin">Web Server cgi-bin</a></h3>
<p>A benefit of using the cgi-bin approach is that it's the easiest way to
restrict access to your tracker to only use HTTPS. Access will be slower
than through the <a class="reference" href="#stand-alone-web-server">stand-alone web server</a> though.</p>
<p>Note that if your Python isn't install as &quot;python&quot; then you'll need to edit
the <tt class="literal"><span class="pre">roundup.cgi</span></tt> script to fix the first line.</p>
<p>If you're using IIS on a Windows platform, you'll need to run this command
for the cgi to work (it turns on the PATH_INFO cgi variable):</p>
<pre class="literal-block">
adsutil.vbs set w3svc/AllowPathInfoForScriptMappings TRUE
</pre>
<p>The <tt class="literal"><span class="pre">adsutil.vbs</span></tt> file can be found in either <tt class="literal"><span class="pre">c:\inetpub\adminscripts</span></tt> 
or <tt class="literal"><span class="pre">c:\winnt\system32\inetsrv\adminsamples\</span></tt> or
<tt class="literal"><span class="pre">c:\winnt\system32\inetsrv\adminscripts\</span></tt> depending on your installation.</p>
<p>Copy the <tt class="literal"><span class="pre">cgi-bin/roundup.cgi</span></tt> file to your web server's <tt class="literal"><span class="pre">cgi-bin</span></tt>
directory. You will need to configure it to tell it where your tracker home
is. You can do this either:</p>
<dl>
<dt>through an environment variable</dt>
<dd>set the variable TRACKER_HOMES to be a colon (&quot;:&quot;) separated list of
name=home pairs (if you're using apache, the SetEnv directive can do this)</dd>
<dt>directly in the <tt class="literal"><span class="pre">roundup.cgi</span></tt> file itself</dt>
<dd>add your instance to the TRACKER_HOMES variable as <tt class="literal"><span class="pre">'name':</span> <span class="pre">'home'</span></tt></dd>
</dl>
<p>The &quot;name&quot; part of the configuration will appear in the URL and identifies the
tracker (so you may have more than one tracker per cgi-bin script). Make sure
there are no spaces or other illegal characters in it (to be safe, stick to
letters and numbers). The &quot;name&quot; forms part of the URL that appears in the
tracker config TRACKER_WEB variable, so make sure they match. The &quot;home&quot;
part of the configuration is the tracker home directory.</p>
</div>
<div class="section" id="stand-alone-web-server">
<h3><a class="toc-backref" href="#id16" name="stand-alone-web-server">Stand-alone Web Server</a></h3>
<p>This approach will give you the fastest of the three web interfaces. You may
investigate using ProxyPass or similar configuration in apache to have your
tracker accessed through the same URL as other systems.</p>
<p>The stand-alone web server is started with the command <tt class="literal"><span class="pre">roundup-server</span></tt>. It
has several options - display them with <tt class="literal"><span class="pre">roundup-server</span> <span class="pre">-h</span></tt>.</p>
<p>The tracker home configuration is similar to the cgi-bin - you may either edit
the script to change the TRACKER_HOMES variable or you may supply the
name=home values on the command-line after all the other options.</p>
<p>To make the server run in the background, use the &quot;-d&quot; option, specifying the
name of a file to write the server process id (pid) to.</p>
</div>
<div class="section" id="zope-product-zroundup">
<h3><a class="toc-backref" href="#id17" name="zope-product-zroundup">Zope Product - ZRoundup</a></h3>
<p>ZRoundup installs as a regular Zope product. Copy the ZRoundup directory to
your Products directory either in INSTANCE_HOME/Products or the Zope
code tree lib/python/Products.</p>
<p>When you next (re)start up Zope, you will be able to add a ZRoundup object
that interfaces to your new tracker.</p>
</div>
</div>
<div class="section" id="configure-an-email-interface">
<h2><a class="toc-backref" href="#id18" name="configure-an-email-interface">Configure an Email Interface</a></h2>
<p>If you don't want to use the email component of Roundup, then remove the
&quot;<tt class="literal"><span class="pre">nosyreaction.py</span></tt>&quot; module from your tracker &quot;<tt class="literal"><span class="pre">detectors</span></tt>&quot; directory.</p>
<p>See <a class="reference" href="#platform-specific-notes">platform-specific notes</a> for steps that may be needed on your system.</p>
<p>There are three supported ways to get emailed issues into the
Roundup tracker.  You should pick ONE of the following, all
of which will continue my example setup from above:</p>
<div class="section" id="as-a-mail-alias-pipe-process">
<h3><a class="toc-backref" href="#id19" name="as-a-mail-alias-pipe-process">As a mail alias pipe process</a></h3>
<p>Set up a mail alias called &quot;issue_tracker&quot; as (include the quote marks):
&quot;<tt class="literal"><span class="pre">|/usr/bin/python</span> <span class="pre">/usr/local/bin/roundup-mailgw</span> <span class="pre">&lt;tracker_home&gt;</span></tt>&quot;</p>
<p>In some installations (e.g. RedHat 6.2 I think) you'll need to set up smrsh so
sendmail will accept the pipe command. In that case, symlink
<tt class="literal"><span class="pre">/etc/smrsh/roundup-mailgw</span></tt> to &quot;<tt class="literal"><span class="pre">/usr/local/bin/roundup-mailgw</span></tt>&quot; and change
the command to:</p>
<pre class="literal-block">
|roundup-mailgw /opt/roundup/trackers/support
</pre>
<p>To test the mail gateway on unix systems, try:</p>
<pre class="literal-block">
echo test |mail -s '[issue] test' support&#64;YOUR_DOMAIN_HERE
</pre>
</div>
<div class="section" id="as-a-regular-job-using-a-mailbox-source">
<h3><a class="toc-backref" href="#id20" name="as-a-regular-job-using-a-mailbox-source">As a regular job using a mailbox source</a></h3>
<p>Set <tt class="literal"><span class="pre">roundup-mailgw</span></tt> up to run every 10 minutes or so. For example:</p>
<pre class="literal-block">
0,10,20,30,40,50 * * * * /usr/local/bin/roundup-mailgw /opt/roundup/trackers/support mailbox &lt;mail_spool_file&gt;
</pre>
<p>Where the <tt class="literal"><span class="pre">mail_spool_file</span></tt> argument is the location of the roundup submission
user's mail spool. On most systems, the spool for a user &quot;issue_tracker&quot;
will be &quot;<tt class="literal"><span class="pre">/var/mail/issue_tracker</span></tt>&quot;.</p>
</div>
<div class="section" id="as-a-regular-job-using-a-pop-source">
<h3><a class="toc-backref" href="#id21" name="as-a-regular-job-using-a-pop-source">As a regular job using a POP source</a></h3>
<p>To retrieve from a POP mailbox, use a <em>cron</em> entry similar to the mailbox one:</p>
<pre class="literal-block">
0,10,20,30,40,50 * * * * /usr/local/bin/roundup-mailgw /opt/roundup/trackers/support pop &lt;pop_spec&gt;
</pre>
<p>where pop_spec is &quot;<tt class="literal"><span class="pre">username:password&#64;server</span></tt>&quot; that specifies the roundup
submission user's POP account name, password and server.</p>
<p>On windows, you would set up the command using the windows scheduler.</p>
</div>
</div>
<div class="section" id="shared-environment-steps">
<h2><a class="toc-backref" href="#id22" name="shared-environment-steps">Shared Environment Steps</a></h2>
<p>Each tracker ideally should have its own UNIX group, so create
a UNIX group (edit <tt class="literal"><span class="pre">/etc/group</span></tt> or your appropriate NIS map if
you're using NIS).  To continue with my examples so far, I would
create the UNIX group 'support', although the name of the UNIX
group does not have to be the same as the tracker name.  To this
'support' group I then add all of the UNIX usernames who will be
working with this Roundup tracker.  In addition to 'real' users,
the Roundup email gateway will need to have permissions to this
area as well, so add the user your mail service runs as to the
group (typically &quot;mail&quot; or &quot;daemon&quot;).  The UNIX group might then
look like:</p>
<pre class="literal-block">
support:*:1002:jblaine,samh,geezer,mail
</pre>
<p>If you intend to use the web interface (as most people do), you
should also add the username your web server runs as to the group.
My group now looks like this:</p>
<pre class="literal-block">
support:*:1002:jblaine,samh,geezer,mail,apache
</pre>
<p>The tracker &quot;db&quot; directory should be chmod'ed g+sw so that the group can
write to the database, and any new files created in the database will be owned
by the group.</p>
<p>An alternative to the above is to create a new user who has the sole
responsibility of running roundup. This user:</p>
<ol class="arabic simple">
<li>runs the CGI interface daemon</li>
<li>runs regular polls for email</li>
<li>runs regular checks (using cron) to ensure the daemon is up</li>
<li>optionally has no login password so that nobody but the &quot;root&quot; user
may actually login and play with the roundup setup.</li>
</ol>
</div>
<div class="section" id="additional-language-codecs">
<h2><a class="toc-backref" href="#id23" name="additional-language-codecs">Additional Language Codecs</a></h2>
<p>If you intend to send messages to Roundup that use Chinese, Japanese or
Korean encodings the you'll need to obtain CJKCodecs from
<a class="reference" href="http://cjkpython.berlios.de/">http://cjkpython.berlios.de/</a></p>
</div>
</div>
<div class="section" id="maintenance">
<h1><a class="toc-backref" href="#id24" name="maintenance">Maintenance</a></h1>
<p>Read the separate <a class="reference" href="maintenance.html">maintenance documentation</a> for information about how to
perform common maintenance tasks with Roundup.</p>
</div>
<div class="section" id="upgrading">
<h1><a class="toc-backref" href="#id25" name="upgrading">Upgrading</a></h1>
<p>Read the separate <a class="reference" href="upgrading.html">upgrading document</a>, which describes the steps needed to
upgrade existing tracker trackers for each version of Roundup that is
released.</p>
</div>
<div class="section" id="further-reading">
<h1><a class="toc-backref" href="#id26" name="further-reading">Further Reading</a></h1>
<p>If you intend to use Roundup with anything other than the defualt
templates, if you would like to hack on Roundup, or if you would
like implementation details, you should read <a class="reference" href="customizing.html">Customising Roundup</a>.</p>
</div>
<div class="section" id="running-multiple-trackers">
<h1><a class="toc-backref" href="#id27" name="running-multiple-trackers">Running Multiple Trackers</a></h1>
<p>Things to think about before you jump off the deep end and install
multiple trackers, which involve additional URLs, user databases, email
addresses, databases to back up, etc.</p>
<ol class="arabic simple">
<li>Do you want a tracker per product you sell/support? You can just add
a new property to your issues called Product, and filter by that.</li>
<li>Do you want to track internal software development issues and customer
support issues separately? You can just set up an additiona &quot;issue&quot;
class called &quot;cust_issues&quot; in the same tracker, mimicing the normal
&quot;issue&quot; class, but with different properties.</li>
</ol>
</div>
<div class="section" id="platform-specific-notes">
<h1><a class="toc-backref" href="#id28" name="platform-specific-notes">Platform-Specific Notes</a></h1>
<div class="section" id="windows-command-line-tools">
<h2><a class="toc-backref" href="#id29" name="windows-command-line-tools">Windows command-line tools</a></h2>
<p>To make the command-line tools accessible in Windows, you need to update
the &quot;Path&quot; environment variable in the Registry via a dialog box.</p>
<p>On Windows 2000 and later:</p>
<ol class="arabic simple">
<li>Press the &quot;Start&quot; button.</li>
<li>Choose &quot;Settings&quot;</li>
<li>Choose &quot;Control Panel&quot;</li>
<li>Choose &quot;System&quot;</li>
<li>Choose &quot;Advanced&quot;</li>
<li>Choose &quot;Environmental Variables&quot;</li>
<li>Add: &quot;&lt;dir&gt;Scripts&quot; to the &quot;Path&quot; environmental variable.</li>
</ol>
<p>Where &lt;dir&gt; in 7) is the root directory (e.g., <tt class="literal"><span class="pre">C:\Python22\Scripts</span></tt>)
of your Python installation.</p>
<p>I understand that in XP, 2) above is not needed as &quot;Control
Panel&quot; is directly accessible from &quot;Start&quot;.</p>
<p>I do not believe this is possible to do in previous versions of Windows.</p>
</div>
<div class="section" id="windows-server">
<h2><a class="toc-backref" href="#id30" name="windows-server">Windows Server</a></h2>
<p>To have the Roundup web server start up when your machine boots up, set the
following up in Scheduled Tasks (note, the following is for a cygwin setup):</p>
<dl>
<dt>Run</dt>
<dd><tt class="literal"><span class="pre">c:\cygwin\bin\bash.exe</span> <span class="pre">-c</span> <span class="pre">&quot;roundup-server</span> <span class="pre">TheProject=/opt/roundup/trackers/support&quot;</span></tt></dd>
<dt>Start In</dt>
<dd><tt class="literal"><span class="pre">C:\cygwin\opt\roundup\bin</span></tt></dd>
<dt>Schedule</dt>
<dd>At System Startup</dd>
</dl>
<p>To have the Roundup mail gateway run periodically to poll a POP email address,
set the following up in Scheduled Tasks:</p>
<dl>
<dt>Run</dt>
<dd><tt class="literal"><span class="pre">c:\cygwin\bin\bash.exe</span> <span class="pre">-c</span> <span class="pre">&quot;roundup-mailgw</span> <span class="pre">/opt/roundup/trackers/support</span> <span class="pre">pop</span> <span class="pre">roundup:roundup&#64;mail-server&quot;</span></tt></dd>
<dt>Start In</dt>
<dd><tt class="literal"><span class="pre">C:\cygwin\opt\roundup\bin</span></tt></dd>
<dt>Schedule</dt>
<dd>Every 10 minutes from 5:00AM for 24 hours every day
Stop the task if it runs for 8 minutes</dd>
</dl>
</div>
<div class="section" id="sendmail-smrsh">
<h2><a class="toc-backref" href="#id31" name="sendmail-smrsh">Sendmail smrsh</a></h2>
<p>If you use Sendmail's <tt class="literal"><span class="pre">smrsh</span></tt> mechanism, you will need to tell
smrsh that roundup-mailgw is a valid/trusted mail handler
before it will work.</p>
<p>This is usually done via the following 2 steps:</p>
<ol class="arabic simple">
<li>make a symlink in <tt class="literal"><span class="pre">/etc/smrsh</span></tt> called <tt class="literal"><span class="pre">roundup-mailgw</span></tt>
which points to the full path of your actual <tt class="literal"><span class="pre">roundup-mailgw</span></tt>
script.</li>
<li>change your alias to <tt class="literal"><span class="pre">&quot;|roundup-mailgw</span> <span class="pre">&lt;tracker_home&gt;&quot;</span></tt></li>
</ol>
</div>
<div class="section" id="linux">
<h2><a class="toc-backref" href="#id32" name="linux">Linux</a></h2>
<p>Make sure you read the instructions under <a class="reference" href="#shared-environment-steps">shared environment steps</a>.</p>
<p>Python 2.1.1 as shipped with SuSE7.3 might be missing module
<tt class="literal"><span class="pre">_weakref</span></tt>.</p>
</div>
<div class="section" id="solaris">
<h2><a class="toc-backref" href="#id33" name="solaris">Solaris</a></h2>
<p>You'll need to build Python.</p>
<p>Make sure you read the instructions under <a class="reference" href="#shared-environment-steps">shared environment steps</a>.</p>
<hr />
<p>Back to <a class="reference" href="index.html">Table of Contents</a></p>
<p>Next: <a class="reference" href="user_guide.html">User Guide</a></p>
</div>
</div>
</div>
<hr class="footer"/>
<div class="footer">
Generated on: 2004-03-18.
</div>
</body>
</html>
