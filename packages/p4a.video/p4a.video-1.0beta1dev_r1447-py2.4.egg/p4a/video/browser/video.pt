<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="plone">

<body>

<metal:jsslot fill-slot="javascript_head_slot">
	<script tal:attributes="src string:$portal_url/++resource++vPIP/vpip.js" type="text/javascript"></script>
	<script tal:attributes="src string:$portal_url/++resource++vPIP/jquery.js" type="text/javascript"></script>
	<script tal:attributes="src string:$portal_url/++resource++vPIP/vpipit.js" type="text/javascript"></script>
</metal:jsslot>

<metal:cssslot fill-slot="css_slot">
<!--	<style type="text/css" media="all">@import "http://[url where vPIP was uploaded to]/vPIPBox.css";</style>-->
	<link rel="stylesheet" href="vPIPBox.css"
	      tal:attributes="href string:$portal_url/++resource++vPIP/vPIPBox.css"
	      />

	<link rel="stylesheet" href="video.css"
	      tal:attributes="href string:$portal_url/++resource++videostyles/video.css"
	      />
</metal:cssslot>

<div metal:fill-slot="main"
     tal:define="video_info context/@@video_view;
                 context_url string:${context/absolute_url};
                 mime_type context/content_type;
     ">
    <tal:main-macro metal:define-macro="main" 
           tal:define="size python:context.getObjSize(context);">

        <div metal:use-macro="context/document_actions/macros/document_actions">
            Document actions (print, sendto etc)
        </div>

        <h1 tal:content="video_info/title" class="documentFirstHeading">
            Title or id
        </h1>

        <div metal:use-macro="context/document_byline/macros/byline">
          Get the byline - contains details about author and modification date.
        </div>

        <div id="summary_wrapper">
            <div id="video_metadata">
                <div><strong i18n:translate="label_size">Size:</strong>
                    <span tal:condition="size" tal:content="size">257 KB</span>
                    <span tal:condition="python:size is None or size &lt; 1" i18n:translate="no_file_uploaded">
                      (No file has been uploaded yet)
                    </span>
                </div>
                <div><strong i18n:translate="label_file_type">File type:</strong>
                    <span tal:content="string:${video_info/video_type} ($mime_type)">Content type</span>
                </div>    
                <div tal:condition="video_info/height">
                  <strong i18n:translate="label_height">Height:</strong>
                  <span tal:content="video_info/height">Height</span>
                  <span i18n:translate="label_pixels">pixels</span>
                </div>
                <div tal:condition="video_info/width">
                  <strong i18n:translate="label_width">Width:</strong>
                  <span tal:content="video_info/width">Width</span>
                  <span i18n:translate="label_pixels">pixels</span>
                </div>
                <div tal:condition="video_info/duration">
                  <strong i18n:translate="label_duration">Duration:</strong>
                  <span tal:content="video_info/duration">Duration</span>
                  <span i18n:translate="label_seconds">s</span>
                </div>

            </div>

            <div id="objmetadata_pbwidgets_wrapper">
                  
                   
                <div id="playback_widgets">
                   
            <a tal:condition="video_info/has_media_player" id="popup_play_icon"
               href="#" title="Play in popup window" class="widget_icon"
               tal:attributes="href string:javascript:void window.open('${context/absolute_url}/popup-play.html', '', 'width=200, height=45, toolbar=no, location=no, directories=no, status=no, menubar=no')">
            </a>
                    <a href="" id="play_icon" class="widget_icon"
                           tal:attributes="href string:$context_url/stream.m3u" title="Stream file"></a>
                    <a href="" id="download_icon" class="widget_icon"
                           tal:attributes="href string:$context_url" title="Download file"></a>

                </div>
                <div tal:replace="structure view/widgets/media_player"></div>

            <!-- <div class="video-images">
              <img tal:replace="structure view/widgets/video_image" />
            </div> -->

                <div id="object_metadata">
			<!--
                    <p>
                      <strong>Artist:</strong>
                      <span tal:condition="video_info/artist|nothing" tal:content="video_info/artist">Artist</span>
                    </p>
                    <p>
                      <strong>Album:</strong> 
                      <span tal:condition="video_info/album | nothing" tal:content="video_info/album">Album</span>
                    </p>
                    <p>
                      <strong>Year:</strong> 
                      <span tal:condition="video_info/year | nothing" tal:content="video_info/year">Year</span>
                    </p>
                    <p>
                        <strong>Genre:</strong>
                        <span tal:content="video_info/genre|nothing" ></span>
                    </p>
                    <p>
                      <strong>Comment:</strong>
                      <span tal:condition="video_info/comment | nothing" tal:content="video_info/comment">Comment</span>
                    </p> -->

<div class="bottom-content-info">
<tal:block tal:condition="view/has_contentrating_support">
  <dl class="content-rating">
    <dt>Average Rating:</dt>
    <dd><tal:user-rate tal:replace="structure context/@@user_rating_view" /></dd>
    <dt>Your Rating:</dt>
    <dd><tal:user-rate tal:replace="structure context/@@user_rating_set" /></dd>
  </dl>
</tal:block>

			        <tal:block tal:condition="view/has_contenttagging_support">
<metal:block use-macro="context/@@tag_macros/tags_footer">
</metal:block>
			        </tal:block>

        <div class="visualClear">&nbsp;</div>
</div>
			        <tal:block tal:condition="view/has_contentlicensing_support">
	                  <div tal:replace="structure context/@@copyright_byline_view" />
                      <div tal:replace="structure context/@@metadata_view" />
			        </tal:block>

                </div>
            <div class="visualClear">&nbsp;</div>
            </div>
        </div>
        <div class="visualClear">&nbsp;</div>
        
    </tal:main-macro>
    <!-- Mark this view as being a main view template /-->
    <tal:block tal:define="global isViewTemplate python:True"/>
</div>

</body>

</html>
