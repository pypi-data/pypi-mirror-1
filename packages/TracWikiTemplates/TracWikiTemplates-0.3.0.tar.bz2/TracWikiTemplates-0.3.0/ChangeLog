# $Id: ChangeLog 57 2006-09-22 06:09:36Z s0undt3ch $

--0.3.0--
22-09-2006: Pedro Algarvio <ufs@ufsoft.org>
	* web_ui.py:
	Fixed some possible permisions problem when choosing to use mainnav or the
	ctxnav to place the wiki templates link.
	Also definitly and officially dropped support for trac < 0.10b1.
	* ChangeLog:
	Finally updated ChangeLog with all latet changes.
	* TracWikiTemplates:
	Tagged trunk as 0.3.0rc1 and uploaded to Python CheeseShop. Users are now
	able to install TracWikiTemplates just by issuing the following command:
	   easy_install TracWikiTemplates
	Added README.
20-09-2006: Pedro Algarvio <ufs@ufsoft.org>
	* TracWikiTemplates:
	Wiki Templates button/link now shows up on ctxnav if user has javascript
	support, there's no need for a wiki helper to show up on mainnav. As a
	result, Wiki Templates now depends on TracCtxtnavAdd>=1.1-r1.
	Version changed from 0.3.0 to 0.3.0rc1, it's best if we release a
	candidate first so we can see if there are any bug prior to releasing
	0.3.0 final.
	Added a replacement for trac's ImageMacro so templates can use it to
	display image attachments.
	Database upgrade now converts any user's `[[Image(wiki:templates/` by
	`[[Image(templates:` to help migration from older behaviour.
19-09-2006: Pedro Algarvio <ufs@ufsoft.org>
	* TracWikiTemplates:
	Plugin as been completely updated on attachment.py, web_ui.py,
	WikiTemplates.cs, to the corresponding files of current trunk of trac,
	revision 3762. This fixes the problem with the templates attachments that
	weren't showing up, and provides some improved functionallity that current
	trunk of trac wiki module has.
	Package has also been renamed from WikiTemplates to TracWikiTemplates so
	admins can easily identify trac related packages in python's
	site-packages.
17-09-2006: Pedro Algarvio <ufs@ufsoft.org>
	* WikiTemplates:
	A new macro was added, 'Include' wich is able to include a whole wiki
	page or external web page.
	Database upgrade is only done if the templates macro is enabled, this will
	allow users to use the include macro witout having to upgrade. Fixed #14
	and partially addressed #13, https support still needs checking.
	Setup script was improved to support register with Python CheeseShop.
28-04-2006: Pedro Algarvio <ufs@ufsoft.org>
	* htdocs:
	Added missing preview background.
	* db1.py:
	Minor improvments to handle old attachments. 
26-04-2006: Pedro Algarvio <ufs@ufsoft.org>
	* web_ui.py, WikiTemplates.cs:
	Minor naming changes on buttons shown on templates. The new templates
	form is now only shown if we're viewing the TemplatesIndex.
	Templates creation form is only shown to those who have `TEMPLATES_CREATE`
	permission.
	* macro.py:
	We now provide a secundary macro, 'Include' that allows a user include a
	full wiki(fetched from the wiki DB table) page into another. Doesn't
	support arguments, cuz no parsing occurs.
	Checks are now made to see if the user is passing the correct number of
	arguments the template supports, and error will be shown if not; This
	fixes ticket #10.
	Corrected the output shown on the WikiMacros wiki page for the macros
	WikiTemplates provides.
	* model.py:
	Made the necessary changes to be able to fetch a wiki page from the wiki
	DB table, and not only the templates DB table(To support the new Include'
	macro).
	* TemplatesIndex:
	Changed to a more decent and informative content.
	* db1.py:
	Corrected some problems when upgrading and added some upgrade output to
	the user.
25-04-2006: Pedro Algarvio <ufs@ufsoft.org>
	* WikiTemplates: attachment.py was added(copied and modified from trac's
	source), so, we now also support attachments.
	* web_ui.py:
	Modified to support attachements and to show a form to ease new templates
	creation, only shown if we're on the index list of templates.
	Changes on templates are now also show on the timeline.
	* wikitemplates.css:
	Minor changes to show a preview image under the templates preview box.
	* WikiTemplates.cs:
	Changed to support the template creation form.
	* macro.py:
	We now remove any '<p>' and/or '</p>' html tags that starts or ends our
	wiki_to_html output, as well as any linefeed in it. This definitly fixes
	ticket #3.
23-04-2006: Pedro Algarvio <ufs@ufsoft.org>
	* web_ui.py:
	If there's a version of the template called in the database, build a
	preview of so it can be displayed; If it's the handler that's called
	display all available templates. Links to the WikiFormating and TracWiki
	restored.
	Cleaned up a bit and added some explanations.
	* db1.py:
	Now removes old (version < 0.3) templates from the wiki table after adding
	them to the templates table.
	* WikiTemplates.cs:
	Changed accordingly so template previews can be displayed.
	* setup.py:
	Package name changed to WikiTemplates, plus minor changes, and inclusions
	of the CSS file needed for previews.
	* templateswiki.css:
	CSS file needed for templates preview.
	* ChangeLog:
	Updated.
20-04-2006: Pedro Algarvio <ufs@ufsoft.org>
	* TracWikiTemplates:
	Major change in !WikiTemplates code.
	In oder for me to use some neat VIM plugins and to comply with Python's
	sugested standards, all source is now NOT using any tabs, instead we're
	using space-tabs; for which every 4 spaces equals one tab.
	Now, templates aren't stored in the `templates/` sub-wiki, they're stored
	on their own wiki-like database   table, totaly independant from the wiki
	table. To do this we borrowed `web_ui.py`, `model.py` and `db_schema.py`
	from Trac's code. Of course, necessary changes we're made.
	Also introduced `errors.py` that will handle all errors that will be
	needed to send to the user.
	Our `__init_.py` will also handle database tables creation, add our new
	permissions to Trac's permission table, and migration of old templates
	under the `templates/` sub-wiki to the new templates database table.
	Actually, `__init_.py` will only call our `upgrades` sub-module to handle
	all all this; just like Trac does.
	Our `macro.py` now takes care of bug #3.
	Migration to `entry_points` to stop using `trac_plugin.txt`.

--0.2.1--
15-04-2006: Pedro Algarvio <ufs@ufsoft.org>
	* TracWikiTemplates:
	Starting the 0.2.1 branch so we can release some minor fixes and
	improvements.
	* setup.py:
	Dropped the use of trac_plugin.txt; migrated to entry_points
	* macro.py:
	Dropped the unnecessary function newlines; don't even know why I added it,
	can't seem to remember.
	Plugin now doesn't output the last linefeed that was causing some
	wiki_to_html to be wrongly(ugly) outputed. See #3.

--0.2.0--
26-12-2005: Pedro Algarvio <ufs@ufsoft.org>
	* TracWikiTemplates:
	This commit's purpose is to release TracWikiTemplates-0.2.0 as stable.
25-12-2005: Pedro Algarvio <ufs@ufsoft.org>
	* macro.py:
	Included some debug ouput so see how everything is working.
	Finaly working, args are parsed so wiki text can be htmlized.
	Plugin no longer provides it's own escape() function,
	wiki_to_oneliner() will take care of all that. Instead we add a newlines()
	function that will parse whats returned from wiki_to_oneliner() for '\n'
	which gets translated to <br>. Our line	break combo(\n) can also be
	escaped, '\\n' so it will be shown as '\n'. Closes #7.
	Added a ChangeLog.

22-12-2005: Pedro Algarvio <ufs@ufsoft.org>
	* TracWikiTemplates:
	Removed the space to html escape.

21-12-2005: Pedro Algarvio <ufs@ufsoft.org>
	* TracWikiTemplates:
	Fixed a bug that I didn't found it existed, escaping '|', was causing
	errors.
	Now '<', '>', '&' and ' ' are escaped and not interpreted as html, closes
	#6.	

19-11-2005: Pedro Algarvio <ufs@ufsoft.org>
	* TracWikiTemplates:
	Propset adjustments.

11-11-2005: Pedro Algarvio <ufs@ufsoft.org>
	* TracWikiTemplates:
	Now using tabs instead of spaces.
	vim: set tabstop=4
	vim: set shiftwidth=4

18-10-2005: Pedro Algarvio <ufs@ufsoft.org>
	* TracWikiTemplates:
	Changed the spliting arg from ',' to '|'. This fixes bug #4.
	Were now able to escape the char we use for separating the arguments.
	Fixes #5.
	Also with this, I added an if/else statement to see if we're escaping it,
	if we do, we run more code, if we don't, we run what we used to.

11-10-2005: Pedro Algarvio <ufs@ufsoft.org>
	* TracWikiTemplates:
	Changing name again.
	
07-10-2005: Pedro Algarvio <ufs@ufsoft.org>
	* TracWikiTemplates:
	Added exception handling to take care of badly passed arguments, or no
	arguments at all.
	Added better documentation inside the macro.
	Changed a few propsets.

06-10-2005: Pedro Algarvio <ufs@ufsoft.org>
	* TracWikiTemplates:
	Removed some un-necessary imports.
	Droped the sql query, now using trac.wiki.model.WikiPage? to do that work.
	Some renamings.
	
04-10-2005: Pedro Algarvio <ufs@ufsoft.org>
	* TracWikiTemplates:
	Now workin on trunk as 0.2pre.
	Not using StringIO anymore, I'm simply returning what wiki_to_html
	outputs.
	All templates are now retieved from templates/, kind of a subset of wiki
	pages.
	Protected my sql query against sql injection.
	Some code cleanup.
	Added copying, and setup.cfg to build the egg and include dev and the
	revision number.

03-10-2005: Pedro Algarvio <ufs@ufsoft.org>
	* TracWikiTemplates:
	Released version 0.1 of TracWikiTemplates.
	Some propset adjustments.
