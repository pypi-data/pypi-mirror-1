# 20100209, http://hakmatak.org/dev, httpd conf for hakmatak CGI.
#
# b07d15c79b26e9463aa63eabe3d9054e is md5sum of hakmatak
# b07d15c7 is used as the alias. But, it can be any unique string you prefer.

ScriptAlias /b07d15c7 /home/webifier/wsgi/hakmatak

# dir listing with webifiable items
<DirectoryMatch "^/var/www/html/test/data/txt">
  Options FollowSymLinks
  DirectoryIndex /b07d15c7/index.py
</DirectoryMatch>

# rewrite URLs for *.txt to w10n type bytearray
RewriteRule ^(/test/data/txt/.*[^/]+\.(txt))(/.*)$ /b07d15c7/webify.py/bytearray!$1!$3 [NC,NS,PT]

#---------------------
# rewrite engine setup
#---------------------

RewriteEngine on
#RewriteLogLevel 9
#RewriteLog /var/log/httpd/rewrite_log

# flags used:
# L: last
# NC: nocase
# NS: nosubreq
# PT: paththrough. You must use this flag if you want to mix directives
#     from different modules which allow URL-to-filename translators
# for details,
# check http://httpd.apache.org/docs/2.2/mod/mod_rewrite.html#rewriterule

##..................
## if a dir seen, don't check further
#
#RewriteCond %{DOCUMENT_ROOT}%{SCRIPT_FILENAME}  -d
#RewriteRule ^.+$ - [L]

#------------------
# CGI configuration
#------------------

#SetEnv PYTHONPATH /home/webifier/hakmatak-1.1.1
# may not need
#SetEnv PYTHON_EGG_CACHE /home/webifier/.python-eggs

#PassEnv LD_LIBRARY_PATH
