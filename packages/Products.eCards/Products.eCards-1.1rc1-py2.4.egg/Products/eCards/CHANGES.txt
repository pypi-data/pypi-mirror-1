Changelog
=========

(svn/unreleased)
----------------

- TBD [developer's name in brackets]

1.1rc1 (2008.11.10)
--------------------------------

- Tweaking actions for eCardCollections and eCards items to take maximize impact of
  efficient tabber user inteface (i.e. no longer need properties tab) and the fact 
  that sharing is now a global action 
  (see: http://plone.org/documentation/manual/upgrade-guide/version/2.5-3.0/products).
  Other minimal cleanup [andrewb]

- Changed schemata name "Email Settings" for the eCardCollection content object. In a
  nutshell, multiple word schemata's are a bad idea when pared with the new tabber 
  user interface. In addition to having it's own schemata, our two word schemata fields
  also appear in a separate fieldset on the default page.  I didn't have time to investigate
  the root cause and Google didn't turn up results, so we take this workaround of a 
  renamed schema [andrewb]

- Utilizing Plone 3.x viewlet managers for control of template elements like: document
  actions, above content body items, etc.  If the ecardcollection_view is customized 
  and you're upgrading eCards, see the following changeset for what should be merged
  within your custom template:
  http://dev.plone.org/collective/changeset/75433 [andrewb]

- Pulling as much installation boilerplate and cruft out of Extension/Install.py and
  into Generic Setup profiles as is currently feasible. Still maintain an Install 
  module with uninstall method because as of CMFQI version 2.1.6 we don't have a 
  convention for looking for an appropriate uninstall profile and InstalledProduct 
  instances don't fully clean-up like we want [andrewb]

- In previous releases of eCards we were essentially hand rolling the necessary block
  of text required to send an HTML email.  Because this is a profoundly bad idea and 
  quite fragile, the structuring of the emailing is now done in a helper method within
  browser.py utilizing Python's email message module.  The aim is to let 
  people freely customize "email_template.pt" within the ecards_template
  skin folder.  This should be pretty future proof.  Because branding of the full eCard
  experience is pretty important, if you also needed to customize send_ecard.cpy, 
  you may need to merge your modifications with the updated code base.  See the following 
  changeset for help: http://dev.plone.org/collective/changeset/75168 
  [andrewb, thanks to mborch & collective.singing for inspiration]

- Updates to ecardpopup_view.pt and ecardpopup_thanks.pt. Bringing in line with the plone.htmlhead
  viewlet.  Again, because customization of skin layers is pretty critical and it's quite likely
  that the ecardpopup_view.pt and ecardpopup_thanks.pt were customized if you're 
  upgrading to eCards 1.1, you'll want to merge the following changes into your 
  customizations: http://dev.plone.org/collective/changeset/75162
  Please keep in mind that old versions of these templates no longer work with 
  Plone 3.x because of the lack of a header.pt within the skin layer [andrewb]

- Code updates and refactoring for Plone 3.x compliance.  Plone 2.5.x no longer actively
   maintained, though patches that maintain compatibility in both releases happily accepted.
   Thanks to mborch for all initial work [andrewb, mborch]

1.0 final (2008.11.6)
--------------------------------

- fixed image transparency for type icon used for the eCard Collection folderish type.
  Requires updating the 'content_icon' value within an eCardCollection's
  portal_type listing from 'ecardcollection_icon.jpg' to 'ecardcollection_icon.gif'.  This can 
  either be achieved with product reinstall or by manually changing the value within the
  types tool [andrewb, thanks to jboese] 

- fixed http://plone.org/products/ecards/issues/12, whereby the eCard collection
  view doesn't account for position in its parent collection for a given eCard [andrewb]

- fixed http://plone.org/products/ecards/issues/10, whereby the eCardCollection
  content objects within a site were not reorderable within their parent folder.
  Requires updating the 'Product Meta Type' value within an eCardCollection's
  portal_type listing from 'eCardCollection' to 'ECardCollection'.  This can either
  be achieved with product reinstall or by manually changing the value within the
  types tool [andrewb]

1.0 release candidate 1 (2007.10.15)
-------------------------------------

- fixed issue where main page reloaded after clicking on popup link [davidg]
- fixed Javascript error with popups in IE7 [davidg]

1.0 beta 1
--------------------------------

- Pulling HTML email out of cpy, so that it's a designer, rather than a developer task to (thanks davidg and jbaldivieso)
- Adding feature to allow content editors to choose their desired thumbnail size for the collection view,
  cleaned up language on the various fields that impact this behavior (thanks davidg and vedawms)
- Fixing bug where the popup ecard template was a fixed width, rather than based upon
  the width of the actual uploaded image
- Registering custom permission, protecting the sending of email by that permission
- Protecting the send_ecard success action with validation, so it's harder to abuse 
  with a GET REQUEST (not relevant for Plone 3.0+, but important for earlier Plone versions)
- Ensuring product winzip capable with non-empty __init__.py files

1.0 alpha 2
--------------------------------

- registering css resource with styles that can be customized within
  site-specific theme product
- cleaning up templates so that they more Plone-like in their use of style
  and html structure
- displaying all fields that will go into the email in the pop-up template
- fixing bug in eCard type generic setup profile causing the view action
  to go directly to the index_html method, rather than the view alias

1.0 alpha 1
--------------------------------

- initial import of content types and skins from working code on snowleopard.org
- addition of comprehensive test suite of all no ZPT, CMFFormController code 
  to ensure quality control going forward

