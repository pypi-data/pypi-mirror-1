<html>
<head>
    <title>Sweepy</title>
    <style type="text/css">
        .tablerow {height: 30px;}
        .tablecol {width: 30px;}
        .tablecol p {margin: 0; padding: 0; border: 0;}
        .tablecol a {text-decoration: none;}
        .cell {font-size: large;}
        .cell_action {font-size: xx-small; text-align: right;}
    </style>
</head>
<body>
% if c.gameover:
% if c.num_left == 0:
    <h3>Well Done !</h3>
% else:
    <h3>Game Over !</h3>
% endif
% else:
    <p>${c.num_left} cells left. Click * to uncover or . to flag</p>
% endif
    <table border=1>
% for (rownum, row) in enumerate(c.grid):
       <tr class="tablerow">
% for (colnum, col) in enumerate(row):
         <td class="tablecol"
% if c.gameover and (rownum, colnum) in c.bombs:
            style="background: red;"
% endif 
         >
         <p class="cell">${col}</p>
% if col == "?" or col == "F":
         <p class="cell_action">
         <a href="${h.url_for(controller='game', action='uncover', row=rownum, col=colnum)}" 
             title="Uncover">*</a>
         <a href="${h.url_for(controller='game', action='flag', row=rownum, col=colnum)}" 
             title="Flag/Unflag">.</a></p>
% endif
         </td>
% endfor
       </tr>
% endfor
    </table>
% if c.gameover:
    <p><a href="${h.url_for('game_start')}">Play Again</a></p>
% endif
</body>
</html>
