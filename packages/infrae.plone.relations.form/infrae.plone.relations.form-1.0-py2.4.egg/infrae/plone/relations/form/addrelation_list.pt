<tal:block define="results view/getSearchResult"
           condition="results">
  <fieldset i18n:domain="plone"
            class="new-plone-relation">
    <legend>New relation</legend>
    <table>
      <tr tal:repeat="result results">
        <tal:define tal:define="field_dot string:${context/getName}.add_value.${repeat/result/number};
                                field_id python:view.nameToId(field_dot)">
          <td>
            <input type="#" id="#" name="#" value="#"
                   tal:attributes="type  view/getButtonType;
                                   name  string:${context/getName}.add_value:list;
                                   id    field_id;
                                   value result/uid" />
          </td>
          <td>
            <label for="#"
                   tal:attributes="for   field_id">
              <a href="#"
                 tal:attributes="href    result/url"
                 tal:content="result/title">
                Title
              </a>
            </label>
          </td>
        </tal:define>
      </tr>
      <tr tal:condition="context/relationUseContext">
        <td colspan="2"
            tal:content="structure context/renderEditContext">
        </td>
      </tr>
      <tr>
        <td>
          <input type="submit" 
                 id="#" name="#" 
                 value="Add"
                 tal:define="field_name string:${context/getName}.add_button"
                 tal:attributes="name   string:${context/getName}.add_button;
                                 id     python:view.nameToId(field_name)" />
        </td>
      </tr>
    </table>
  </fieldset>
</tal:block>
