<tal:block condition="context/relationUseContext"
           i18n:domain="plone">
    <fieldset tal:define="plone context/getPloneContext;
                          error view/error|nothing"
              class="edit-context-relation">
      <legend i18n:translate="">Context</legend>
      <div tal:condition="error"
           tal:content="structure error"
           class="portalMessage error">
        
        ERRORS
      </div>
      <div class="row" tal:repeat="widget view/getContextWidgets">
        <div class="field"
             tal:define="description widget/hint;
                         error widget/error"
             tal:attributes="class python:'field'+(error and ' error' or '')">
          <label tal:attributes="for widget/name">
            <span i18n:translate=""
                  tal:content="widget/label">label</span>
          </label>
          <span class="fieldRequired" title="Required" tal:condition="widget/required">
            (Required)
          </span>
            
          <div class="formHelp"
               i18n:translate=""
               tal:content="description"
               tal:condition="description"
               >field description</div>
          <div tal:condition="error" tal:content="structure error">
            The Error
          </div>
          <div class="widget" tal:content="structure widget">
          <input type="text" /></div>
        </div>
      </div>
      <div class="row" tal:condition="view/hasButton">
        <input type="submit" 
               id="plonerelation.button" 
               name="#" 
               value="Modify"
               tal:attributes="name string:${context/getName}.modify_apply" 
               />
      </div>
    </fieldset>
</tal:block>

