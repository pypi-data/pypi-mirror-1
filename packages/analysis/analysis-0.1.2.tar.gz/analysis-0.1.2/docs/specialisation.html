<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>


  
  
  <meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type" />


  
  
  
  
  
  <title>Specialisation</title><meta name="generator" content="amaya 8.1a, see http://www.w3.org/Amaya/" />


  
  
  <link href="styles.css" rel="stylesheet" type="text/css" /></head>
<body>


<h1>Specialisation</h1>
<p>Specialisation of functions occurs when a call to a function is
processed. There are two principal possible strategies for choosing and
retaining specialisations:</p>
<h2>Lazy</h2>
<p>Consider a loop where re-specialisation occurs:</p>
<pre>while something:<br />    some_value = function(some_value)</pre>
<p>Here, the following specialisations may be detected and generated:</p>
<ol>
  <li><code>some_value</code>&nbsp;is&nbsp;<code>int</code>:&nbsp;<code>function(int)</code> is created whose result is&nbsp;<code>float</code></li>
  <li><code>some_value</code> was&nbsp;<code>int</code> but is now <code>float</code>:&nbsp;<code>function(int or float)</code> is created whose result is&nbsp;<code>float</code></li>
  <li><code>some_value</code> was <code>int or float</code> but is now <code>float</code>: we have already covered this case</li>
</ol>
<p>With "lazy specialisation", if&nbsp;<code>some_value</code>&nbsp;changes
type, the only specialisation that will be maintained will be that
containing the whole set of possible types for the parameters.</p>
<p>Motivations for using this strategy include only remembering the
current specialisations for a node, and only maintaining a single node
to represent a place where a function call is made. To collect all
possible types for a particular variable it is necessary to remember
the namespace entries for each iteration and to merge them together
with&nbsp;subsequent iterations' entries.</p>
<h2>Precise</h2>
<p>Consider the above example. Given that&nbsp;</p>
<ol>
<li><code>some_value</code>&nbsp;is&nbsp;<code>int</code>:&nbsp;<code>function(int)</code> is created whose result is&nbsp;<code>float</code></li><li><code>some_value</code>&nbsp;is <code>float</code>:&nbsp;<code>function(float)</code> is created whose result is&nbsp;<code>float</code></li><li><code>some_value</code>&nbsp;is <code>float</code>: we have already covered this case</li>
</ol>

<p>With "precise specialisation" we attempt to maintain every new
specialisation found, noting that the cost of doing so will be incurred
in code generation where we must generate code to distinguish between
the conditions for the invocation of each particular specialisation.</p>
<p>Requirements for using this strategy include remembering previous
specialisations and/or specialising the code for the loop itself.</p>
</body></html>