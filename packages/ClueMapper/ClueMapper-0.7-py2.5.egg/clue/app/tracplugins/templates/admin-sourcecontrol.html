<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:py="http://genshi.edgewall.org/"
      xmlns:xi="http://www.w3.org/2001/XInclude">
  <xi:include href="admin.html" />
  <head>
    <title>Source Control Settings</title>
  </head>

  <body>
    <div py:if="message" class="status-message">
      $message
    </div>

    <form class="mod" method="get">
      <fieldset>
        <legend>Users with access</legend>

        <table class="listing">
          <thead>
            <tr>
              <th>User</th>
              <th>Read Access</th>
              <th>Write Access</th>
            </tr>
          </thead>
          <tbody>
            <py:for each="user in existing_users">
              <tr>
                <td>
                  ${user['fullname']}
                  <input type="hidden" name="user_${user['username']}"
                         value="1" />
                </td>
                <td><input type="checkbox" name="read_${user['username']}"
                           checked="${user['read']}" /></td>
                <td><input type="checkbox" name="write_${user['username']}"
                           checked="${user['write']}" /></td>
              </tr>
            </py:for>
          </tbody>
        </table>
      </fieldset>
      <div class="buttons">
        <input type="submit" name="existing_applied" value="Apply changes"/>
      </div>
    </form>

    <form class="mod" method="get">
      <fieldset>
        <legend>Project users without access</legend>

        <table class="listing">
          <thead>
            <tr>
              <th>User</th>
              <th>Read Access</th>
              <th>Write Access</th>
            </tr>
          </thead>
          <tbody>
            <py:for each="user in noaccess_users">
              <tr>
                <td>
                  ${user['fullname']}
                  <input type="hidden" name="user_${user['username']}"
                         value="1" />
                </td>
                <td><input type="checkbox" name="read_${user['username']}"
                           checked="${user['read']}" /></td>
                <td><input type="checkbox" name="write_${user['username']}"
                           checked="${user['write']}" /></td>
              </tr>
            </py:for>
          </tbody>
        </table>
      </fieldset>
      <div class="buttons">
        <input type="submit" name="noaccess_applied" value="Apply changes"/>
      </div>
    </form>

    <form class="mod" method="get">
      <fieldset>
        <legend>Add non-project user</legend>
        <div class="field">
          <label for="username">Username</label>
          <input type="text" name="username" value="" />
        </div>
        <div class="field">
          <label for="read">Read Access</label>
          <input type="checkbox" name="read" value="1" />
        </div>
        <div class="field">
          <label for="write">Write Access</label>
          <input type="checkbox" name="write" value="1" />
        </div>
      </fieldset>
      <div class="buttons">
        <input type="submit" name="adduser" value="Add"/>
      </div>
    </form>

  </body>
</html>
