<h2>Methods and Attributes</h2>
<tal:methods tal:define="methods view/getMethods">
<h3>Context Methods</h3>
<span tal:condition="python:len(methods)==0" class="error">This object has no callable methods.</span>

<table tal:condition="python:len(methods)!=0">
	<thead>
	<tr>
		<td>Method/Module</td>
		<td>Source</td>
		<td>Call</td>
		<td>Docstring</td>
	</tr>
	</thead>
	
	<tr tal:repeat="method methods">
		<td class="title">
			<span tal:content="method/id">absolute_url</span> 
		
			<tal:args tal:condition="python:not method['args'].has_error">
			(<span style="color:#AAA;" tal:content="python:method['args']()"></span>)
			</tal:args>
			
		
			<tal:module tal:define="mod python:method['module']()" tal:condition="python:not method['module'].has_error"><br/>
				in <a tal:condition="python:mod!='Unknown'" tal:attributes="href python:'the_oracode?object=' + mod"><span tal:content="mod"></span></a>
				<span tal:condition="python:mod=='Unknown'">Unknown</span>
			</tal:module>
		</td>
		<td class="title" style="padding-right:20px;">
			<a tal:attributes="href python:'the_oracode?object=' + str(method['id'])" tal:condition="python:not method['src'].has_error">Source</a>
		</td>
		<td class="title" style="padding-right:20px;">		
			<a tal:attributes="href python:'the_oracall?method=' + str(method['id'])">Call</a>			
		</td>
		
		<td class="value">
			<span tal:content="python:method['doc']()"></span>
	
		</td>
	</tr>
	</table>
</tal:methods>

<br/>
<tal:attrs tal:define="attributes view/getAttributes">
<h3>Context Attributes</h3>
<span tal:condition="python:len(attributes)==0" class="error">This object has no attributes.</span>

<table tal:condition="python:len(attributes)!=0">
	<thead>
	<tr>
		<td>Attribute</td>
		<td>Value</td>
	</tr>
	</thead>
	<tr tal:repeat="attr python:attributes">
		<td class="title">
			<span tal:content="attr/id">absolute_url</span>
		</td>
		<td>
			<!-- TODO: Put the truncation notifications back -->
			<span class="value" tal:content="python:str(attr['value']())[:80]" tal:on-error="string:Error" tal:attributes="class python:attr['value'].getClass()" />
		</td>
	</tr>
	</table>
</tal:attrs>
	
<tal:unknowns tal:define="unknowns view/getUnknowns" tal:condition="python:len(unknowns)!=0">
<br/>
<h3>Context Unknowns</h3>
	<table tal:condition="python:len(unknowns)!=0">
	<tr>
		<td>Attribute</td>
		<td>Value</td>
	</tr>
	
	<tr tal:repeat="attr python:unknowns">
		<td class="title">
			<span tal:content="attr/id">absolute_url</span>
		</td>
		<td><span tal:content="attr/error"></span></td>
	</tr>
	</table>
</tal:unknowns>
