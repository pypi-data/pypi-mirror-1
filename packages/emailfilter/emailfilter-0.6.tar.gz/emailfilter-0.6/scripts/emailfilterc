#!/bin/sh
# EMAILFILTERC - EMailFilter client script
# Copyright (C) 2008-2009 by Peter A. Donis
#
# Released under the GNU General Public License, Version 2
# See the LICENSE and README files for more information
#
# Script for invoking the emailfilter client

PREFIX=""
EMAILFILTER_BUFSIZE=""
EMAILFILTER_HOSTNAME=""
EMAILFILTER_PORT=""

CEMAILFILTER="cfilter -b $EMAILFILTER_BUFSIZE -h $EMAILFILTER_HOSTNAME -r $EMAILFILTER_PORT"
NCEMAILFILTER="nc $EMAILFILTER_HOSTNAME $EMAILFILTER_PORT"
NETEMAILFILTER="netcat $EMAILFILTER_HOSTNAME $EMAILFILTER_PORT"
PYEMAILFILTERC="$PREFIX/lib/emailfilter/emailfilterc.py"

if [ "$1" == "-c" ]; then
  shift
  $CEMAILFILTER $@
elif [ "$1" == "-n" ]; then
  shift
  $NCEMAILFILTER $@
elif [ "$1" == "-t" ]; then
  shift
  $NETEMAILFILTER $@
else
  python $PYEMAILFILTERC $@
fi
