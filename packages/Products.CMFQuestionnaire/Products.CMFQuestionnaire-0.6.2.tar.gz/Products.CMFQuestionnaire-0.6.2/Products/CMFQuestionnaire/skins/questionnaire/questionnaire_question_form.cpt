<html
    xmlns="http://www.w3.org/1999/xhtml"
    xml:lang="en"
    xmlns:tal="http://xml.zope.org/namespaces/tal"
    xmlns:metal="http://xml.zope.org/namespaces/metal"
    xmlns:i18n="http://xml.zope.org/namespaces/i18n"
    lang="en"
    metal:use-macro="here/main_template/macros/master"
    i18n:domain="cmfquestionnaire">
<body>
  <tal:block metal:fill-slot="main">

  <h1 class="documentFirstHeading"
      tal:content="here/Title">
    Title
  </h1>

  <form action="questionnaire_question_form"
        class="enable_autofocus"
        name="questionnaire_question_form"
        method="post"
        tal:attributes="action string:${here/absolute_url}/${template/id}">

    <input type="hidden"
            name="form.submitted"
            value="1"/>

    <fieldset tal:define="question python:here.getQuestion(request.questionId)"
              tal:condition="question">
      <legend i18n:translate="label_question_info">Question Information</legend>

      <input type="hidden"
             name="questionId"
             value="q0"
             tal:attributes="value question/id"/>

      <div class="field">
        <label for="newText"
               i18n:translate="label_question_text">Question Text</label>
        <div class="formHelp"></div>
        <input type="text"
               id="newText"
               name="newText"
               value=""
               size="80"
               tal:attributes="value question/text"/>
      </div>

      <div class="field">
        <label for="newOptions"
               i18n:translate="label_options">Options</label>
        <div class="formHelp"
             i18n_translate="help_options">
          Enter the options for this question.
        </div>
        <tal:block tal:define="options python:question['options']">
        <textarea id="newOptions"
                  name="newOptions"
                  rows="3"
                  cols="20"
                  tal:attributes="rows python:len(options)"
                  tal:content="python:'\n'.join(options)"></textarea>
        </tal:block>
      </div>

      <input type="submit"
             class="standalone"
             name="form.button.updateQuestion"
             value="Update"
             i18n:attributes="value"/>
    </fieldset>
  </form>
  </tal:block>
</body>
</html>
