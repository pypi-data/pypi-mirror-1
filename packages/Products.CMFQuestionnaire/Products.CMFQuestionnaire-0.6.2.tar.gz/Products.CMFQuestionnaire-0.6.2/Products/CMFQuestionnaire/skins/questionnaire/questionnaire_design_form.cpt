<html
    xmlns="http://www.w3.org/1999/xhtml"
    xml:lang="en"
    xmlns:tal="http://xml.zope.org/namespaces/tal"
    xmlns:metal="http://xml.zope.org/namespaces/metal"
    xmlns:i18n="http://xml.zope.org/namespaces/i18n"
    lang="en"
    metal:use-macro="here/main_template/macros/master"
    i18n:domain="cmfquestionnaire">
<body>
  <tal:block metal:fill-slot="main">

  <h1 class="documentFirstHeading"
      tal:content="here/Title">
    Title
  </h1>

  <form action="questionnaire_design_form"
        class="enable_autofocus"
        name="questionnaire_design_form"
        method="post"
        tal:attributes="action string:${here/absolute_url}/${template/id}">

    <input type="hidden"
            name="form.submitted"
            value="1"/>

    <div class="field"
         tal:define="items here/getItems">
      <table class="listing"
             tal:condition="items">
        <thead>
          <tr>
            <th class="nosort"></th>
            <th class="nosort"
                i18n:translate="label_title"
                i18n:domain="plone">Title</th>
          </tr>
        </thead>
        <tbody>
          <tal:block tal:repeat="item items">
          <tr tal:define="n repeat/item/number"
              tal:attributes="class python:test(n%2==1, 'odd', 'even')">
            <td>
              <input type="checkbox"
                     name="itemIds:list"
                     value="0"
                     tal:attributes="value item/id"/>
            </td>
            <td>
              <tal:block tal:condition="python:item['type']=='q'">
              <a href="#"
                 tal:attributes="href string:${here/absolute_url}/questionnaire_question_form?questionId=${item/id}"
                 tal:content="item/text">Question text</a>
              </tal:block>
              <tal:block tal:condition="python:item['type']=='g'">
              <a href="#"
                 tal:attributes="href string:${here/absolute_url}/questionnaire_group_form?groupId=${item/id}"
                 tal:content="item/title">Group title</a>
              </tal:block>
            </td>
          </tr>
          </tal:block>
        </tbody>
      </table>
  
      <input type="submit"
             class="context"
             name="form.button.addQuestion"
             value="Add Question"
             i18n:attributes="value"/>
  
      <input type="submit"
             class="context"
             name="form.button.addGroup"
             value="Add Group"
             i18n:attributes="value"/>
  
      <input type="submit"
             class="context"
             name="form.button.deleteItems"
             value="Delete"
             tal:condition="items"
             i18n:attributes="value"/>
    </div>
  </form>
  </tal:block>
</body>
</html>
