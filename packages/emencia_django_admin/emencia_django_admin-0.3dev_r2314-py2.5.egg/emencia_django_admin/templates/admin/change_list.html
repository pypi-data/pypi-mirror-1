{% extends "admin/base_site.html" %}
{% load adminmedia admin_list i18n admin_emencia%}

{% block stylesheet %}{% admin_media_prefix %}css/changelists.css{% endblock %}

{% block bodyclass %}change-list{% endblock %}

{% if not is_popup %}{% block breadcrumbs %}<div class="breadcrumbs"><a href="../../">{% trans "Home" %}</a> &rsaquo; <a href="../">{{ app_label|capfirst|escape }}</a> &rsaquo; {{ cl.opts.verbose_name_plural|capfirst|escape }}</div>{% endblock %}{% endif %}

{% block coltype %}flex{% endblock %}

{% block content %}
<div id="content-main">
{% block object-tools %}
{% if has_add_permission %}
<ul class="object-tools">
    <li><a href="add/{% if is_popup %}?_popup=1{% endif %}" class="addlink">{% blocktrans with cl.opts.verbose_name|escape as name %}Add {{ name }}{% endblocktrans %}</a></li>
    <li><a href="csv/{% if is_popup %}?_popup=1{% endif %}" class="addlink">{% blocktrans with cl.opts.verbose_name|escape as name %}Export CSV {{ name }}{% endblocktrans %}</a></li>
</ul>
{% endif %}
{% endblock %}
<div class="module{% if cl.has_filters %} filtered{% endif %}" id="changelist">
{% block search %}{% search_form cl %}{% endblock %}
{% block date_hierarchy %}{% date_hierarchy cl %}{% endblock %}

{% block filters %}
{% if cl.has_filters %}
<div id="changelist-filter">
<h2>{% trans 'Filter' %}</h2>
{% for spec in cl.filter_specs %}
   {% admin_list_filter cl spec %}
{% endfor %}
</div>
{% endif %}
{% endblock %}

{% block result_list %}
    <form action="delete/" method="post">
	{% emencia_result_list cl %}
	{{ block.super }}
	{% for r in cl.get_query_set %}
	    <input type="hidden" name="qs_obj" value="{{ r.id }}"
	    id="qs_obj_{{ r.id }}">
	{% endfor %}
	<p>
	    <input type="submit" name="delete_selected"
	    id="id_delete_selected" value="Delete selected" />
	    <input type="submit" name="delete_shown" id="id_delete_shown"
	    value="Delete shown" />
	    <input type="submit" name="delete_all" id="id_delete_all"
	    value="Delete all" />
	</p>
    </form>
{% endblock %}
{% block pagination %}{% pagination cl %}{% endblock %}
</div>
</div>
{% endblock %}
