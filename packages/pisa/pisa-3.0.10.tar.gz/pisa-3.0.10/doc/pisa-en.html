<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>pisa Documentation</title>
<link href="pisa.css" type="text/css" rel="stylesheet" media="all">
</head>
<body>

<div id="footer">
	pisa PDF Generator. Page 
	  <pdf:pagenumber>
</div>

<p class="title">pisa</p>
<p class="subtitle">PDF Gernerator </p>
<p class="copyright">(C)opyright by Dirk Holtwick, 2004-2007</p>

<pdf:nexttemplate name="regular"/>

<h1>Introduction</h1>
<p><strong>XXX TO BE WRITTEN</strong> </p>
<p>See README.txt for now</p>
<h1>Command line</h1>
<p><strong>XXX TO BE WRITTEN</strong></p>
<p>See README.txt for now</p>
<h1>Python module</h1>
<p><strong>XXX TO BE WRITTEN</strong></p>
<p>See &quot;test/simply.py&quot; for now </p>
<h1>Defaults</h1>
<p>Some notes on some default values:  </p>
<ul>
  <li>Usually the position (0,0) in PDF files is found in the lower left corner. For pisa it is the upper left corner like it is for HTML.</li>
  <li>The default page size is DIN A4 with portrait orientation.</li>
  <li>The name of the first layout template is &quot;body&quot; (XXX May be changed!) </li>
</ul>
<h1>Cascading Style Sheets</h1>
<p>PML supports a subset of Cascading Style Sheet (CSS). The following styles are supported:</p>
<pre>color<br>font-family <br>font-size <br>font-weight<br>font-style<br>text-decoration<br>line-height<br>background-color<br>display<br>margin-left<br>margin-right<br>margin-top<br>margin-bottom<br>padding-left<br>padding-right<br>padding-top<br>padding-bottom<br>border-top-color<br>border-top-style<br>border-top-width<br>border-bottom-color<br>border-bottom-style<br>border-bottom-width<br>border-left-color<br>border-left-style<br>border-left-width<br>border-right-color<br>border-right-style<br>border-right-width<br>text-align<br>vertical-align<br>width<br>height<br>zoom<br>page-break-after<br>page-break-before<br>list-style-type<br>white-space
size</pre>
<p>Vendor specific: </p>
<pre>-pdf-page-break
-pdf-frame-border
-pdf-frame-content</pre>
<h1>Layout Definition</h1>
<h2>Pages and Frames </h2>
<p>Pages can be layouted by using some special CSS at-keywords and properties. All special properties start with &quot;-pdf-&quot; to mark them as vendor specific as defined by CSS 2.1. Layouts may be defined by page using the @page keyword. Then text flows in one or more frames which can be defined within the @page block by using @frame. Example:</p>
<pre>@page {
  @frame {
    margin: 1cm;
  }
} </pre>
<p>In the example we define an unnamed page template - though it will be used as the default template - having one frame with 1cm margin to the page borders. The first frame of the page may also be defined within the @page block itself. See the equivalent example: </p>
<pre>@page {
  margin: 1cm;
} </pre>
<p>To define more frames just add some more @frame blocks. You may use the following properties to define the dimensions of the frame:</p>
<ul>
  <li>marign</li>
  <li>margin-top</li>
  <li>margin-left</li>
  <li>margin-right</li>
  <li>margin-bottom</li>
  <li>top</li>
  <li>left</li>
  <li>right</li>
  <li>bottom</li>
  <li>width</li>
  <li>height</li>
</ul>
<p>Here is a more complex example:</p>
<pre>@page lastPage {   
  top: 1cm;
  left: 2cm;
  right: 2cm;
  height: 2cm;
  @frame middle {     
    margin: 3cm; 
  }
  @frame footer {
    bottom: 2cm;
    margin-left: 1cm;
    margin-right: 1cm;
    height: 1cm;
  }
} </pre>
<h2>Page size and orientation </h2>
<p>A page layout may also define the page size and the orientation of the paper using the &quot;size&quot; property as defined in CSS 3. Here is an example defining page size &quot;DIN A5&quot;  with &quot;landscape&quot; orientation (default orientation is &quot;portrait&quot;): </p>
<pre>@page {
  size: a5 landscape;
  margin: 1cm;
} </pre>
<p>Here is a list of valid page sizes:</p>
<ul>
  <li>a0 ... a6</li>
  <li>b0 ... b6</li>
  <li>letter</li>
  <li>legal</li>
  <li> elevenseventeen</li>
</ul>
<h2>PDF watermark/ background </h2>
<p>For the use of PDF backgrounds specify the source file in the &quot;background-image&quot; property, like this:</p>
<pre>@page {
  background-image: url(bg.pdf);
}</pre>
<h2>Static frames </h2>
<p>Some frames should be static like headers and footers that means they are on every page but do not change content. The only information that may change is the page number. Here is a simple example that show how to make an element named by ID the content of a static frame. In this case it is the ID &quot;footer&quot;.</p>
<pre>&lt;html&gt;
&lt;style&gt;
@page {   
  margin: 1cm;
  margin-bottom: 2.5cm;
  @frame footer {
    -pdf-frame-content: footerContent;
    bottom: 2cm;
    margin-left: 1cm;
    margin-right: 1cm;
    height: 1cm;
  }
} 
&lt;/style&gt;
&lt;body&gt; 
  Some text
  &lt;div id=&quot;footerContent&quot;&gt;
    This is a footer on page #&lt;pdf:pagenumber&gt;
  &lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
<p>For better debugging you may want to add this property for each frame definition: &quot;-pdf-frame-border: 1;&quot;. It will paint a border around the frame. </p>
<h1>Fonts</h1>
<p>By default there is just a certain set of fonts available for PDF. Here is the complete list and the alias names pisa supports for them (the names are not case sensitive):</p>
<ul>
  <li><strong>Times-Roman</strong>: Times New Roman, Times, Georgia, serif </li>
  <li><strong>Helvetica</strong>: Arial, Verdana, Geneva, sansserif, sans </li>
  <li><strong>Courier</strong>: Courier New, monospace, monospaced, mono </li>
  <li><strong>ZapfDingbats</strong></li>
  <li><strong>Symbol</strong></li>
</ul>
<p>But you may  also embed new font faces by using the @font-face keyword in CSS. Here is how:</p>
<pre>@font-face {
  font-family: Example, &quot;Example Font&quot;;
  src: url(example.ttf);
}</pre>
<p>The &quot;font-family&quot; property defines the names under which the embedded font will be known. &quot;src&quot; defines the place of the fonts source file. This can be a TrueType font or a Postscript font. The file name of the first has to end with &quot;.ttf&quot; the later with one of &quot;.pfb&quot; or &quot;.afm&quot; (the missing file name will be calculated like this: &quot;test&quot; + &quot;.afm&quot; and &quot;test&quot; + &quot;.pfb&quot;).</p>
<h1>Custom Tags </h1>
<p><strong>XXX TO BE WRITTEN</strong></p>
<h3>pdf:pagenumber</h3>
Prints current page number. The argument "example" defines the space
the page number will require e.g. "00".<br>
<h3>pdf:template</h3>
<p> Defines the boxes resp. frames of a page in which the text flows. If a frame is full the next frame is used for the text. And if the last frame of the page is full a new page is opened and there we start again with the first frame. So the order of the frame definition is important! Frames that always contain the same text like e.g. title the of a book repeated on each page, are called &quot;static&quot;. </p>
<p>The  template of the first page is called &quot;default&quot; and contains in the standard definition one frame with 1cm margins. This template definiton can be overridden to change the layout of the first page. </p>
<p>The attribute &quot;background&quot; defines a PDF file that is set into the background of the current page. If this doesn't work it often helps to re-print the watermark PDF with Ghostscript again. If you use &quot;background&quot; the outlines are lost (q.v. <a href="#h1">h1</a>).</p>
<p>Q.v. <a href="#frame">frame</a> and <a href="#static">static</a>. </p>
<p>An example:</p>
<pre>&lt;template name="default"&gt;<br>  &lt;frame name="head"<br>	 box="17,3cm 2.8cm 3.3cm 20cm"&gt;<br>  &lt;frame name="address"<br>         box="2.7cm 5.0cm 8.57cm 4.00cm"&gt;<br>  &lt;frame name="body" <br>         box="3.5cm 10.5cm 13.9cm 17.5cm"&gt;<br>&lt;/template&gt;<br><br>&lt;template name="sub&quot;&gt;
   &lt;static box=&quot;1cm 1cm 13,9cm 1cm&quot;&gt;
       The big book, page &lt;pagenumber&gt;.
   &lt;/static&gt;<br>   &lt;frame name="c"<br>           box="3.5cm 3.5cm 13.9cm 17.5cm"&gt;<br>&lt;/template&gt;</pre>
<h3> pdf:frame</h3>
<p> Q.v. <a href="#template">template</a>. </p>
<h3>pdf:static</h3>
<p> Q.v. <a href="#template">template</a>.</p>
<h3>pdf:nexttemplate</h3>
<p> Defines the template to be used on the next page. </p>
<h3>pdf:nextpage</h3>
<p>Create a new page after this position.</p>
<h3>pdf:nextframe</h3>
<p> Jump to next unused frame on the same page or to the first on a new
  page. You may not jump to a named frame.</p>
<h3 class="del">effect</h3>
<p> (XXX) </p>
<h3>pdf:font</h3>
<p>Embeds PostScript fonts. Files of the formats AFM and PFB are needed. For TrueType fints you need TTF files. The attribute &quot;print&quot; shows the real name of a PostScript font. Examples:</p>
<pre class="del">&lt;fontembed ttf=&quot;vera.ttf&quot; name=&quot;tfont&quot;&gt;<br>&lt;fontembed afm=&quot;leerc.afm&quot; pfb=&quot;leerc.pfb&quot; name=&quot;pfont&quot;&gt;<br>&lt;p&gt;&lt;font face=&quot;tfont&quot;&gt;TrueType, Umlaute: &amp;auml;&amp;ouml;&amp;uuml;&lt;/font&gt;&lt;/p&gt;<br>&lt;p&gt;&lt;font face=&quot;pfont&quot;&gt;PostScript, Umlaute: &amp;auml;&amp;ouml;&amp;uuml;&lt;/font&gt;&lt;/p</pre>
<h3>pdf:spacer</h3>
<p> Creates an object of a specific size.</p>
<h3 class="del">pdf:version</h3>
<p>Prints the version number of current PISA. </p>
<h3 class="del">pdf:keeptogether</h3>
<p>Tries to keep the block in the same frame. Example: </p>
<pre>&lt;keeptogether&gt;
  &lt;h1&gt;&Uuml;berschrift&lt;/h1&gt;
  &lt;p&gt;Text&lt;/p&gt;
&lt;/keeptogether&gt;</pre>
<h3 class="del">drawline</h3>
<p>Only useable within &lt;static&gt;. Draws a line. Example: </p>
<pre>&lt;drawline from="1cm 1cm" to="-1cm -1cm"&gt;</pre>
<h3 class="del">drawlines</h3>
<p>Only useable within &lt;static&gt;. Draws multiple lines. Example: </p>
<pre>&lt;drawlines coords="1cm 1cm 1cm -1cm -1cm -1cm -1cm 1cm 1cm 1cm"&gt;</pre>
<h3 class="del">drawimg</h3>
<p>Only useable within &lt;static&gt;. Draws an image at a position. May be used for simple backgrounds and watermarks.</p>
<h3 class="del">drawpoint</h3>
<p>Only useable within &lt;static&gt;. Draws a point. </p>
<h3 class="del">drawstring</h3>
<p>Only useable within &lt;static&gt;.Draws text at a certain position. </p>
<h3 class="del">pdf:keepinframe</h3>
<p>Tries to keep block in one frame. This is very usefull for usage in tables, because big table cells may cause errors in ReportLab toolkit. Then you better put a &lt;keepinframe&gt; around data to avoid these exceptions and get all informations of the table shown.  Mode can be one of: &quot;error&quot;,       raise an error in the normal way; &quot;overflow&quot;,    ignore ie just draw it and report maxWidth, maxHeight; &quot;shrink&quot;,      shrinkToFit (is the default); &quot;truncate&quot;,    fit as much as possible. Example:</p>
<pre>&lt;table&gt;&lt;tr&gt;&lt;td&gt;
  &lt;keepinframe maxwidth=&quot;10cm&quot; maxheight=&quot;10cm&quot;&gt;
    A lot of ... data
  &lt;/keepinframe&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</pre>
<nextpage>
<h1>Legal notice</h1>
<p><strong>PISA is copyright by Dirk Holtwick, Germany.</strong><br>
PISA is distributed by   spirito GmbH, Otawistr. 19, 47249 Duisburg, Germany, &lt;<a href="http://www.spirito.de">http://www.spirito.de</a>&gt;, phone +49.203.3187777.<br>
PISA is licensed under the Q Public License v1.0.<br>
For commercial usage of PISA a developer license can be purchased at spirito GmbH, &lt;<a href="mailto:pisa@spirito.de">pisa@spirito.de</a>&gt;.</p>
<nextpage>
<h2>Q Public License v1.0</h2>
<div class="license">
  <p> Copyright &copy;&nbsp;1999 Trolltech AS, Norway. </p>
  <p> Everyone is permitted to copy and distribute this license document. </p>
  <p> The intent of this license is to establish freedom to share and change the
    software regulated by this license under the open source model. </p>
  <p> This license applies to any software containing a notice placed by the copyright
    holder saying that it may be distributed under the terms of the Q Public License
    version 1.0. Such software is herein referred to as the Software. This license
    covers modification and distribution of the Software, use of third-party application
    programs based on the Software, and development of free software which uses
    the Software. </p>
  <p><strong>Granted Rights</strong></p>
  <p>1. You are granted the non-exclusive rights set forth in this license provided
    you agree to and comply with any and all conditions in this license. Whole
    or partial distribution of the Software, or software items that link with the
    Software, in any form signifies acceptance of this license. </p>
  <p> 2. You may copy and distribute the Software in unmodified form provided that
    the entire package, including - but not restricted to - copyright, trademark
    notices and disclaimers, as released by the initial developer of the Software,
    is distributed. </p>
  <p> 3. You may make modifications to the Software and distribute your modifications,
    in a form that is separate from the Software, such as patches. The following
    restrictions apply to modifications: </p>
  <p> a. Modifications must not alter or remove any copyright notices in the Software. </p>
  <p> b. When modifications to the Software are released under this license, a
    non-exclusive royalty-free right is granted to the initial developer of the
    Software to distribute your modification in future versions of the Software
    provided such versions remain available under these terms in addition to any
    other license(s) of the initial developer. </p>
  <p> 4. You may distribute machine-executable forms of the Software or machine-executable
    forms of modified versions of the Software, provided that you meet these restrictions: </p>
  <p> a. You must include this license document in the distribution. </p>
  <p> b. You must ensure that all recipients of the machine-executable forms are
    also able to receive the complete machine-readable source code to the distributed
    Software, including all modifications, without any charge beyond the costs
    of data transfer, and place prominent notices in the distribution explaining
    this. </p>
  <p> c. You must ensure that all modifications included in the machine-executable
    forms are available under the terms of this license. </p>
  <p> 5. You may use the original or modified versions of the Software to compile,
    link and run application programs legally developed by you or by others. </p>
  <p> 6. You may develop application programs, reusable components and other software
    items that link with the original or modified versions of the Software. These
    items, when distributed, are subject to the following requirements: </p>
  <p> a. You must ensure that all recipients of machine-executable forms of these
    items are also able to receive and use the complete machine-readable source
    code to the items without any charge beyond the costs of data transfer. </p>
  <p> b. You must explicitly license all recipients of your items to use and re-distribute
    original and modified versions of the items in both machine-executable and
    source code forms. The recipients must be able to do so without any charges
    whatsoever, and they must be able to re-distribute to anyone they choose. </p>
  <p> c. If the items are not available to the general public, and the initial
    developer of the Software requests a copy of the items, then you must supply
    one. </p>
  <p><strong>Limitations of Liability</strong></p>
  <p> In no event shall the initial developers or copyright holders be liable for
    any damages whatsoever, including - but not restricted to - lost revenue or
    profits or other direct, indirect, special, incidental or consequential damages,
    even if they have been advised of the possibility of such damages, except to
    the extent invariable law, if any, provides otherwise. </p>
  <p><strong>No Warranty</strong> </p>
  <p> The Software and this license document are provided AS IS with NO WARRANTY
    OF ANY KIND, INCLUDING THE WARRANTY OF DESIGN, MERCHANTABILITY AND FITNESS
    FOR A PARTICULAR PURPOSE. </p>
  <p><strong>Choice of Law</strong></p>
  <p> This license is governed by the Laws of Norway. Disputes shall be settled
    by Oslo City Court. </p>
</div>
</body>
</html>
