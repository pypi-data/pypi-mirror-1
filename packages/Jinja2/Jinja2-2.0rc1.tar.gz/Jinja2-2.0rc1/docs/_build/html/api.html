<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
  <head>
    <title>Jinja2 Documentation</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" href="_static/style.css" type="text/css">
    <link rel="stylesheet" href="_static/print.css" type="text/css" media="print">
    <link rel="stylesheet" href="_static/pygments.css" type="text/css">
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:   '',
        VERSION:    '2.0'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/interface.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/jinja.js"></script>
    <link rel="contents" title="Global table of contents" href="contents.html">
    <link rel="index" title="Global index" href="genindex.html">
    <link rel="search" title="Search" href="search.html">
    <link rel="top" title="Jinja2 v2.0 documentation" href="index.html">
    <link rel="next" title="Sandbox" href="sandbox.html">
    <link rel="prev" title="Introduction" href="intro.html">
    
  </head>
  <body>
    <div id="content">
      <div class="header">
        <h1 class="heading"><a href="index.html"
          title="back to the documentation overview"><span>Jinja</span></a></h1>
      </div>
      <div class="relnav">
        <a href="intro.html">&laquo; Introduction</a> |
        <a href="">API</a>
        | <a href="sandbox.html">Sandbox &raquo;</a>
      </div>
      <div id="contentwrapper">
        <div id="toc">
          <h3>Table Of Contents</h3>
          <ul>
<li><a class="reference" href="">API</a><ul>
<li><a class="reference" href="#basics">Basics</a></li>
<li><a class="reference" href="#unicode">Unicode</a></li>
<li><a class="reference" href="#high-level-api">High Level API</a></li>
<li><a class="reference" href="#notes-on-identifiers">Notes on Identifiers</a></li>
<li><a class="reference" href="#undefined-types">Undefined Types</a></li>
<li><a class="reference" href="#the-context">The Context</a></li>
<li><a class="reference" href="#id1">Loaders</a></li>
<li><a class="reference" href="#utilities">Utilities</a></li>
<li><a class="reference" href="#exceptions">Exceptions</a></li>
<li><a class="reference" href="#custom-filters">Custom Filters</a></li>
<li><a class="reference" href="#custom-tests">Custom Tests</a></li>
<li><a class="reference" href="#the-global-namespace">The Global Namespace</a></li>
<li><a class="reference" href="#id2">Low Level API</a></li>
</ul>
</li>
</ul>

        </div>
        
  <div class="section">
<h1 id="module-jinja2">API<a class="headerlink" href="#module-jinja2" title="Permalink to this headline">¶</a></h1>
<p>This document describes the API to Jinja2 and not the template language.  It
will be most useful as reference to those implementing the template interface
to the application and not those who are creating Jinja2 templates.</p>
<div class="section">
<h2 id="basics">Basics<a class="headerlink" href="#basics" title="Permalink to this headline">¶</a></h2>
<p>Jinja2 uses a central object called the template <a title="jinja2.Environment" class="reference" href="#jinja2.Environment"><tt class="xref docutils literal"><span class="pre">Environment</span></tt></a>.
Instances of this class are used to store the configuration, global objects
and are used to load templates from the file system or other locations.
Even if you are creating templates from string by using the constructor of
<a title="jinja2.Template" class="reference" href="#jinja2.Template"><tt class="xref docutils literal"><span class="pre">Template</span></tt></a> class, an environment is created automatically for you,
albeit a shared one.</p>
<p>Most applications will create one <a title="jinja2.Environment" class="reference" href="#jinja2.Environment"><tt class="xref docutils literal"><span class="pre">Environment</span></tt></a> object on application
initialization and use that to load templates.  In some cases it&#8217;s however
useful to have multiple environments side by side, if different configurations
are in use.</p>
<p>The simplest way to configure Jinja2 to load templates for your application
looks roughly like this:</p>
<div class="highlight"><pre><span class="k">from</span> <span class="nn">jinja2</span> <span class="k">import</span> <span class="n">Environment</span><span class="p">,</span> <span class="n">PackageLoader</span>
<span class="n">env</span> <span class="o">=</span> <span class="n">Environment</span><span class="p">(</span><span class="n">loader</span><span class="o">=</span><span class="n">PackageLoader</span><span class="p">(</span><span class="s">&#39;yourapplication&#39;</span><span class="p">,</span> <span class="s">&#39;templates&#39;</span><span class="p">))</span>
</pre></div>
<p>This will create a template environment with the default settings and a
loader that looks up the templates in the <cite>templates</cite> folder inside the
<cite>yourapplication</cite> python package.  Different loaders are available
and you can also write your own if you want to load templates from a
database or other resources.</p>
<p>To load a template from this environment you just have to call the
<tt class="xref docutils literal"><span class="pre">get_template()</span></tt> method which then returns the loaded <a title="jinja2.Template" class="reference" href="#jinja2.Template"><tt class="xref docutils literal"><span class="pre">Template</span></tt></a>:</p>
<div class="highlight"><pre><span class="n">template</span> <span class="o">=</span> <span class="n">env</span><span class="o">.</span><span class="n">get_template</span><span class="p">(</span><span class="s">&#39;mytemplate.html&#39;</span><span class="p">)</span>
</pre></div>
<p>To render it with some variables, just call the <tt class="xref docutils literal"><span class="pre">render()</span></tt> method:</p>
<div class="highlight"><pre><span class="k">print</span> <span class="n">template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">the</span><span class="o">=</span><span class="s">&#39;variables&#39;</span><span class="p">,</span> <span class="n">go</span><span class="o">=</span><span class="s">&#39;here&#39;</span><span class="p">)</span>
</pre></div>
<p>Using a template loader rather then passing strings to <a title="jinja2.Template" class="reference" href="#jinja2.Template"><tt class="xref docutils literal"><span class="pre">Template</span></tt></a>
or <a title="jinja2.Environment.from_string" class="reference" href="#jinja2.Environment.from_string"><tt class="xref docutils literal"><span class="pre">Environment.from_string()</span></tt></a> has multiple advantages.  Besides being
a lot easier to use it also enables template inheritance.</p>
</div>
<div class="section">
<h2 id="unicode">Unicode<a class="headerlink" href="#unicode" title="Permalink to this headline">¶</a></h2>
<p>Jinja2 is using unicode internally which means that you have to pass unicode
objects to the render function or bytestrings that only consist of ASCII
characters.  Additionally newlines are normalized to one end of line
sequence which is per default UNIX style (<tt class="docutils literal"><span class="pre">\n</span></tt>).</p>
<p>Python 2.x supports two ways of representing string objects.  One is the
<cite>str</cite> type and the other is the <cite>unicode</cite> type, both of which extend a type
called <cite>basestring</cite>.  Unfortunately the default is <cite>str</cite> which should not
be used to store text based information unless only ASCII characters are
used.  With Python 2.6 it is possible to my <cite>unicode</cite> the default on a per
module level and with Python 3 it will be the default.</p>
<p>To explicitly use a unicode string you have to prefix the string literal
with a <cite>u</cite>: <tt class="docutils literal"><span class="pre">u'Hänsel</span> <span class="pre">und</span> <span class="pre">Gretel</span> <span class="pre">sagen</span> <span class="pre">Hallo'</span></tt>.  That way Python will
store the string as unicode by decoding the string with the character
encoding from the current Python module.  If no encoding is specified this
defaults to &#8216;ASCII&#8217; which means that you can&#8217;t use any non ASCII identifier.</p>
<p>To set a better module encoding add the following comment to the first or
second line of the Python module using the unicode literal:</p>
<div class="highlight"><pre><span class="c"># -*- coding: utf-8 -*-</span>
</pre></div>
<p>We recommend utf-8 as Encoding for Python modules and templates as it&#8217;s
possible to represent every Unicode character in utf-8 and because it&#8217;s
backwards compatible to ASCII.  For Jinja2 the default encoding of templates
is assumed to be utf-8.</p>
<p>It is not possible to use Jinja2 to process non unicode data.  The reason
for this is that Jinja2 uses Unicode already on the language level.  For
example Jinja2 treats the non-breaking space as valid whitespace inside
expressions which requires knowledge of the encoding or operating on an
unicode string.</p>
<p>For more details about unicode in Python have a look at the excellent
<a class="reference" href="http://docs.python.org/dev/howto/unicode.html">Unicode documentation</a>.</p>
<p>Another important thing is how Jinja2 is handling string literals in
templates.  A naive implementation would be using unicode strings for
all string literals but it turned out in the past that this is problematic
as some libraries are typechecking against <cite>str</cite> explicitly.  For example
<cite>datetime.strftime</cite> does not accept unicode arguments.  To not break it
completely Jinja2 is returning <cite>str</cite> for strings that fit into ASCII and
for everything else <cite>unicode</cite>:</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="s">u&quot;{</span><span class="si">% s</span><span class="s">et a, b = &#39;foo&#39;, &#39;föö&#39; %}&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">module</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">a</span>
<span class="go">&#39;foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">b</span>
<span class="go">u&#39;f\xf6\xf6&#39;</span>
</pre></div>
</div>
<div class="section">
<h2 id="high-level-api">High Level API<a class="headerlink" href="#high-level-api" title="Permalink to this headline">¶</a></h2>
<p>The high-level API is the API you will use in the application to load and
render Jinja2 templates.  The <a class="reference" href="#low-level-api"><em>Low Level API</em></a> on the other side is only
useful if you want to dig deeper into Jinja2 or <a class="reference" href="extensions.html#jinja-extensions"><em>develop extensions</em></a>.</p>
<dl class="class">
<dt id="jinja2.Environment">
<!--[jinja2.Environment]-->class <tt class="descclassname">jinja2.</tt><tt class="descname">Environment</tt><big>(</big><span class="optional">[</span><em>options</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#jinja2.Environment" title="Permalink to this definition">¶</a></dt>
<dd><p>The core component of Jinja is the <cite>Environment</cite>.  It contains
important shared variables like configuration, filters, tests,
globals and others.  Instances of this class may be modified if
they are not shared and if no template was loaded so far.
Modifications on environments after the first template was loaded
will lead to surprising effects and undefined behavior.</p>
<p>Here the possible initialization parameters:</p>
<blockquote>
<dl class="docutils">
<dt><cite>block_start_string</cite></dt>
<dd>The string marking the begin of a block.  Defaults to <tt class="docutils literal"><span class="pre">'{%'</span></tt>.</dd>
<dt><cite>block_end_string</cite></dt>
<dd>The string marking the end of a block.  Defaults to <tt class="docutils literal"><span class="pre">'%}'</span></tt>.</dd>
<dt><cite>variable_start_string</cite></dt>
<dd>The string marking the begin of a print statement.
Defaults to <tt class="docutils literal"><span class="pre">'{{'</span></tt>.</dd>
<dt><cite>variable_stop_string</cite></dt>
<dd>The string marking the end of a print statement.  Defaults to
<tt class="docutils literal"><span class="pre">'}}'</span></tt>.</dd>
<dt><cite>comment_start_string</cite></dt>
<dd>The string marking the begin of a comment.  Defaults to <tt class="docutils literal"><span class="pre">'{#'</span></tt>.</dd>
<dt><cite>comment_end_string</cite></dt>
<dd>The string marking the end of a comment.  Defaults to <tt class="docutils literal"><span class="pre">'#}'</span></tt>.</dd>
<dt><cite>line_statement_prefix</cite></dt>
<dd>If given and a string, this will be used as prefix for line based
statements.  See also <a class="reference" href="templates.html#line-statements"><em>Line Statements</em></a>.</dd>
<dt><cite>trim_blocks</cite></dt>
<dd>If this is set to <tt class="xref docutils literal"><span class="pre">True</span></tt> the first newline after a block is
removed (block, not variable tag!).  Defaults to <cite>False</cite>.</dd>
<dt><cite>newline_sequence</cite></dt>
<dd>The sequence that starts a newline.  Must be one of <tt class="docutils literal"><span class="pre">'\r'</span></tt>,
<tt class="docutils literal"><span class="pre">'\n'</span></tt> or <tt class="docutils literal"><span class="pre">'\r\n'</span></tt>.  The default is <tt class="docutils literal"><span class="pre">'\n'</span></tt> which is a
useful default for Linux and OS X systems as well as web
applications.</dd>
<dt><cite>extensions</cite></dt>
<dd>List of Jinja extensions to use.  This can either be import paths
as strings or extension classes.  For more information have a
look at <a class="reference" href="extensions.html#jinja-extensions"><em>the extensions documentation</em></a>.</dd>
<dt><cite>optimized</cite></dt>
<dd>should the optimizer be enabled?  Default is <cite>True</cite>.</dd>
<dt><cite>undefined</cite></dt>
<dd><tt class="xref docutils literal"><span class="pre">Undefined</span></tt> or a subclass of it that is used to represent
undefined values in the template.</dd>
<dt><cite>finalize</cite></dt>
<dd>A callable that finalizes the variable.  Per default no finalizing
is applied.</dd>
<dt><cite>autoescape</cite></dt>
<dd>If set to true the XML/HTML autoescaping feature is enabled.</dd>
<dt><cite>loader</cite></dt>
<dd>The template loader for this environment.</dd>
<dt><cite>cache_size</cite></dt>
<dd>The size of the cache.  Per default this is <tt class="docutils literal"><span class="pre">50</span></tt> which means
that if more than 50 templates are loaded the loader will clean
out the least recently used template.  If the cache size is set to
<tt class="docutils literal"><span class="pre">0</span></tt> templates are recompiled all the time, if the cache size is
<tt class="docutils literal"><span class="pre">-1</span></tt> the cache will not be cleaned.</dd>
<dt><cite>auto_reload</cite></dt>
<dd>Some loaders load templates from locations where the template
sources may change (ie: file system or database).  If
<cite>auto_reload</cite> is set to <cite>True</cite> (default) every time a template is
requested the loader checks if the source changed and if yes, it
will reload the template.  For higher performance it&#8217;s possible to
disable that.</dd>
</dl>
</blockquote>
<dl class="attribute">
<dt id="jinja2.Environment.shared">
<!--[jinja2.Environment.shared]--><tt class="descname">shared</tt><a class="headerlink" href="#jinja2.Environment.shared" title="Permalink to this definition">¶</a></dt>
<dd>If a template was created by using the <a title="jinja2.Template" class="reference" href="#jinja2.Template"><tt class="xref docutils literal"><span class="pre">Template</span></tt></a> constructor
an environment is created automatically.  These environments are
created as shared environments which means that multiple templates
may have the same anonymous environment.  For all shared environments
this attribute is <cite>True</cite>, else <cite>False</cite>.</dd></dl>

<dl class="attribute">
<dt id="jinja2.Environment.sandboxed">
<!--[jinja2.Environment.sandboxed]--><tt class="descname">sandboxed</tt><a class="headerlink" href="#jinja2.Environment.sandboxed" title="Permalink to this definition">¶</a></dt>
<dd>If the environment is sandboxed this attribute is <cite>True</cite>.  For the
sandbox mode have a look at the documentation for the
<a title="jinja2.sandbox.SandboxedEnvironment" class="reference" href="sandbox.html#jinja2.sandbox.SandboxedEnvironment"><tt class="xref docutils literal"><span class="pre">SandboxedEnvironment</span></tt></a>.</dd></dl>

<dl class="attribute">
<dt id="jinja2.Environment.filters">
<!--[jinja2.Environment.filters]--><tt class="descname">filters</tt><a class="headerlink" href="#jinja2.Environment.filters" title="Permalink to this definition">¶</a></dt>
<dd>A dict of filters for this environment.  As long as no template was
loaded it&#8217;s safe to add new filters or remove old.  For custom filters
see <a class="reference" href="#writing-filters"><em>Custom Filters</em></a>.  For valid filter names have a look at
<a class="reference" href="#identifier-naming"><em>Notes on Identifiers</em></a>.</dd></dl>

<dl class="attribute">
<dt id="jinja2.Environment.tests">
<!--[jinja2.Environment.tests]--><tt class="descname">tests</tt><a class="headerlink" href="#jinja2.Environment.tests" title="Permalink to this definition">¶</a></dt>
<dd>A dict of test functions for this environment.  As long as no
template was loaded it&#8217;s safe to modify this dict.  For custom tests
see <a class="reference" href="#writing-tests"><em>Custom Tests</em></a>.  For valid test names have a look at
<a class="reference" href="#identifier-naming"><em>Notes on Identifiers</em></a>.</dd></dl>

<dl class="attribute">
<dt id="jinja2.Environment.globals">
<!--[jinja2.Environment.globals]--><tt class="descname">globals</tt><a class="headerlink" href="#jinja2.Environment.globals" title="Permalink to this definition">¶</a></dt>
<dd>A dict of global variables.  These variables are always available
in a template.  As long as no template was loaded it&#8217;s safe
to modify this dict.  For more details see <a class="reference" href="#global-namespace"><em>The Global Namespace</em></a>.
For valid object names have a look at <a class="reference" href="#identifier-naming"><em>Notes on Identifiers</em></a>.</dd></dl>

<dl class="method">
<dt id="jinja2.Environment.overlay">
<!--[jinja2.Environment.overlay]--><tt class="descname">overlay</tt><big>(</big><span class="optional">[</span><em>options</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#jinja2.Environment.overlay" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new overlay environment that shares all the data with the
current environment except of cache and the overriden attributes.
Extensions cannot be removed for a overlayed environment.  A overlayed
environment automatically gets all the extensions of the environment it
is linked to plus optional extra extensions.</p>
<p>Creating overlays should happen after the initial environment was set
up completely.  Not all attributes are truly linked, some are just
copied over so modifications on the original environment may not shine
through.</p>
</dd></dl>

<dl class="method">
<dt id="jinja2.Environment.undefined">
<!--[jinja2.Environment.undefined]--><tt class="descname">undefined</tt><big>(</big><span class="optional">[</span><em>hint</em>, <em>obj</em>, <em>name</em>, <em>exc</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#jinja2.Environment.undefined" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new <tt class="xref docutils literal"><span class="pre">Undefined</span></tt> object for <cite>name</cite>.  This is useful
for filters or functions that may return undefined objects for
some operations.  All parameters except of <cite>hint</cite> should be provided
as keyword parameters for better readability.  The <cite>hint</cite> is used as
error message for the exception if provided, otherwise the error
message generated from <cite>obj</cite> and <cite>name</cite> automatically.  The exception
provided as <cite>exc</cite> is raised if something with the generated undefined
object is done that the undefined object does not allow.  The default
exception is <tt class="xref docutils literal"><span class="pre">UndefinedError</span></tt>.  If a <cite>hint</cite> is provided the
<cite>name</cite> may be ommited.</p>
<p>The most common way to create an undefined object is by providing
a name only:</p>
<div class="highlight"><pre><span class="k">return</span> <span class="n">environment</span><span class="o">.</span><span class="n">undefined</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;some_name&#39;</span><span class="p">)</span>
</pre></div>
<p>This means that the name <cite>some_name</cite> is not defined.  If the name
was from an attribute of an object it makes sense to tell the
undefined object the holder object to improve the error message:</p>
<div class="highlight"><pre><span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="s">&#39;attr&#39;</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">environment</span><span class="o">.</span><span class="n">undefined</span><span class="p">(</span><span class="n">obj</span><span class="o">=</span><span class="n">obj</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;attr&#39;</span><span class="p">)</span>
</pre></div>
<p>For a more complex example you can provide a hint.  For example
the <a title="first" class="reference" href="templates.html#first"><tt class="xref docutils literal"><span class="pre">first()</span></tt></a> filter creates an undefined object that way:</p>
<div class="highlight"><pre><span class="k">return</span> <span class="n">environment</span><span class="o">.</span><span class="n">undefined</span><span class="p">(</span><span class="s">&#39;no first item, sequence was empty&#39;</span><span class="p">)</span>
</pre></div>
<p>If it the <cite>name</cite> or <cite>obj</cite> is known (for example because an attribute
was accessed) it shold be passed to the undefined object, even if
a custom <cite>hint</cite> is provided.  This gives undefined objects the
possibility to enhance the error message.</p>
</dd></dl>

<dl class="method">
<dt id="jinja2.Environment.from_string">
<!--[jinja2.Environment.from_string]--><tt class="descname">from_string</tt><big>(</big><em>source</em>, <em>globals=None</em>, <em>template_class=None</em><big>)</big><a class="headerlink" href="#jinja2.Environment.from_string" title="Permalink to this definition">¶</a></dt>
<dd>Load a template from a string.  This parses the source given and
returns a <a title="jinja2.Template" class="reference" href="#jinja2.Template"><tt class="xref docutils literal"><span class="pre">Template</span></tt></a> object.</dd></dl>

<dl class="method">
<dt id="jinja2.Environment.get_template">
<!--[jinja2.Environment.get_template]--><tt class="descname">get_template</tt><big>(</big><em>name</em>, <em>parent=None</em>, <em>globals=None</em><big>)</big><a class="headerlink" href="#jinja2.Environment.get_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a template from the loader.  If a loader is configured this
method ask the loader for the template and returns a <a title="jinja2.Template" class="reference" href="#jinja2.Template"><tt class="xref docutils literal"><span class="pre">Template</span></tt></a>.
If the <cite>parent</cite> parameter is not <cite>None</cite>, <a title="jinja2.Environment.join_path" class="reference" href="#jinja2.Environment.join_path"><tt class="xref docutils literal"><span class="pre">join_path()</span></tt></a> is called
to get the real template name before loading.</p>
<p>The <cite>globals</cite> parameter can be used to provide temlate wide globals.
These variables are available in the context at render time.</p>
<p>If the template does not exist a <tt class="xref docutils literal"><span class="pre">TemplateNotFound</span></tt> exception is
raised.</p>
</dd></dl>

<dl class="method">
<dt id="jinja2.Environment.join_path">
<!--[jinja2.Environment.join_path]--><tt class="descname">join_path</tt><big>(</big><em>template</em>, <em>parent</em><big>)</big><a class="headerlink" href="#jinja2.Environment.join_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Join a template with the parent.  By default all the lookups are
relative to the loader root so this method returns the <cite>template</cite>
parameter unchanged, but if the paths should be relative to the
parent template, this function can be used to calculate the real
template name.</p>
<p>Subclasses may override this method and implement template path
joining here.</p>
</dd></dl>

<dl class="method">
<dt id="jinja2.Environment.extend">
<!--[jinja2.Environment.extend]--><tt class="descname">extend</tt><big>(</big><em>**attributes</em><big>)</big><a class="headerlink" href="#jinja2.Environment.extend" title="Permalink to this definition">¶</a></dt>
<dd>Add the items to the instance of the environment if they do not exist
yet.  This is used by <a class="reference" href="extensions.html#writing-extensions"><em>extensions</em></a> to register
callbacks and configuration values without breaking inheritance.</dd></dl>

</dd></dl>

<dl class="class">
<dt id="jinja2.Template">
<!--[jinja2.Template]-->class <tt class="descclassname">jinja2.</tt><tt class="descname">Template</tt><a class="headerlink" href="#jinja2.Template" title="Permalink to this definition">¶</a></dt>
<dd><p>The central template object.  This class represents a compiled template
and is used to evaluate it.</p>
<p>Normally the template object is generated from an <a title="jinja2.Environment" class="reference" href="#jinja2.Environment"><tt class="xref docutils literal"><span class="pre">Environment</span></tt></a> but
it also has a constructor that makes it possible to create a template
instance directly using the constructor.  It takes the same arguments as
the environment constructor but it&#8217;s not possible to specify a loader.</p>
<p>Every template object has a few methods and members that are guaranteed
to exist.  However it&#8217;s important that a template object should be
considered immutable.  Modifications on the object are not supported.</p>
<p>Template objects created from the constructor rather than an environment
do have an <cite>environment</cite> attribute that points to a temporary environment
that is probably shared with other templates created with the constructor
and compatible settings.</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">template</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="s">&#39;Hello {{ name }}!&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;John Doe&#39;</span><span class="p">)</span>
<span class="go">u&#39;Hello John Doe!&#39;</span>
</pre></div>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">stream</span> <span class="o">=</span> <span class="n">template</span><span class="o">.</span><span class="n">stream</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;John Doe&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stream</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
<span class="go">u&#39;Hello John Doe!&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stream</span><span class="o">.</span><span class="n">next</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="nc">StopIteration</span>
</pre></div>
<dl class="attribute">
<dt id="jinja2.Template.globals">
<!--[jinja2.Template.globals]--><tt class="descname">globals</tt><a class="headerlink" href="#jinja2.Template.globals" title="Permalink to this definition">¶</a></dt>
<dd>The dict with the globals of that template.  It&#8217;s unsafe to modify
this dict as it may be shared with other templates or the environment
that loaded the template.</dd></dl>

<dl class="attribute">
<dt id="jinja2.Template.name">
<!--[jinja2.Template.name]--><tt class="descname">name</tt><a class="headerlink" href="#jinja2.Template.name" title="Permalink to this definition">¶</a></dt>
<dd>The loading name of the template.  If the template was loaded from a
string this is <cite>None</cite>.</dd></dl>

<dl class="attribute">
<dt id="jinja2.Template.filename">
<!--[jinja2.Template.filename]--><tt class="descname">filename</tt><a class="headerlink" href="#jinja2.Template.filename" title="Permalink to this definition">¶</a></dt>
<dd>The filename of the template on the file system if it was loaded from
there.  Otherwise this is <cite>None</cite>.</dd></dl>

<dl class="method">
<dt id="jinja2.Template.render">
<!--[jinja2.Template.render]--><tt class="descname">render</tt><big>(</big><span class="optional">[</span><em>context</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#jinja2.Template.render" title="Permalink to this definition">¶</a></dt>
<dd><p>This method accepts the same arguments as the <cite>dict</cite> constructor:
A dict, a dict subclass or some keyword arguments.  If no arguments
are given the context will be empty.  These two calls do the same:</p>
<div class="highlight"><pre><span class="n">template</span><span class="o">.</span><span class="n">render</span><span class="p">(</span><span class="n">knights</span><span class="o">=</span><span class="s">&#39;that say nih&#39;</span><span class="p">)</span>
<span class="n">template</span><span class="o">.</span><span class="n">render</span><span class="p">({</span><span class="s">&#39;knights&#39;</span><span class="p">:</span> <span class="s">&#39;that say nih&#39;</span><span class="p">})</span>
</pre></div>
<p>This will return the rendered template as unicode string.</p>
</dd></dl>

<dl class="method">
<dt id="jinja2.Template.generate">
<!--[jinja2.Template.generate]--><tt class="descname">generate</tt><big>(</big><span class="optional">[</span><em>context</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#jinja2.Template.generate" title="Permalink to this definition">¶</a></dt>
<dd><p>For very large templates it can be useful to not render the whole
template at once but evaluate each statement after another and yield
piece for piece.  This method basically does exactly that and returns
a generator that yields one item after another as unicode strings.</p>
<p>It accepts the same arguments as <a title="jinja2.Template.render" class="reference" href="#jinja2.Template.render"><tt class="xref docutils literal"><span class="pre">render()</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="jinja2.Template.stream">
<!--[jinja2.Template.stream]--><tt class="descname">stream</tt><big>(</big><span class="optional">[</span><em>context</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#jinja2.Template.stream" title="Permalink to this definition">¶</a></dt>
<dd>Works exactly like <a title="jinja2.Template.generate" class="reference" href="#jinja2.Template.generate"><tt class="xref docutils literal"><span class="pre">generate()</span></tt></a> but returns a
<tt class="xref docutils literal"><span class="pre">TemplateStream</span></tt>.</dd></dl>

<dl class="attribute">
<dt id="jinja2.Template.module">
<!--[jinja2.Template.module]--><tt class="descname">module</tt><a class="headerlink" href="#jinja2.Template.module" title="Permalink to this definition">¶</a></dt>
<dd><p>The template as module.  This is used for imports in the
template runtime but is also useful if one wants to access
exported template variables from the Python layer:</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">Template</span><span class="p">(</span><span class="s">&#39;{% macro foo() %}42{</span><span class="si">% e</span><span class="s">ndmacro %}23&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">unicode</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">module</span><span class="p">)</span>
<span class="go">u&#39;23&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">foo</span><span class="p">()</span>
<span class="go">u&#39;42&#39;</span>
</pre></div>
</dd></dl>

<dl class="method">
<dt id="jinja2.Template.make_module">
<!--[jinja2.Template.make_module]--><tt class="descname">make_module</tt><big>(</big><em>vars=None</em>, <em>shared=False</em><big>)</big><a class="headerlink" href="#jinja2.Template.make_module" title="Permalink to this definition">¶</a></dt>
<dd>This method works like the <a title="jinja2.Template.module" class="reference" href="#jinja2.Template.module"><tt class="xref docutils literal"><span class="pre">module</span></tt></a> attribute when called
without arguments but it will evaluate the template every call
rather then caching the template.  It&#8217;s also possible to provide
a dict which is then used as context.  The arguments are the same
as for the <a title="jinja2.Template.new_context" class="reference" href="#jinja2.Template.new_context"><tt class="xref docutils literal"><span class="pre">new_context()</span></tt></a> method.</dd></dl>

</dd></dl>

<dl class="class">
<dt id="jinja2.environment.TemplateStream">
<!--[jinja2.environment.TemplateStream]-->class <tt class="descclassname">jinja2.environment.</tt><tt class="descname">TemplateStream</tt><a class="headerlink" href="#jinja2.environment.TemplateStream" title="Permalink to this definition">¶</a></dt>
<dd><p>A template stream works pretty much like an ordinary python generator
but it can buffer multiple items to reduce the number of total iterations.
Per default the output is unbuffered which means that for every unbuffered
instruction in the template one unicode string is yielded.</p>
<p>If buffering is enabled with a buffer size of 5, five items are combined
into a new unicode string.  This is mainly useful if you are streaming
big templates to a client via WSGI which flushes after each iteration.</p>
<dl class="method">
<dt id="jinja2.environment.TemplateStream.disable_buffering">
<!--[jinja2.environment.TemplateStream.disable_buffering]--><tt class="descname">disable_buffering</tt><big>(</big><big>)</big><a class="headerlink" href="#jinja2.environment.TemplateStream.disable_buffering" title="Permalink to this definition">¶</a></dt>
<dd>Disable the output buffering.</dd></dl>

<dl class="method">
<dt id="jinja2.environment.TemplateStream.enable_buffering">
<!--[jinja2.environment.TemplateStream.enable_buffering]--><tt class="descname">enable_buffering</tt><big>(</big><em>size=5</em><big>)</big><a class="headerlink" href="#jinja2.environment.TemplateStream.enable_buffering" title="Permalink to this definition">¶</a></dt>
<dd>Enable buffering.  Buffer <cite>size</cite> items before yielding them.</dd></dl>

</dd></dl>

</div>
<div class="section">
<h2 id="notes-on-identifiers"><span id="identifier-naming"></span>Notes on Identifiers<a class="headerlink" href="#notes-on-identifiers" title="Permalink to this headline">¶</a></h2>
<p>Jinja2 uses the regular Python 2.x naming rules.  Valid identifiers have to
match <tt class="docutils literal"><span class="pre">[a-zA-Z_][a-zA-Z0-9_]*</span></tt>.  As a matter of fact non ASCII characters
are currently not allowed.  This limitation will probably go away as soon as
unicode identifiers are fully specified for Python 3.</p>
<p>Filters and tests are looked up in separate namespaces and have slightly
modified identifier syntax.  Filters and tests may contain dots to group
filters and tests by topic.  For example it&#8217;s perfectly valid to add a
function into the filter dict and call it <cite>to.unicode</cite>.  The regular
expression for filter and test identifiers is
<tt class="docutils literal"><span class="pre">[a-zA-Z_][a-zA-Z0-9_]*(\.[a-zA-Z_][a-zA-Z0-9_]*)*`</span></tt>.</p>
</div>
<div class="section">
<h2 id="undefined-types">Undefined Types<a class="headerlink" href="#undefined-types" title="Permalink to this headline">¶</a></h2>
<p>These classes can be used as undefined types.  The <a title="jinja2.Environment" class="reference" href="#jinja2.Environment"><tt class="xref docutils literal"><span class="pre">Environment</span></tt></a>
constructor takes an <cite>undefined</cite> parameter that can be one of those classes
or a custom subclass of <tt class="xref docutils literal"><span class="pre">Undefined</span></tt>.  Whenever the template engine is
unable to look up a name or access an attribute one of those objects is
created and returned.  Some operations on undefined values are then allowed,
others fail.</p>
<p>The closest to regular Python behavior is the <cite>StrictUndefined</cite> which
disallows all operations beside testing if it&#8217;s an undefined object.</p>
<dl class="class">
<dt id="jinja2.runtime.Undefined">
<!--[jinja2.runtime.Undefined]-->class <tt class="descclassname">jinja2.runtime.</tt><tt class="descname">Undefined</tt><a class="headerlink" href="#jinja2.runtime.Undefined" title="Permalink to this definition">¶</a></dt>
<dd><p>The default undefined type.  This undefined type can be printed and
iterated over, but every other access will raise an <tt class="xref docutils literal"><span class="pre">UndefinedError</span></tt>:</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">foo</span> <span class="o">=</span> <span class="n">Undefined</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;foo&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">foo</span><span class="p">)</span>
<span class="go">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="ow">not</span> <span class="n">foo</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foo</span> <span class="o">+</span> <span class="mf">42</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="nc">jinja2.exceptions.UndefinedError</span>: <span class="n-Identifier">&#39;foo&#39; is undefined</span>
</pre></div>
<dl class="attribute">
<dt id="jinja2.Undefined._undefined_hint">
<!--[jinja2.Undefined._undefined_hint]--><tt class="descname">_undefined_hint</tt><a class="headerlink" href="#jinja2.Undefined._undefined_hint" title="Permalink to this definition">¶</a></dt>
<dd>Either <cite>None</cite> or an unicode string with the error message for
the undefined object.</dd></dl>

<dl class="attribute">
<dt id="jinja2.Undefined._undefined_obj">
<!--[jinja2.Undefined._undefined_obj]--><tt class="descname">_undefined_obj</tt><a class="headerlink" href="#jinja2.Undefined._undefined_obj" title="Permalink to this definition">¶</a></dt>
<dd>Either <cite>None</cite> or the owner object that caused the undefined object
to be created (for example because an attribute does not exist).</dd></dl>

<dl class="attribute">
<dt id="jinja2.Undefined._undefined_name">
<!--[jinja2.Undefined._undefined_name]--><tt class="descname">_undefined_name</tt><a class="headerlink" href="#jinja2.Undefined._undefined_name" title="Permalink to this definition">¶</a></dt>
<dd>The name for the undefined variable / attribute or just <cite>None</cite>
if no such information exists.</dd></dl>

<dl class="attribute">
<dt id="jinja2.Undefined._undefined_exception">
<!--[jinja2.Undefined._undefined_exception]--><tt class="descname">_undefined_exception</tt><a class="headerlink" href="#jinja2.Undefined._undefined_exception" title="Permalink to this definition">¶</a></dt>
<dd>The exception that the undefined object wants to raise.  This
is usually one of <tt class="xref docutils literal"><span class="pre">UndefinedError</span></tt> or <tt class="xref docutils literal"><span class="pre">SecurityError</span></tt>.</dd></dl>

<dl class="method">
<dt id="jinja2.Undefined._fail_with_undefined_error">
<!--[jinja2.Undefined._fail_with_undefined_error]--><tt class="descname">_fail_with_undefined_error</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#jinja2.Undefined._fail_with_undefined_error" title="Permalink to this definition">¶</a></dt>
<dd>When called with any arguments this method raises
<a title="jinja2.Undefined._undefined_exception" class="reference" href="#jinja2.Undefined._undefined_exception"><tt class="xref docutils literal"><span class="pre">_undefined_exception</span></tt></a> with an error message generated
from the undefined hints stored on the undefined object.</dd></dl>

</dd></dl>

<dl class="class">
<dt id="jinja2.runtime.DebugUndefined">
<!--[jinja2.runtime.DebugUndefined]-->class <tt class="descclassname">jinja2.runtime.</tt><tt class="descname">DebugUndefined</tt><a class="headerlink" href="#jinja2.runtime.DebugUndefined" title="Permalink to this definition">¶</a></dt>
<dd><p>An undefined that returns the debug info when printed.</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">foo</span> <span class="o">=</span> <span class="n">DebugUndefined</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;foo&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">foo</span><span class="p">)</span>
<span class="go">&#39;{{ foo }}&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="ow">not</span> <span class="n">foo</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foo</span> <span class="o">+</span> <span class="mf">42</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="nc">jinja2.exceptions.UndefinedError</span>: <span class="n-Identifier">&#39;foo&#39; is undefined</span>
</pre></div>
</dd></dl>

<dl class="class">
<dt id="jinja2.runtime.StrictUndefined">
<!--[jinja2.runtime.StrictUndefined]-->class <tt class="descclassname">jinja2.runtime.</tt><tt class="descname">StrictUndefined</tt><a class="headerlink" href="#jinja2.runtime.StrictUndefined" title="Permalink to this definition">¶</a></dt>
<dd><p>An undefined that barks on print and iteration as well as boolean
tests and all kinds of comparisons.  In other words: you can do nothing
with it except checking if it&#8217;s defined using the <cite>defined</cite> test.</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">foo</span> <span class="o">=</span> <span class="n">StrictUndefined</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&#39;foo&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">foo</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="nc">jinja2.exceptions.UndefinedError</span>: <span class="n-Identifier">&#39;foo&#39; is undefined</span>
<span class="gp">&gt;&gt;&gt; </span><span class="ow">not</span> <span class="n">foo</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="nc">jinja2.exceptions.UndefinedError</span>: <span class="n-Identifier">&#39;foo&#39; is undefined</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foo</span> <span class="o">+</span> <span class="mf">42</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="nc">jinja2.exceptions.UndefinedError</span>: <span class="n-Identifier">&#39;foo&#39; is undefined</span>
</pre></div>
</dd></dl>

<p>Undefined objects are created by calling <a title="undefined" class="reference" href="templates.html#undefined"><tt class="xref docutils literal"><span class="pre">undefined</span></tt></a>.</p>
<div class="admonition-implementation admonition ">
<p class="first admonition-title">Implementation</p>
<p><tt class="xref docutils literal"><span class="pre">Undefined</span></tt> objects are implemented by overriding the special
<cite>__underscore__</cite> methods.  For example the default <tt class="xref docutils literal"><span class="pre">Undefined</span></tt>
class implements <cite>__unicode__</cite> in a way that it returns an empty
string, however <cite>__int__</cite> and others still fail with an exception.  To
allow conversion to int by returning <tt class="docutils literal"><span class="pre">0</span></tt> you can implement your own:</p>
<div class="highlight"><pre><span class="k">class</span> <span class="nc">NullUndefined</span><span class="p">(</span><span class="n">Undefined</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__int__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="mf">0</span>
    <span class="k">def</span> <span class="nf">__float__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="mf">0.0</span>
</pre></div>
<p>To disallow a method, just override it and raise
<a title="jinja2.Undefined._undefined_exception" class="reference" href="#jinja2.Undefined._undefined_exception"><tt class="xref docutils literal"><span class="pre">_undefined_exception</span></tt></a>.  Because this is a very common
idom in undefined objects there is the helper method
<a title="jinja2.Undefined._fail_with_undefined_error" class="reference" href="#jinja2.Undefined._fail_with_undefined_error"><tt class="xref docutils literal"><span class="pre">_fail_with_undefined_error()</span></tt></a> that does the error raising
automatically.  Here a class that works like the regular <tt class="xref docutils literal"><span class="pre">Undefined</span></tt>
but chokes on iteration:</p>
<div class="highlight"><pre><span class="k">class</span> <span class="nc">NonIterableUndefined</span><span class="p">(</span><span class="n">Undefined</span><span class="p">):</span>
    <span class="n">__iter__</span> <span class="o">=</span> <span class="n">Undefined</span><span class="o">.</span><span class="n">_fail_with_undefined_error</span>
</pre></div>
</div>
</div>
<div class="section">
<h2 id="the-context">The Context<a class="headerlink" href="#the-context" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="jinja2.runtime.Context">
<!--[jinja2.runtime.Context]-->class <tt class="descclassname">jinja2.runtime.</tt><tt class="descname">Context</tt><a class="headerlink" href="#jinja2.runtime.Context" title="Permalink to this definition">¶</a></dt>
<dd><p>The template context holds the variables of a template.  It stores the
values passed to the template and also the names the template exports.
Creating instances is neither supported nor useful as it&#8217;s created
automatically at various stages of the template evaluation and should not
be created by hand.</p>
<p>The context is immutable.  Modifications on <a title="jinja2.Context.parent" class="reference" href="#jinja2.Context.parent"><tt class="xref docutils literal"><span class="pre">parent</span></tt></a> <strong>must not</strong>
happen and modifications on <a title="jinja2.Context.vars" class="reference" href="#jinja2.Context.vars"><tt class="xref docutils literal"><span class="pre">vars</span></tt></a> are allowed from generated
template code only.  Template filters and global functions marked as
<tt class="xref docutils literal"><span class="pre">contextfunction()</span></tt>s get the active context passed as first argument
and are allowed to access the context read-only.</p>
<p>The template context supports read only dict operations (<cite>get</cite>,
<cite>keys</cite>, <cite>values</cite>, <cite>items</cite>, <cite>iterkeys</cite>, <cite>itervalues</cite>, <cite>iteritems</cite>,
<cite>__getitem__</cite>, <cite>__contains__</cite>).  Additionally there is a <tt class="xref docutils literal"><span class="pre">resolve()</span></tt>
method that doesn&#8217;t fail with a <cite>KeyError</cite> but returns an
<tt class="xref docutils literal"><span class="pre">Undefined</span></tt> object for missing variables.</p>
<dl class="attribute">
<dt id="jinja2.Context.parent">
<!--[jinja2.Context.parent]--><tt class="descname">parent</tt><a class="headerlink" href="#jinja2.Context.parent" title="Permalink to this definition">¶</a></dt>
<dd>A dict of read only, global variables the template looks up.  These
can either come from another <tt class="xref docutils literal"><span class="pre">Context</span></tt>, from the
<a title="jinja2.Environment.globals" class="reference" href="#jinja2.Environment.globals"><tt class="xref docutils literal"><span class="pre">Environment.globals</span></tt></a> or <a title="jinja2.Template.globals" class="reference" href="#jinja2.Template.globals"><tt class="xref docutils literal"><span class="pre">Template.globals</span></tt></a> or points
to a dict created by combining the globals with the variables
passed to the render function.  It must not be altered.</dd></dl>

<dl class="attribute">
<dt id="jinja2.Context.vars">
<!--[jinja2.Context.vars]--><tt class="descname">vars</tt><a class="headerlink" href="#jinja2.Context.vars" title="Permalink to this definition">¶</a></dt>
<dd>The template local variables.  This list contains environment and
context functions from the <a title="jinja2.Context.parent" class="reference" href="#jinja2.Context.parent"><tt class="xref docutils literal"><span class="pre">parent</span></tt></a> scope as well as local
modifications and exported variables from the template.  The template
will modify this dict during template evaluation but filters and
context functions are not allowed to modify it.</dd></dl>

<dl class="attribute">
<dt id="jinja2.Context.environment">
<!--[jinja2.Context.environment]--><tt class="descname">environment</tt><a class="headerlink" href="#jinja2.Context.environment" title="Permalink to this definition">¶</a></dt>
<dd>The environment that loaded the template.</dd></dl>

<dl class="attribute">
<dt id="jinja2.Context.exported_vars">
<!--[jinja2.Context.exported_vars]--><tt class="descname">exported_vars</tt><a class="headerlink" href="#jinja2.Context.exported_vars" title="Permalink to this definition">¶</a></dt>
<dd>This set contains all the names the template exports.  The values for
the names are in the <a title="jinja2.Context.vars" class="reference" href="#jinja2.Context.vars"><tt class="xref docutils literal"><span class="pre">vars</span></tt></a> dict.  In order to get a copy of the
exported variables as dict, <tt class="xref docutils literal"><span class="pre">get_exported()</span></tt> can be used.</dd></dl>

<dl class="attribute">
<dt id="jinja2.Context.name">
<!--[jinja2.Context.name]--><tt class="descname">name</tt><a class="headerlink" href="#jinja2.Context.name" title="Permalink to this definition">¶</a></dt>
<dd>The load name of the template owning this context.</dd></dl>

<dl class="attribute">
<dt id="jinja2.Context.blocks">
<!--[jinja2.Context.blocks]--><tt class="descname">blocks</tt><a class="headerlink" href="#jinja2.Context.blocks" title="Permalink to this definition">¶</a></dt>
<dd>A dict with the current mapping of blocks in the template.  The keys
in this dict are the names of the blocks, and the values a list of
blocks registered.  The last item in each list is the current active
block (latest in the inheritance chain).</dd></dl>

<dl class="method">
<dt id="jinja2.runtime.Context.call">
<!--[jinja2.runtime.Context.call]--><tt class="descname">call</tt><big>(</big><em>callable</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#jinja2.runtime.Context.call" title="Permalink to this definition">¶</a></dt>
<dd>Call the callable with the arguments and keyword arguments
provided but inject the active context or environment as first
argument if the callable is a <tt class="xref docutils literal"><span class="pre">contextfunction()</span></tt> or
<tt class="xref docutils literal"><span class="pre">environmentfunction()</span></tt>.</dd></dl>

<dl class="method">
<dt id="jinja2.runtime.Context.resolve">
<!--[jinja2.runtime.Context.resolve]--><tt class="descname">resolve</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#jinja2.runtime.Context.resolve" title="Permalink to this definition">¶</a></dt>
<dd>Looks up a variable like <cite>__getitem__</cite> or <cite>get</cite> but returns an
<tt class="xref docutils literal"><span class="pre">Undefined</span></tt> object with the name of the name looked up.</dd></dl>

<dl class="method">
<dt id="jinja2.runtime.Context.get_exported">
<!--[jinja2.runtime.Context.get_exported]--><tt class="descname">get_exported</tt><big>(</big><big>)</big><a class="headerlink" href="#jinja2.runtime.Context.get_exported" title="Permalink to this definition">¶</a></dt>
<dd>Get a new dict with the exported variables.</dd></dl>

<dl class="method">
<dt id="jinja2.runtime.Context.get_all">
<!--[jinja2.runtime.Context.get_all]--><tt class="descname">get_all</tt><big>(</big><big>)</big><a class="headerlink" href="#jinja2.runtime.Context.get_all" title="Permalink to this definition">¶</a></dt>
<dd>Return a copy of the complete context as dict including the
exported variables.</dd></dl>

</dd></dl>

<div class="admonition-implementation admonition ">
<p class="first admonition-title">Implementation</p>
<p>Context is immutable for the same reason Python&#8217;s frame locals are
immutable inside functions.  Both Jinja2 and Python are not using the
context / frame locals as data storage for variables but only as primary
data source.</p>
<p class="last">When a template accesses a variable the template does not define, Jinja2
looks up the variable in the context, after that the variable is treated
as if it was defined in the template.</p>
</div>
</div>
<div class="section">
<h2 id="id1"><span id="loaders"></span>Loaders<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>Loaders are responsible for loading templates from a resource such as the
file system.  The environment will keep the compiled modules in memory like
Python&#8217;s <cite>sys.modules</cite>.  Unlike <cite>sys.modules</cite> however this cache is limited in
size by default and templates are automatically reloaded.
All loaders are subclasses of <tt class="xref docutils literal"><span class="pre">BaseLoader</span></tt>.  If you want to create your
own loader, subclass <tt class="xref docutils literal"><span class="pre">BaseLoader</span></tt> and override <cite>get_source</cite>.</p>
<dl class="class">
<dt id="jinja2.loaders.BaseLoader">
<!--[jinja2.loaders.BaseLoader]-->class <tt class="descclassname">jinja2.loaders.</tt><tt class="descname">BaseLoader</tt><a class="headerlink" href="#jinja2.loaders.BaseLoader" title="Permalink to this definition">¶</a></dt>
<dd><p>Baseclass for all loaders.  Subclass this and override <cite>get_source</cite> to
implement a custom loading mechanism.  The environment provides a
<cite>get_template</cite> method that calls the loader&#8217;s <cite>load</cite> method to get the
<a title="jinja2.Template" class="reference" href="#jinja2.Template"><tt class="xref docutils literal"><span class="pre">Template</span></tt></a> object.</p>
<p>A very basic example for a loader that looks up templates on the file
system could look like this:</p>
<div class="highlight"><pre><span class="k">from</span> <span class="nn">jinja2</span> <span class="k">import</span> <span class="n">BaseLoader</span><span class="p">,</span> <span class="n">TemplateNotFound</span>
<span class="k">from</span> <span class="nn">os.path</span> <span class="k">import</span> <span class="n">join</span><span class="p">,</span> <span class="n">exists</span><span class="p">,</span> <span class="n">getmtime</span>

<span class="k">class</span> <span class="nc">MyLoader</span><span class="p">(</span><span class="n">BaseLoader</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">cache_size</span><span class="o">=</span><span class="mf">50</span><span class="p">,</span> <span class="n">auto_reload</span><span class="o">=</span><span class="bp">True</span><span class="p">):</span>
        <span class="n">BaseLoader</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cache_size</span><span class="p">,</span> <span class="n">auto_reload</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">path</span> <span class="o">=</span> <span class="n">path</span>

    <span class="k">def</span> <span class="nf">get_source</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">environment</span><span class="p">,</span> <span class="n">template</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">template</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">exists</span><span class="p">(</span><span class="n">path</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">TemplateNotFound</span><span class="p">(</span><span class="n">template</span><span class="p">)</span>
        <span class="n">mtime</span> <span class="o">=</span> <span class="n">getmtime</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">file</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">source</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s">&#39;utf-8&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">source</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">mtime</span> <span class="o">==</span> <span class="n">getmtime</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</pre></div>
<dl class="method">
<dt id="jinja2.loaders.BaseLoader.get_source">
<!--[jinja2.loaders.BaseLoader.get_source]--><tt class="descname">get_source</tt><big>(</big><em>environment</em>, <em>template</em><big>)</big><a class="headerlink" href="#jinja2.loaders.BaseLoader.get_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the template source, filename and reload helper for a template.
It&#8217;s passed the environment and template name and has to return a
tuple in the form <tt class="docutils literal"><span class="pre">(source,</span> <span class="pre">filename,</span> <span class="pre">uptodate)</span></tt> or raise a
<cite>TemplateNotFound</cite> error if it can&#8217;t locate the template.</p>
<p>The source part of the returned tuple must be the source of the
template as unicode string or a ASCII bytestring.  The filename should
be the name of the file on the filesystem if it was loaded from there,
otherwise <cite>None</cite>.  The filename is used by python for the tracebacks
if no loader extension is used.</p>
<p>The last item in the tuple is the <cite>uptodate</cite> function.  If auto
reloading is enabled it&#8217;s always called to check if the template
changed.  No arguments are passed so the function must store the
old state somewhere (for example in a closure).  If it returns <cite>False</cite>
the template will be reloaded.</p>
</dd></dl>

<dl class="method">
<dt id="jinja2.loaders.BaseLoader.load">
<!--[jinja2.loaders.BaseLoader.load]--><tt class="descname">load</tt><big>(</big><em>environment</em>, <em>name</em>, <em>globals=None</em><big>)</big><a class="headerlink" href="#jinja2.loaders.BaseLoader.load" title="Permalink to this definition">¶</a></dt>
<dd>Loads a template.  This method looks up the template in the cache
or loads one by calling <tt class="xref docutils literal"><span class="pre">get_source()</span></tt>.  Subclasses should not
override this method as loaders working on collections of other
loaders (such as <tt class="xref docutils literal"><span class="pre">PrefixLoader</span></tt> or <tt class="xref docutils literal"><span class="pre">ChoiceLoader</span></tt>)
will not call this method but <cite>get_source</cite> directly.</dd></dl>

</dd></dl>

<p>Here a list of the builtin loaders Jinja2 provides:</p>
<dl class="class">
<dt id="jinja2.loaders.FileSystemLoader">
<!--[jinja2.loaders.FileSystemLoader]-->class <tt class="descclassname">jinja2.loaders.</tt><tt class="descname">FileSystemLoader</tt><big>(</big><em>searchpath</em>, <em>encoding='utf-8'</em><big>)</big><a class="headerlink" href="#jinja2.loaders.FileSystemLoader" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads templates from the file system.  This loader can find templates
in folders on the file system and is the preferred way to load them.</p>
<p>The loader takes the path to the templates as string, or if multiple
locations are wanted a list of them which is then looked up in the
given order:</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">loader</span> <span class="o">=</span> <span class="n">FileSystemLoader</span><span class="p">(</span><span class="s">&#39;/path/to/templates&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">loader</span> <span class="o">=</span> <span class="n">FileSystemLoader</span><span class="p">([</span><span class="s">&#39;/path/to/templates&#39;</span><span class="p">,</span> <span class="s">&#39;/other/path&#39;</span><span class="p">])</span>
</pre></div>
<p>Per default the template encoding is <tt class="docutils literal"><span class="pre">'utf-8'</span></tt> which can be changed
by setting the <cite>encoding</cite> parameter to something else.</p>
</dd></dl>

<dl class="class">
<dt id="jinja2.loaders.PackageLoader">
<!--[jinja2.loaders.PackageLoader]-->class <tt class="descclassname">jinja2.loaders.</tt><tt class="descname">PackageLoader</tt><big>(</big><em>package_name</em>, <em>package_path='templates'</em>, <em>encoding='utf-8'</em><big>)</big><a class="headerlink" href="#jinja2.loaders.PackageLoader" title="Permalink to this definition">¶</a></dt>
<dd><p>Load templates from python eggs or packages.  It is constructed with
the name of the python package and the path to the templates in that
package:</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">loader</span> <span class="o">=</span> <span class="n">PackageLoader</span><span class="p">(</span><span class="s">&#39;mypackage&#39;</span><span class="p">,</span> <span class="s">&#39;views&#39;</span><span class="p">)</span>
</pre></div>
<p>If the package path is not given, <tt class="docutils literal"><span class="pre">'templates'</span></tt> is assumed.</p>
<p>Per default the template encoding is <tt class="docutils literal"><span class="pre">'utf-8'</span></tt> which can be changed
by setting the <cite>encoding</cite> parameter to something else.  Due to the nature
of eggs it&#8217;s only possible to reload templates if the package was loaded
from the file system and not a zip file.</p>
</dd></dl>

<dl class="class">
<dt id="jinja2.loaders.DictLoader">
<!--[jinja2.loaders.DictLoader]-->class <tt class="descclassname">jinja2.loaders.</tt><tt class="descname">DictLoader</tt><big>(</big><em>mapping</em><big>)</big><a class="headerlink" href="#jinja2.loaders.DictLoader" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a template from a python dict.  It&#8217;s passed a dict of unicode
strings bound to template names.  This loader is useful for unittesting:</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">loader</span> <span class="o">=</span> <span class="n">DictLoader</span><span class="p">({</span><span class="s">&#39;index.html&#39;</span><span class="p">:</span> <span class="s">&#39;source here&#39;</span><span class="p">})</span>
</pre></div>
<p>Because auto reloading is rarely useful this is disabled per default.</p>
</dd></dl>

<dl class="class">
<dt id="jinja2.loaders.FunctionLoader">
<!--[jinja2.loaders.FunctionLoader]-->class <tt class="descclassname">jinja2.loaders.</tt><tt class="descname">FunctionLoader</tt><big>(</big><em>load_func</em><big>)</big><a class="headerlink" href="#jinja2.loaders.FunctionLoader" title="Permalink to this definition">¶</a></dt>
<dd><p>A loader that is passed a function which does the loading.  The
function becomes the name of the template passed and has to return either
an unicode string with the template source, a tuple in the form <tt class="docutils literal"><span class="pre">(source,</span>
<span class="pre">filename,</span> <span class="pre">uptodatefunc)</span></tt> or <cite>None</cite> if the template does not exist.</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">load_template</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s">&#39;index.html&#39;</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="s">&#39;...&#39;</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">loader</span> <span class="o">=</span> <span class="n">FunctionLoader</span><span class="p">(</span><span class="n">load_template</span><span class="p">)</span>
</pre></div>
<p>The <cite>uptodatefunc</cite> is a function that is called if autoreload is enabled
and has to return <cite>True</cite> if the template is still up to date.  For more
details have a look at <tt class="xref docutils literal"><span class="pre">BaseLoader.get_source()</span></tt> which has the same
return value.</p>
</dd></dl>

<dl class="class">
<dt id="jinja2.loaders.PrefixLoader">
<!--[jinja2.loaders.PrefixLoader]-->class <tt class="descclassname">jinja2.loaders.</tt><tt class="descname">PrefixLoader</tt><big>(</big><em>mapping</em>, <em>delimiter='/'</em><big>)</big><a class="headerlink" href="#jinja2.loaders.PrefixLoader" title="Permalink to this definition">¶</a></dt>
<dd><p>A loader that is passed a dict of loaders where each loader is bound
to a prefix.  The prefix is delimited from the template by a slash per
default, which can be changed by setting the <cite>delimiter</cite> argument to
something else.</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">loader</span> <span class="o">=</span> <span class="n">PrefixLoader</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s">&#39;app1&#39;</span><span class="p">:</span>     <span class="n">PackageLoader</span><span class="p">(</span><span class="s">&#39;mypackage.app1&#39;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="s">&#39;app2&#39;</span><span class="p">:</span>     <span class="n">PackageLoader</span><span class="p">(</span><span class="s">&#39;mypackage.app2&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="p">})</span>
</pre></div>
<p>By loading <tt class="docutils literal"><span class="pre">'app1/index.html'</span></tt> the file from the app1 package is loaded,
by loading <tt class="docutils literal"><span class="pre">'app2/index.html'</span></tt> the file from the second.</p>
</dd></dl>

<dl class="class">
<dt id="jinja2.loaders.ChoiceLoader">
<!--[jinja2.loaders.ChoiceLoader]-->class <tt class="descclassname">jinja2.loaders.</tt><tt class="descname">ChoiceLoader</tt><big>(</big><em>loaders</em><big>)</big><a class="headerlink" href="#jinja2.loaders.ChoiceLoader" title="Permalink to this definition">¶</a></dt>
<dd><p>This loader works like the <cite>PrefixLoader</cite> just that no prefix is
specified.  If a template could not be found by one loader the next one
is tried.</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">loader</span> <span class="o">=</span> <span class="n">ChoiceLoader</span><span class="p">([</span>
<span class="gp">... </span>    <span class="n">FileSystemLoader</span><span class="p">(</span><span class="s">&#39;/path/to/user/templates&#39;</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">PackageLoader</span><span class="p">(</span><span class="s">&#39;myapplication&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="p">])</span>
</pre></div>
<p>This is useful if you want to allow users to override builtin templates
from a different location.</p>
</dd></dl>

</div>
<div class="section">
<h2 id="utilities">Utilities<a class="headerlink" href="#utilities" title="Permalink to this headline">¶</a></h2>
<p>These helper functions and classes are useful if you add custom filters or
functions to a Jinja2 environment.</p>
<dl class="function">
<dt id="jinja2.filters.environmentfilter">
<!--[jinja2.filters.environmentfilter]--><tt class="descclassname">jinja2.filters.</tt><tt class="descname">environmentfilter</tt><big>(</big><em>f</em><big>)</big><a class="headerlink" href="#jinja2.filters.environmentfilter" title="Permalink to this definition">¶</a></dt>
<dd>Decorator for marking evironment dependent filters.  The current
<a title="jinja2.Environment" class="reference" href="#jinja2.Environment"><tt class="xref docutils literal"><span class="pre">Environment</span></tt></a> is passed to the filter as first argument.</dd></dl>

<dl class="function">
<dt id="jinja2.filters.contextfilter">
<!--[jinja2.filters.contextfilter]--><tt class="descclassname">jinja2.filters.</tt><tt class="descname">contextfilter</tt><big>(</big><em>f</em><big>)</big><a class="headerlink" href="#jinja2.filters.contextfilter" title="Permalink to this definition">¶</a></dt>
<dd>Decorator for marking context dependent filters. The current
<tt class="xref docutils literal"><span class="pre">Context</span></tt> will be passed as first argument.</dd></dl>

<dl class="function">
<dt id="jinja2.utils.environmentfunction">
<!--[jinja2.utils.environmentfunction]--><tt class="descclassname">jinja2.utils.</tt><tt class="descname">environmentfunction</tt><big>(</big><em>f</em><big>)</big><a class="headerlink" href="#jinja2.utils.environmentfunction" title="Permalink to this definition">¶</a></dt>
<dd>This decorator can be used to mark a function or method as environment
callable.  This decorator works exactly like the <tt class="xref docutils literal"><span class="pre">contextfunction()</span></tt>
decorator just that the first argument is the active <a title="jinja2.Environment" class="reference" href="#jinja2.Environment"><tt class="xref docutils literal"><span class="pre">Environment</span></tt></a>
and not context.</dd></dl>

<dl class="function">
<dt id="jinja2.utils.contextfunction">
<!--[jinja2.utils.contextfunction]--><tt class="descclassname">jinja2.utils.</tt><tt class="descname">contextfunction</tt><big>(</big><em>f</em><big>)</big><a class="headerlink" href="#jinja2.utils.contextfunction" title="Permalink to this definition">¶</a></dt>
<dd><p>This decorator can be used to mark a function or method context callable.
A context callable is passed the active <tt class="xref docutils literal"><span class="pre">Context</span></tt> as first argument when
called from the template.  This is useful if a function wants to get access
to the context or functions provided on the context object.  For example
a function that returns a sorted list of template variables the current
template exports could look like this:</p>
<div class="highlight"><pre><span class="nd">@contextfunction</span>
<span class="k">def</span> <span class="nf">get_exported_names</span><span class="p">(</span><span class="n">context</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">sorted</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">exported_vars</span><span class="p">)</span>
</pre></div>
</dd></dl>

<dl class="function">
<dt id="jinja2.escape">
<!--[jinja2.escape]--><tt class="descclassname">jinja2.</tt><tt class="descname">escape</tt><big>(</big><em>s</em><big>)</big><a class="headerlink" href="#jinja2.escape" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the characters <tt class="docutils literal"><span class="pre">&amp;</span></tt>, <tt class="docutils literal"><span class="pre">&lt;</span></tt>, <tt class="docutils literal"><span class="pre">&gt;</span></tt>, <tt class="docutils literal"><span class="pre">'</span></tt>, and <tt class="docutils literal"><span class="pre">&quot;</span></tt> in string <cite>s</cite>
to HTML-safe sequences.  Use this if you need to display text that might
contain such characters in HTML.  This function will not escaped objects
that do have an HTML representation such as already escaped data.</p>
<p>The return value is a <tt class="xref docutils literal"><span class="pre">Markup</span></tt> string.</p>
</dd></dl>

<dl class="function">
<dt id="jinja2.utils.clear_caches">
<!--[jinja2.utils.clear_caches]--><tt class="descclassname">jinja2.utils.</tt><tt class="descname">clear_caches</tt><big>(</big><big>)</big><a class="headerlink" href="#jinja2.utils.clear_caches" title="Permalink to this definition">¶</a></dt>
<dd>Jinja2 keeps internal caches for environments and lexers.  These are
used so that Jinja2 doesn&#8217;t have to recreate environments and lexers all
the time.  Normally you don&#8217;t have to care about that but if you are
messuring memory consumption you may want to clean the caches.</dd></dl>

<dl class="function">
<dt id="jinja2.utils.is_undefined">
<!--[jinja2.utils.is_undefined]--><tt class="descclassname">jinja2.utils.</tt><tt class="descname">is_undefined</tt><big>(</big><em>obj</em><big>)</big><a class="headerlink" href="#jinja2.utils.is_undefined" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the object passed is undefined.  This does nothing more than
performing an instance check against <tt class="xref docutils literal"><span class="pre">Undefined</span></tt> but looks nicer.
This can be used for custom filters or tests that want to react to
undefined variables.  For example a custom default filter can look like
this:</p>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="n">var</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">is_undefined</span><span class="p">(</span><span class="n">var</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">default</span>
    <span class="k">return</span> <span class="n">var</span>
</pre></div>
</dd></dl>

<dl class="class">
<dt id="jinja2.utils.Markup">
<!--[jinja2.utils.Markup]-->class <tt class="descclassname">jinja2.utils.</tt><tt class="descname">Markup</tt><big>(</big><span class="optional">[</span><em>string</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#jinja2.utils.Markup" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks a string as being safe for inclusion in HTML/XML output without
needing to be escaped.  This implements the <cite>__html__</cite> interface a couple
of frameworks and web applications use.  <tt class="xref docutils literal"><span class="pre">Markup</span></tt> is a direct
subclass of <cite>unicode</cite> and provides all the methods of <cite>unicode</cite> just that
it escapes arguments passed and always returns <cite>Markup</cite>.</p>
<p>The <cite>escape</cite> function returns markup objects so that double escaping can&#8217;t
happen.  If you want to use autoescaping in Jinja just set the finalizer
of the environment to <cite>escape</cite>.</p>
<p>The constructor of the <tt class="xref docutils literal"><span class="pre">Markup</span></tt> class can be used for three
different things:  When passed an unicode object it&#8217;s assumed to be safe,
when passed an object with an HTML representation (has an <cite>__html__</cite>
method) that representation is used, otherwise the object passed is
converted into a unicode string and then assumed to be safe:</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Markup</span><span class="p">(</span><span class="s">&quot;Hello &lt;em&gt;World&lt;/em&gt;!&quot;</span><span class="p">)</span>
<span class="go">Markup(u&#39;Hello &lt;em&gt;World&lt;/em&gt;!&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Foo</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">... </span> <span class="k">def</span> <span class="nf">__html__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>  <span class="k">return</span> <span class="s">&#39;&lt;a href=&quot;#&quot;&gt;foo&lt;/a&gt;&#39;</span>
<span class="gp">... </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Markup</span><span class="p">(</span><span class="n">Foo</span><span class="p">())</span>
<span class="go">Markup(u&#39;&lt;a href=&quot;#&quot;&gt;foo&lt;/a&gt;&#39;)</span>
</pre></div>
<p>If you want object passed being always treated as unsafe you can use the
<a title="escape" class="reference" href="templates.html#escape"><tt class="xref docutils literal"><span class="pre">escape()</span></tt></a> classmethod to create a <tt class="xref docutils literal"><span class="pre">Markup</span></tt> object:</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Markup</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="s">&quot;Hello &lt;em&gt;World&lt;/em&gt;!&quot;</span><span class="p">)</span>
<span class="go">Markup(u&#39;Hello &amp;lt;em&amp;gt;World&amp;lt;/em&amp;gt;!&#39;)</span>
</pre></div>
<p>Operations on a markup string are markup aware which means that all
arguments are passed through the <a title="escape" class="reference" href="templates.html#escape"><tt class="xref docutils literal"><span class="pre">escape()</span></tt></a> function:</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">em</span> <span class="o">=</span> <span class="n">Markup</span><span class="p">(</span><span class="s">&quot;&lt;em&gt;</span><span class="si">%s</span><span class="s">&lt;/em&gt;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">em</span> <span class="o">%</span> <span class="s">&quot;foo &amp; bar&quot;</span>
<span class="go">Markup(u&#39;&lt;em&gt;foo &amp;amp; bar&lt;/em&gt;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">strong</span> <span class="o">=</span> <span class="n">Markup</span><span class="p">(</span><span class="s">&quot;&lt;strong&gt;</span><span class="si">%(text)s</span><span class="s">&lt;/strong&gt;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">strong</span> <span class="o">%</span> <span class="p">{</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;&lt;blink&gt;hacker here&lt;/blink&gt;&#39;</span><span class="p">}</span>
<span class="go">Markup(u&#39;&lt;strong&gt;&amp;lt;blink&amp;gt;hacker here&amp;lt;/blink&amp;gt;&lt;/strong&gt;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Markup</span><span class="p">(</span><span class="s">&quot;&lt;em&gt;Hello&lt;/em&gt; &quot;</span><span class="p">)</span> <span class="o">+</span> <span class="s">&quot;&lt;foo&gt;&quot;</span>
<span class="go">Markup(u&#39;&lt;em&gt;Hello&lt;/em&gt; &amp;lt;foo&amp;gt;&#39;)</span>
</pre></div>
<dl class="method">
<dt id="jinja2.utils.Markup.escape">
<!--[jinja2.utils.Markup.escape]--><tt class="descname">escape</tt><big>(</big><em>cls</em>, <em>s</em><big>)</big><a class="headerlink" href="#jinja2.utils.Markup.escape" title="Permalink to this definition">¶</a></dt>
<dd>Escape the string.  Works like <a title="escape" class="reference" href="templates.html#escape"><tt class="xref docutils literal"><span class="pre">escape()</span></tt></a> with the difference
that for subclasses of <tt class="xref docutils literal"><span class="pre">Markup</span></tt> this function would return the
correct subclass.</dd></dl>

<dl class="method">
<dt id="jinja2.utils.Markup.unescape">
<!--[jinja2.utils.Markup.unescape]--><tt class="descname">unescape</tt><big>(</big><big>)</big><a class="headerlink" href="#jinja2.utils.Markup.unescape" title="Permalink to this definition">¶</a></dt>
<dd><p>Unescape markup again into an unicode string.  This also resolves
known HTML4 and XHTML entities:</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Markup</span><span class="p">(</span><span class="s">&quot;Main &amp;raquo; &lt;em&gt;About&lt;/em&gt;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">unescape</span><span class="p">()</span>
<span class="go">u&#39;Main \xbb &lt;em&gt;About&lt;/em&gt;&#39;</span>
</pre></div>
</dd></dl>

<dl class="method">
<dt id="jinja2.utils.Markup.striptags">
<!--[jinja2.utils.Markup.striptags]--><tt class="descname">striptags</tt><big>(</big><big>)</big><a class="headerlink" href="#jinja2.utils.Markup.striptags" title="Permalink to this definition">¶</a></dt>
<dd><p>Unescape markup into an unicode string and strip all tags.  This
also resolves known HTML4 and XHTML entities.  Whitespace is
normalized to one:</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">Markup</span><span class="p">(</span><span class="s">&quot;Main &amp;raquo;  &lt;em&gt;About&lt;/em&gt;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">striptags</span><span class="p">()</span>
<span class="go">u&#39;Main \xbb About&#39;</span>
</pre></div>
</dd></dl>

</dd></dl>

<div class="admonition-note admonition ">
<p class="first admonition-title">Note</p>
<p class="last">The Jinja2 <tt class="xref docutils literal"><span class="pre">Markup</span></tt> class is compatible with at least Pylons and
Genshi.  It&#8217;s expected that more template engines and framework will pick
up the <cite>__html__</cite> concept soon.</p>
</div>
</div>
<div class="section">
<h2 id="exceptions">Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this headline">¶</a></h2>
<dl class="exception">
<dt id="jinja2.exceptions.TemplateError">
<!--[jinja2.exceptions.TemplateError]-->exception <tt class="descclassname">jinja2.exceptions.</tt><tt class="descname">TemplateError</tt><a class="headerlink" href="#jinja2.exceptions.TemplateError" title="Permalink to this definition">¶</a></dt>
<dd>Baseclass for all template errors.</dd></dl>

<dl class="exception">
<dt id="jinja2.exceptions.UndefinedError">
<!--[jinja2.exceptions.UndefinedError]-->exception <tt class="descclassname">jinja2.exceptions.</tt><tt class="descname">UndefinedError</tt><a class="headerlink" href="#jinja2.exceptions.UndefinedError" title="Permalink to this definition">¶</a></dt>
<dd>Raised if a template tries to operate on <tt class="xref docutils literal"><span class="pre">Undefined</span></tt>.</dd></dl>

<dl class="exception">
<dt id="jinja2.exceptions.TemplateNotFound">
<!--[jinja2.exceptions.TemplateNotFound]-->exception <tt class="descclassname">jinja2.exceptions.</tt><tt class="descname">TemplateNotFound</tt><a class="headerlink" href="#jinja2.exceptions.TemplateNotFound" title="Permalink to this definition">¶</a></dt>
<dd>Raised if a template does not exist.</dd></dl>

<dl class="exception">
<dt id="jinja2.exceptions.TemplateSyntaxError">
<!--[jinja2.exceptions.TemplateSyntaxError]-->exception <tt class="descclassname">jinja2.exceptions.</tt><tt class="descname">TemplateSyntaxError</tt><a class="headerlink" href="#jinja2.exceptions.TemplateSyntaxError" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised to tell the user that there is a problem with the template.</p>
<dl class="attribute">
<dt id="jinja2.TemplateSyntaxError.message">
<!--[jinja2.TemplateSyntaxError.message]--><tt class="descname">message</tt><a class="headerlink" href="#jinja2.TemplateSyntaxError.message" title="Permalink to this definition">¶</a></dt>
<dd>The error message as utf-8 bytestring.</dd></dl>

<dl class="attribute">
<dt id="jinja2.TemplateSyntaxError.lineno">
<!--[jinja2.TemplateSyntaxError.lineno]--><tt class="descname">lineno</tt><a class="headerlink" href="#jinja2.TemplateSyntaxError.lineno" title="Permalink to this definition">¶</a></dt>
<dd>The line number where the error occurred</dd></dl>

<dl class="attribute">
<dt id="jinja2.TemplateSyntaxError.name">
<!--[jinja2.TemplateSyntaxError.name]--><tt class="descname">name</tt><a class="headerlink" href="#jinja2.TemplateSyntaxError.name" title="Permalink to this definition">¶</a></dt>
<dd>The load name for the template as unicode string.</dd></dl>

<dl class="attribute">
<dt id="jinja2.TemplateSyntaxError.filename">
<!--[jinja2.TemplateSyntaxError.filename]--><tt class="descname">filename</tt><a class="headerlink" href="#jinja2.TemplateSyntaxError.filename" title="Permalink to this definition">¶</a></dt>
<dd>The filename that loaded the template as bytestring in the encoding
of the file system (most likely utf-8 or mbcs on Windows systems).</dd></dl>

<p>The reason why the filename and error message are bytestrings and not
unicode strings is that Python 2.x is not using unicode for exceptions
and tracebacks as well as the compiler.  This will change with Python 3.</p>
</dd></dl>

<dl class="exception">
<dt id="jinja2.exceptions.TemplateAssertionError">
<!--[jinja2.exceptions.TemplateAssertionError]-->exception <tt class="descclassname">jinja2.exceptions.</tt><tt class="descname">TemplateAssertionError</tt><a class="headerlink" href="#jinja2.exceptions.TemplateAssertionError" title="Permalink to this definition">¶</a></dt>
<dd>Like a template syntax error, but covers cases where something in the
template caused an error at compile time that wasn&#8217;t necessarily caused
by a syntax error.  However it&#8217;s a direct subclass of
<tt class="xref docutils literal"><span class="pre">TemplateSyntaxError</span></tt> and has the same attributes.</dd></dl>

</div>
<div class="section">
<h2 id="custom-filters"><span id="writing-filters"></span>Custom Filters<a class="headerlink" href="#custom-filters" title="Permalink to this headline">¶</a></h2>
<p>Custom filters are just regular Python functions that take the left side of
the filter as first argument and the the arguments passed to the filter as
extra arguments or keyword arguments.</p>
<p>For example in the filter <tt class="docutils literal"><span class="pre">{{</span> <span class="pre">42|myfilter(23)</span> <span class="pre">}}</span></tt> the function would be
called with <tt class="docutils literal"><span class="pre">myfilter(42,</span> <span class="pre">23)</span></tt>.  Here for example a simple filter that can
be applied to datetime objects to format them:</p>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">datetimeformat</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">format</span><span class="o">=</span><span class="s">&#39;%H:%M / </span><span class="si">%d</span><span class="s">-%m-%Y&#39;</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">value</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="n">format</span><span class="p">)</span>
</pre></div>
<p>You can register it on the template environment by updating the
<a title="jinja2.Environment.filters" class="reference" href="#jinja2.Environment.filters"><tt class="xref docutils literal"><span class="pre">filters</span></tt></a> dict on the environment:</p>
<div class="highlight"><pre><span class="n">environment</span><span class="o">.</span><span class="n">filters</span><span class="p">[</span><span class="s">&#39;datetimeformat&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datetimeformat</span>
</pre></div>
<p>Inside the template it can then be used as follows:</p>
<div class="highlight"><pre><span class="x">written on: </span><span class="cp">{{</span> <span class="nv">article.pub_date</span><span class="o">|</span><span class="nf">datetimeformat</span> <span class="cp">}}</span><span class="x"></span>
<span class="x">publication date: </span><span class="cp">{{</span> <span class="nv">article.pub_date</span><span class="o">|</span><span class="nf">datetimeformat</span><span class="o">(</span><span class="s1">&#39;%d-%m-%Y&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
<p>Filters can also be passed the current template context or environment.  This
is useful if a filters wants to return an undefined value or check the current
<tt class="xref docutils literal"><span class="pre">autoescape</span></tt> setting.  For this purpose two decorators
exist: <tt class="xref docutils literal"><span class="pre">environmentfilter()</span></tt> and <tt class="xref docutils literal"><span class="pre">contextfilter()</span></tt>.</p>
<p>Here a small example filter that breaks a text into HTML line breaks and
paragraphs and marks the return value as safe HTML string if autoescaping is
enabled:</p>
<div class="highlight"><pre><span class="k">import</span> <span class="nn">re</span>
<span class="k">from</span> <span class="nn">jinja2</span> <span class="k">import</span> <span class="n">environmentfilter</span><span class="p">,</span> <span class="n">Markup</span><span class="p">,</span> <span class="n">escape</span>

<span class="n">_paragraph_re</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s">r&#39;(?:\r\n|\r|\n){2,}&#39;</span><span class="p">)</span>

<span class="nd">@environmentfilter</span>
<span class="k">def</span> <span class="nf">nl2br</span><span class="p">(</span><span class="n">environment</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="s">u&#39;</span><span class="se">\n\n</span><span class="s">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s">u&#39;&lt;p&gt;</span><span class="si">%s</span><span class="s">&lt;/p&gt;&#39;</span> <span class="o">%</span> <span class="n">p</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">,</span> <span class="s">&#39;&lt;br&gt;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
                          <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">_paragraph_re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">escape</span><span class="p">(</span><span class="n">value</span><span class="p">)))</span>
    <span class="k">if</span> <span class="n">environment</span><span class="o">.</span><span class="n">autoescape</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">Markup</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</pre></div>
<p>Context filters work the same just that the first argument is the current
active <tt class="xref docutils literal"><span class="pre">Context</span></tt> rather then the environment.</p>
</div>
<div class="section">
<h2 id="custom-tests"><span id="writing-tests"></span>Custom Tests<a class="headerlink" href="#custom-tests" title="Permalink to this headline">¶</a></h2>
<p>Tests work like filters just that there is no way for a filter to get access
to the environment or context and that they can&#8217;t be chained.  The return
value of a filter should be <cite>True</cite> or <cite>False</cite>.  The purpose of a filter is to
give the template designers the possibility to perform type and conformability
checks.</p>
<p>Here a simple filter that checks if a variable is a prime number:</p>
<div class="highlight"><pre><span class="k">import</span> <span class="nn">math</span>

<span class="k">def</span> <span class="nf">is_prime</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mf">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">True</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mf">2</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">n</span><span class="p">)))</span> <span class="o">+</span> <span class="mf">1</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="mf">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span>
    <span class="k">return</span> <span class="bp">True</span>
</pre></div>
<p>You can register it on the template environment by updating the
<a title="jinja2.Environment.tests" class="reference" href="#jinja2.Environment.tests"><tt class="xref docutils literal"><span class="pre">tests</span></tt></a> dict on the environment:</p>
<div class="highlight"><pre><span class="n">environment</span><span class="o">.</span><span class="n">tests</span><span class="p">[</span><span class="s">&#39;prime&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">is_prime</span>
</pre></div>
<p>A template designer can then use the test like this:</p>
<div class="highlight"><pre><span class="cp">{%</span> <span class="k">if</span> <span class="m">42</span> <span class="k">is</span> <span class="nf">prime</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    42 is a prime number</span>
<span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">    42 is not a prime number</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span><span class="x"></span>
</pre></div>
</div>
<div class="section">
<h2 id="the-global-namespace"><span id="global-namespace"></span>The Global Namespace<a class="headerlink" href="#the-global-namespace" title="Permalink to this headline">¶</a></h2>
<p>Variables stored in the <a title="jinja2.Environment.globals" class="reference" href="#jinja2.Environment.globals"><tt class="xref docutils literal"><span class="pre">Environment.globals</span></tt></a> dict are special as they
are available for imported templates too, even if they are imported without
context.  This is the place where you can put variables and functions
that should be available all the time.  Additionally <a title="jinja2.Template.globals" class="reference" href="#jinja2.Template.globals"><tt class="xref docutils literal"><span class="pre">Template.globals</span></tt></a>
exist that are variables available to a specific template that are available
to all <a title="jinja2.Template.render" class="reference" href="#jinja2.Template.render"><tt class="xref docutils literal"><span class="pre">render()</span></tt></a> calls.</p>
</div>
<div class="section">
<h2 id="id2"><span id="low-level-api"></span>Low Level API<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>The low level API exposes functionality that can be useful to understand some
implementation details, debugging purposes or advanced <a class="reference" href="extensions.html#jinja-extensions"><em>extension</em></a> techniques.  Unless you know exactly what you are doing we
don&#8217;t recommend using any of those.</p>
<dl class="method">
<dt id="jinja2.Environment.lex">
<!--[jinja2.Environment.lex]--><tt class="descclassname">Environment.</tt><tt class="descname">lex</tt><big>(</big><em>source</em>, <em>name=None</em>, <em>filename=None</em><big>)</big><a class="headerlink" href="#jinja2.Environment.lex" title="Permalink to this definition">¶</a></dt>
<dd>Lex the given sourcecode and return a generator that yields
tokens as tuples in the form <tt class="docutils literal"><span class="pre">(lineno,</span> <span class="pre">token_type,</span> <span class="pre">value)</span></tt>.
This can be useful for <a class="reference" href="extensions.html#writing-extensions"><em>extension development</em></a>
and debugging templates.</dd></dl>

<dl class="method">
<dt id="jinja2.Environment.parse">
<!--[jinja2.Environment.parse]--><tt class="descclassname">Environment.</tt><tt class="descname">parse</tt><big>(</big><em>source</em>, <em>name=None</em>, <em>filename=None</em><big>)</big><a class="headerlink" href="#jinja2.Environment.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the sourcecode and return the abstract syntax tree.  This
tree of nodes is used by the compiler to convert the template into
executable source- or bytecode.  This is useful for debugging or to
extract information from templates.</p>
<p>If you are <a class="reference" href="extensions.html#writing-extensions"><em>developing Jinja2 extensions</em></a>
this gives you a good overview of the node tree generated.</p>
</dd></dl>

<dl class="method">
<dt id="jinja2.Template.new_context">
<!--[jinja2.Template.new_context]--><tt class="descclassname">Template.</tt><tt class="descname">new_context</tt><big>(</big><em>vars=None</em>, <em>shared=False</em><big>)</big><a class="headerlink" href="#jinja2.Template.new_context" title="Permalink to this definition">¶</a></dt>
<dd>Create a new <tt class="xref docutils literal"><span class="pre">Context</span></tt> for this template.  The vars
provided will be passed to the template.  Per default the globals
are added to the context, if shared is set to <cite>True</cite> the data
provided is used as parent namespace.  This is used to share the
same globals in multiple contexts without consuming more memory.
(This works because the context does not modify the parent dict)</dd></dl>

<dl class="method">
<dt id="jinja2.Template.root_render_func">
<!--[jinja2.Template.root_render_func]--><tt class="descclassname">Template.</tt><tt class="descname">root_render_func</tt><big>(</big><em>context</em><big>)</big><a class="headerlink" href="#jinja2.Template.root_render_func" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the low level render function.  It&#8217;s passed a <tt class="xref docutils literal"><span class="pre">Context</span></tt>
that has to be created by <a title="jinja2.Template.new_context" class="reference" href="#jinja2.Template.new_context"><tt class="xref docutils literal"><span class="pre">new_context()</span></tt></a> of the same template or
a compatible template.  This render function is generated by the
compiler from the template code and returns a generator that yields
unicode strings.</p>
<p>If an exception in the template code happens the template engine will
not rewrite the exception but pass through the original one.  As a
matter of fact this function should only be called from within a
<a title="jinja2.Template.render" class="reference" href="#jinja2.Template.render"><tt class="xref docutils literal"><span class="pre">render()</span></tt></a> / <a title="jinja2.Template.generate" class="reference" href="#jinja2.Template.generate"><tt class="xref docutils literal"><span class="pre">generate()</span></tt></a> / <a title="jinja2.Template.stream" class="reference" href="#jinja2.Template.stream"><tt class="xref docutils literal"><span class="pre">stream()</span></tt></a> call.</p>
</dd></dl>

<dl class="attribute">
<dt id="jinja2.Template.blocks">
<!--[jinja2.Template.blocks]--><tt class="descclassname">Template.</tt><tt class="descname">blocks</tt><a class="headerlink" href="#jinja2.Template.blocks" title="Permalink to this definition">¶</a></dt>
<dd>A dict of block render functions.  Each of these functions works exactly
like the <a title="jinja2.Template.root_render_func" class="reference" href="#jinja2.Template.root_render_func"><tt class="xref docutils literal"><span class="pre">root_render_func()</span></tt></a> with the same limitations.</dd></dl>

<dl class="attribute">
<dt id="jinja2.Template.is_up_to_date">
<!--[jinja2.Template.is_up_to_date]--><tt class="descclassname">Template.</tt><tt class="descname">is_up_to_date</tt><a class="headerlink" href="#jinja2.Template.is_up_to_date" title="Permalink to this definition">¶</a></dt>
<dd>This attribute is <cite>False</cite> if there is a newer version of the template
available, otherwise <cite>True</cite>.</dd></dl>

<div class="admonition-note admonition ">
<p class="first admonition-title">Note</p>
<p class="last">The low-level API is fragile.  Future Jinja2 versions will try not to
change it in a backwards incompatible way but modifications in the Jinja2
core may shine through.  For example if Jinja2 introduces a new AST node
in later versions that may be returned by <a title="jinja2.Environment.parse" class="reference" href="#jinja2.Environment.parse"><tt class="xref docutils literal"><span class="pre">parse()</span></tt></a>.</p>
</div>
</div>
</div>


      </div>
    </div>
    <div class="footer">
      © Copyright 2008 by the <a href="http://pocoo.org/">Pocoo Team</a>,
      documentation generated by <a href="http://sphinx.pocoo.org/">Sphinx</a>
    </div>
  </body>
</html>