<dl class="portlet portletFacetNavigation"
    i18n:domain="collective.portlet.facet"
    tal:define="facets view/facets">

        <dt class="portletHeader"
            tal:condition="view/title"
            tal:content="view/title">
            Title
        </dt>
        
	<tal:show_search condition="view/data/show_search">
        <dd class="portletItem">
	        Search
	    </dd>
	    <dd class="portletItem">
	
	        <form tal:attributes="action python: '%s?%s' % (view.link_base_url, view.query_link())">
	            <input
	                tal:attributes="value view/query/SearchableText|nothing"
	                id="searchFacetField"
	                type="text"
	                name="SearchableText"
	                 />
	            <input
	                type="submit"
	                class="search"
	                value="Facet search"
	                id="searchFacetSubmit"
	                />
	            <tal:comment condition="nothing">
	                Searching clears all facets. This is an okay behaviour.
	                If you want to change it, include the facets as hidden form items.
	            </tal:comment>
	        </form>
	    </dd>
	</tal:show_search>
	
	<tal:iterate repeat="facet facets">
	
        <dd class="portletItem"
	        tal:content="python:view.friendly_name(facet.title)"
	        tal:attributes="id python:view.normalize_css('facetHeader-%s' % facet.title)">
	        Facet title
	    </dd>
	
	    <dd class="portletItem">
	    
	    <tal:iterterms repeat="term facet/terms">
	        <div tal:define="weight python: facet.weight.get(term);
	                         oddrow repeat/term/odd;"
	             tal:condition="python: not view.data.show_zero and weight or view.data.show_zero"
	             tal:attributes="class python: oddrow and 'facet-term odd' or 'facet-term even';">
	            <a tal:content="term"
	               tal:attributes="href python:view.link_for_term(facet.title, term);
	                               id python:view.normalize_css('facet-%s--%s' % (facet.title, term));
	                               class python:view.is_selected_term(facet.title,term) and 'selected' or ''">
	                Term
	            </a>
	            <span class="term-weight">(<span tal:replace="weight">12</span>)</span>
	        </div>
	    </tal:iterterms>
	
	</tal:iterate>
</dl>
